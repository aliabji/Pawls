{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _excluded = [\"style\", \"placeholderTextColor\", \"multiline\", \"numberOfLines\", \"expandable\", \"rightIconSource\", \"color\", \"placeholder\", \"helperText\"],\n    _excluded2 = [\"lineHeight\"],\n    _excluded3 = [\"style\", \"iconSource\", \"iconColor\", \"accessibilityLabel\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport RNTextInput from \"react-native-web/dist/exports/TextInput\";\nimport RNImage from \"react-native-web/dist/exports/Image\";\nimport memoize from 'memoize-one';\nimport { Constants } from \"../../commons/new\";\nimport { Colors, Typography, Spacings } from \"../../style\";\nimport BaseInput from \"../baseInput\";\nimport Modal from \"../modal\";\nimport TextArea from \"../textArea\";\nimport View from \"../view\";\nimport Image from \"../image\";\nimport Text from \"../text\";\nimport TouchableOpacity from \"../touchableOpacity\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar COLOR_BY_STATE = {\n  default: Colors.grey10,\n  focus: Colors.grey10,\n  error: Colors.grey10,\n  disabled: Colors.grey50\n};\nvar UNDERLINE_COLOR_BY_STATE = {\n  default: Colors.grey50,\n  focus: Colors.primary,\n  error: Colors.red30\n};\nvar PLACEHOLDER_COLOR_BY_STATE = {\n  default: Colors.grey30,\n  focus: Colors.primary\n};\nvar CHAR_COUNTER_COLOR_BY_STATE = {\n  default: Colors.grey30,\n  error: Colors.red30\n};\nvar LABEL_TYPOGRAPHY = Typography.text80;\nvar ICON_SIZE = 24;\nvar ICON_LEFT_PADDING = 6;\nvar FLOATING_PLACEHOLDER_SCALE = 0.875;\n\nvar TextField = function (_BaseInput) {\n  _inherits(TextField, _BaseInput);\n\n  var _super = _createSuper(TextField);\n\n  function TextField(props) {\n    var _this;\n\n    _classCallCheck(this, TextField);\n\n    _this = _super.call(this, props);\n\n    _this.onPlaceholderLayout = function (event) {\n      var width = event.nativeEvent.layout.width;\n      var translate = width / 2 - width * FLOATING_PLACEHOLDER_SCALE / 2;\n\n      _this.setState({\n        floatingPlaceholderTranslate: translate / FLOATING_PLACEHOLDER_SCALE\n      });\n    };\n\n    _this.toggleExpandableModal = function (value) {\n      _this.setState({\n        showExpandableModal: value\n      });\n\n      _.invoke(_this.props, 'onToggleExpandableModal', value);\n    };\n\n    _this.updateFloatingPlaceholderState = function (withoutAnimation) {\n      if (withoutAnimation) {\n        _this.state.floatingPlaceholderState.setValue(_this.shouldFloatPlaceholder() ? 1 : 0);\n      } else {\n        Animated.spring(_this.state.floatingPlaceholderState, {\n          toValue: _this.shouldFloatPlaceholder() ? 1 : 0,\n          duration: 150,\n          useNativeDriver: true\n        }).start();\n      }\n    };\n\n    _this.getPlaceholderText = memoize(function (placeholder, helperText) {\n      var text = _this.shouldFakePlaceholder() ? _this.shouldShowHelperText() ? helperText : ' ' : _this.shouldShowTopError() && _this.shouldShowHelperText() ? helperText : _this.getRequiredPlaceholder(placeholder);\n      return text;\n    });\n\n    _this.onPressRightButton = function () {\n      _.invoke(_this.props, 'rightButtonProps.onPress');\n    };\n\n    _this.onDoneEditingExpandableInput = function () {\n      var expandableInputValue = _.get(_this.expandableInput, 'state.value');\n\n      _this.setState({\n        value: expandableInputValue\n      });\n\n      _this.state.floatingPlaceholderState.setValue(expandableInputValue ? 1 : 0);\n\n      _.invoke(_this.props, 'onChangeText', expandableInputValue);\n\n      _this.toggleExpandableModal(false);\n    };\n\n    _this.onKeyPress = function (event) {\n      _this.lastKey = event.nativeEvent.key;\n\n      _this.setCharCountColor(_this.lastKey);\n\n      _.invoke(_this.props, 'onKeyPress', event);\n    };\n\n    _this.onChangeText = function (text) {\n      if (text === '' && _this.lastKey && _this.lastKey !== Constants.backspaceKey) {\n        return;\n      }\n\n      var _this$props = _this.props,\n          transformer = _this$props.transformer,\n          validateOnChange = _this$props.validateOnChange;\n      var transformedText = text;\n\n      if (_.isFunction(transformer)) {\n        transformedText = transformer(text);\n      }\n\n      _.invoke(_this.props, 'onChangeText', transformedText);\n\n      _this.setState({\n        value: transformedText\n      }, function () {\n        if (validateOnChange) {\n          setImmediate(_this.validate);\n        }\n      });\n    };\n\n    _this.state = _objectSpread(_objectSpread({}, _this.state), {}, {\n      value: props.value,\n      floatingPlaceholderState: new Animated.Value(_this.shouldFloatPlaceholder(props.value) ? 1 : 0),\n      showExpandableModal: false,\n      floatingPlaceholderTranslate: 0,\n      charCountColor: CHAR_COUNTER_COLOR_BY_STATE.default\n    });\n\n    _this.generatePropsWarnings(props);\n\n    return _this;\n  }\n\n  _createClass(TextField, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      if (nextProps.value !== this.props.value) {\n        this.setState({\n          value: nextProps.value\n        }, function () {\n          _this2.updateFloatingPlaceholderState();\n\n          if (nextProps.validateOnChange) {\n            _this2.validate();\n          }\n        });\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(_prevProps, prevState) {\n      if (_.isEmpty(prevState.value) !== _.isEmpty(this.state.value) || prevState.focused !== this.state.focused) {\n        this.updateFloatingPlaceholderState();\n      }\n    }\n  }, {\n    key: \"generatePropsWarnings\",\n    value: function generatePropsWarnings(props) {\n      if (props.maxLength === 0) {\n        console.warn('Setting maxLength to zero will block typing in this input');\n      }\n\n      if (props.showCharacterCounter && !props.maxLength) {\n        console.warn('In order to use showCharacterCount please pass \\'maxLength\\' prop');\n      }\n    }\n  }, {\n    key: \"generateStyles\",\n    value: function generateStyles() {\n      this.styles = createStyles(this.getThemeProps(), this.getTopPaddings());\n    }\n  }, {\n    key: \"getAccessibilityInfo\",\n    value: function getAccessibilityInfo() {\n      var _this$getThemeProps = this.getThemeProps(),\n          floatingPlaceholder = _this$getThemeProps.floatingPlaceholder,\n          placeholder = _this$getThemeProps.placeholder;\n\n      var accessibilityState = this.isDisabled() ? {\n        disabled: true\n      } : undefined;\n      var accessibilityLabel = floatingPlaceholder ? this.props.accessibilityLabel || placeholder : '';\n\n      if (this.isRequiredField()) {\n        accessibilityLabel = accessibilityLabel + \". Mandatory\";\n      }\n\n      return {\n        accessibilityLabel: accessibilityLabel,\n        accessibilityState: Constants.isIOS ? accessibilityState : undefined\n      };\n    }\n  }, {\n    key: \"getStateColor\",\n    value: function getStateColor() {\n      var colorProp = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var focused = this.state.focused;\n      var error = this.getErrorMessage();\n\n      var _this$getThemeProps2 = this.getThemeProps(),\n          disabledColor = _this$getThemeProps2.disabledColor;\n\n      if (_.isString(colorProp)) {\n        return colorProp || Colors.grey10;\n      } else if (_.isPlainObject(colorProp)) {\n        var mergedColorState = _objectSpread(_objectSpread({}, COLOR_BY_STATE), colorProp);\n\n        if (this.isDisabled()) {\n          return disabledColor || mergedColorState.disabled;\n        } else if (error) {\n          return mergedColorState.error;\n        } else if (focused) {\n          return mergedColorState.focus;\n        } else {\n          return mergedColorState.default;\n        }\n      }\n\n      return colorProp || Colors.grey10;\n    }\n  }, {\n    key: \"getCharCount\",\n    value: function getCharCount() {\n      var value = this.state.value;\n\n      if (value) {\n        return value.length;\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"setCharCountColor\",\n    value: function setCharCountColor(key) {\n      this.maxReached = key === Constants.backspaceKey ? false : this.isCounterLimit();\n      var color = this.state.focused && this.maxReached ? CHAR_COUNTER_COLOR_BY_STATE.error : CHAR_COUNTER_COLOR_BY_STATE.default;\n\n      if (color !== this.state.charCountColor) {\n        this.setState({\n          charCountColor: color\n        });\n      }\n    }\n  }, {\n    key: \"getCharCountColor\",\n    value: function getCharCountColor() {\n      var charCountColor = this.state.charCountColor;\n\n      var _this$getThemeProps3 = this.getThemeProps(),\n          disabledColor = _this$getThemeProps3.disabledColor;\n\n      return this.isDisabled() && disabledColor ? disabledColor : charCountColor;\n    }\n  }, {\n    key: \"getTopPaddings\",\n    value: function getTopPaddings() {\n      return this.shouldFakePlaceholder() ? this.shouldShowTopError() ? undefined : 25 : undefined;\n    }\n  }, {\n    key: \"getTopErrorsPosition\",\n    value: function getTopErrorsPosition() {\n      return !this.props.title && this.shouldShowTopError() ? {\n        top: Constants.isIOS ? -25 : -27\n      } : undefined;\n    }\n  }, {\n    key: \"isDisabled\",\n    value: function isDisabled() {\n      return this.props.editable === false;\n    }\n  }, {\n    key: \"isCounterLimit\",\n    value: function isCounterLimit() {\n      var _this$getThemeProps4 = this.getThemeProps(),\n          maxLength = _this$getThemeProps4.maxLength;\n\n      var counter = this.getCharCount();\n      return counter === 0 ? false : maxLength <= counter;\n    }\n  }, {\n    key: \"hasText\",\n    value: function hasText(value) {\n      return !_.isEmpty(value || this.state.value);\n    }\n  }, {\n    key: \"shouldShowHelperText\",\n    value: function shouldShowHelperText() {\n      var focused = this.state.focused;\n      var helperText = this.props.helperText;\n      return focused && helperText;\n    }\n  }, {\n    key: \"shouldFloatOnFocus\",\n    value: function shouldFloatOnFocus() {\n      var focused = this.state.focused;\n\n      var _this$getThemeProps5 = this.getThemeProps(),\n          floatOnFocus = _this$getThemeProps5.floatOnFocus;\n\n      return focused && floatOnFocus;\n    }\n  }, {\n    key: \"shouldFloatPlaceholder\",\n    value: function shouldFloatPlaceholder(text) {\n      return this.hasText(text) || this.shouldShowHelperText() || this.shouldFloatOnFocus();\n    }\n  }, {\n    key: \"shouldFakePlaceholder\",\n    value: function shouldFakePlaceholder() {\n      var _this$getThemeProps6 = this.getThemeProps(),\n          floatingPlaceholder = _this$getThemeProps6.floatingPlaceholder,\n          centered = _this$getThemeProps6.centered,\n          leadingIcon = _this$getThemeProps6.leadingIcon,\n          prefix = _this$getThemeProps6.prefix;\n\n      return !leadingIcon && !prefix && Boolean(floatingPlaceholder && !centered && !this.shouldShowTopError());\n    }\n  }, {\n    key: \"shouldShowError\",\n    value: function shouldShowError() {\n      var _this$getThemeProps7 = this.getThemeProps(),\n          enableErrors = _this$getThemeProps7.enableErrors;\n\n      var error = this.getErrorMessage();\n      return enableErrors && error;\n    }\n  }, {\n    key: \"getErrorMessage\",\n    value: function getErrorMessage() {\n      var _this$props2, _this$state;\n\n      return ((_this$props2 = this.props) == null ? void 0 : _this$props2.error) || ((_this$state = this.state) == null ? void 0 : _this$state.error);\n    }\n  }, {\n    key: \"shouldShowTopError\",\n    value: function shouldShowTopError() {\n      var _this$getThemeProps8 = this.getThemeProps(),\n          useTopErrors = _this$getThemeProps8.useTopErrors;\n\n      return this.shouldShowError() && useTopErrors;\n    }\n  }, {\n    key: \"shouldDisplayRightButton\",\n    value: function shouldDisplayRightButton() {\n      var _this$getThemeProps9 = this.getThemeProps(),\n          rightButtonProps = _this$getThemeProps9.rightButtonProps,\n          expandable = _this$getThemeProps9.expandable;\n\n      return !expandable && rightButtonProps && rightButtonProps.iconSource;\n    }\n  }, {\n    key: \"shouldRenderTitle\",\n    value: function shouldRenderTitle() {\n      var _this$getThemeProps10 = this.getThemeProps(),\n          floatingPlaceholder = _this$getThemeProps10.floatingPlaceholder,\n          title = _this$getThemeProps10.title;\n\n      return !floatingPlaceholder && title;\n    }\n  }, {\n    key: \"renderPlaceholder\",\n    value: function renderPlaceholder() {\n      var _this$state2 = this.state,\n          floatingPlaceholderState = _this$state2.floatingPlaceholderState,\n          floatingPlaceholderTranslate = _this$state2.floatingPlaceholderTranslate;\n\n      var _this$getThemeProps11 = this.getThemeProps(),\n          placeholder = _this$getThemeProps11.placeholder,\n          placeholderTextColor = _this$getThemeProps11.placeholderTextColor,\n          floatingPlaceholderColor = _this$getThemeProps11.floatingPlaceholderColor,\n          floatingPlaceholderStyle = _this$getThemeProps11.floatingPlaceholderStyle;\n\n      var typography = this.getTypography();\n      var placeholderColor = this.getStateColor(placeholderTextColor || PLACEHOLDER_COLOR_BY_STATE.default);\n\n      if (this.shouldFakePlaceholder()) {\n        return _jsx(View, {\n          absF: true,\n          left: true,\n          children: _jsx(Animated.Text, {\n            pointerEvents: \"none\",\n            numberOfLines: 1,\n            suppressHighlighting: true,\n            accessible: false,\n            onLayout: this.onPlaceholderLayout,\n            style: [this.styles.placeholder, this.getTopErrorsPosition(), typography, {\n              lineHeight: undefined\n            }, {\n              transform: [{\n                scale: floatingPlaceholderState.interpolate({\n                  inputRange: [0, 1],\n                  outputRange: [1, FLOATING_PLACEHOLDER_SCALE]\n                })\n              }, {\n                translateY: floatingPlaceholderState.interpolate({\n                  inputRange: [0, 1],\n                  outputRange: [25, 0]\n                })\n              }, {\n                translateX: floatingPlaceholderState.interpolate({\n                  inputRange: [0, 1],\n                  outputRange: [0, -floatingPlaceholderTranslate]\n                })\n              }],\n              color: this.shouldFloatPlaceholder() ? this.getStateColor(floatingPlaceholderColor || PLACEHOLDER_COLOR_BY_STATE) : placeholderColor\n            }, floatingPlaceholderStyle],\n            children: this.getRequiredPlaceholder(placeholder)\n          })\n        });\n      }\n    }\n  }, {\n    key: \"renderPrefix\",\n    value: function renderPrefix() {\n      var _this$props3 = this.props,\n          prefix = _this$props3.prefix,\n          prefixStyle = _this$props3.prefixStyle;\n\n      if (prefix) {\n        var typography = this.getTypography();\n        return _jsx(Text, {\n          style: [this.styles.prefix, typography, {\n            lineHeight: undefined\n          }, prefixStyle],\n          children: prefix\n        });\n      }\n    }\n  }, {\n    key: \"renderTitle\",\n    value: function renderTitle() {\n      var _this$getThemeProps12 = this.getThemeProps(),\n          title = _this$getThemeProps12.title,\n          titleColor = _this$getThemeProps12.titleColor,\n          titleStyle = _this$getThemeProps12.titleStyle;\n\n      var color = this.getStateColor(titleColor || PLACEHOLDER_COLOR_BY_STATE);\n\n      if (this.shouldRenderTitle()) {\n        return _jsx(Text, {\n          style: [{\n            color: color\n          }, this.styles.topLabel, this.styles.label, titleStyle],\n          children: title\n        });\n      }\n    }\n  }, {\n    key: \"renderCharCounter\",\n    value: function renderCharCounter() {\n      var _this$getThemeProps13 = this.getThemeProps(),\n          maxLength = _this$getThemeProps13.maxLength,\n          showCharacterCounter = _this$getThemeProps13.showCharacterCounter;\n\n      if (maxLength && showCharacterCounter) {\n        var counter = this.getCharCount();\n        var color = this.getCharCountColor();\n        return _jsxs(Text, {\n          style: [{\n            color: color\n          }, this.styles.bottomLabel, this.styles.label],\n          accessibilityLabel: counter + \" out of \" + maxLength + \" max characters\",\n          children: [counter, \" / \", maxLength]\n        });\n      }\n    }\n  }, {\n    key: \"renderError\",\n    value: function renderError(visible) {\n      var _this$getThemeProps14 = this.getThemeProps(),\n          enableErrors = _this$getThemeProps14.enableErrors,\n          useTopErrors = _this$getThemeProps14.useTopErrors,\n          errorColor = _this$getThemeProps14.errorColor;\n\n      var textColor = errorColor ? {\n        color: errorColor\n      } : undefined;\n      var positionStyle = useTopErrors ? this.styles.topLabel : this.styles.bottomLabel;\n      var error = this.getErrorMessage();\n\n      if (visible && enableErrors) {\n        return _jsx(Text, {\n          style: [this.styles.errorMessage, this.styles.label, positionStyle, textColor],\n          accessible: !_.isEmpty(error) && !useTopErrors,\n          children: error\n        });\n      }\n    }\n  }, {\n    key: \"renderExpandableModal\",\n    value: function renderExpandableModal() {\n      var _this3 = this;\n\n      var _this$getThemeProps15 = this.getThemeProps(),\n          renderExpandable = _this$getThemeProps15.renderExpandable,\n          topBarProps = _this$getThemeProps15.topBarProps;\n\n      var showExpandableModal = this.state.showExpandableModal;\n\n      if (_.isFunction(renderExpandable) && showExpandableModal) {\n        return renderExpandable(this.getThemeProps(), this.state);\n      }\n\n      var textInputProps = TextField.extractOwnProps(this.props, ['error', 'testID']);\n      return _jsxs(Modal, {\n        animationType: 'slide',\n        visible: showExpandableModal,\n        onRequestClose: function onRequestClose() {\n          return _this3.toggleExpandableModal(false);\n        },\n        children: [_jsx(Modal.TopBar, _objectSpread(_objectSpread({}, topBarProps), {}, {\n          onCancel: function onCancel() {\n            return _this3.toggleExpandableModal(false);\n          },\n          onDone: this.onDoneEditingExpandableInput\n        })), _jsx(View, {\n          style: this.styles.expandableModalContent,\n          children: _jsx(TextArea, _objectSpread(_objectSpread({\n            ref: function ref(textarea) {\n              _this3.expandableInput = textarea;\n            }\n          }, textInputProps), {}, {\n            value: this.state.value\n          }))\n        })]\n      });\n    }\n  }, {\n    key: \"renderExpandableInput\",\n    value: function renderExpandableInput() {\n      var _this4 = this;\n\n      var _this$getThemeProps16 = this.getThemeProps(),\n          renderExpandableInput = _this$getThemeProps16.renderExpandableInput,\n          testID = _this$getThemeProps16.testID;\n\n      if (_.isFunction(renderExpandableInput)) {\n        return renderExpandableInput(this.getThemeProps(), this.toggleExpandableModal);\n      }\n\n      return _jsx(TouchableOpacity, _objectSpread(_objectSpread({\n        style: this.styles.expandableInput,\n        activeOpacity: 1,\n        onPress: function onPress() {\n          return !_this4.isDisabled() && _this4.toggleExpandableModal(true);\n        },\n        testID: testID + \".expandable\"\n      }, this.getAccessibilityInfo()), {}, {\n        children: this.renderTextInput()\n      }));\n    }\n  }, {\n    key: \"renderTextInput\",\n    value: function renderTextInput() {\n      var _this5 = this;\n\n      var value = this.state.value;\n\n      var _this$getThemeProps17 = this.getThemeProps(),\n          style = _this$getThemeProps17.style,\n          placeholderTextColor = _this$getThemeProps17.placeholderTextColor,\n          multiline = _this$getThemeProps17.multiline,\n          numberOfLines = _this$getThemeProps17.numberOfLines,\n          expandable = _this$getThemeProps17.expandable,\n          rightIconSource = _this$getThemeProps17.rightIconSource,\n          color = _this$getThemeProps17.color,\n          placeholder = _this$getThemeProps17.placeholder,\n          helperText = _this$getThemeProps17.helperText,\n          others = _objectWithoutProperties(_this$getThemeProps17, _excluded);\n\n      var typography = this.getTypography();\n\n      var lineHeight = typography.lineHeight,\n          typographyStyle = _objectWithoutProperties(typography, _excluded2);\n\n      var textColor = this.getStateColor(color || this.extractColorValue());\n      var hasRightElement = this.shouldDisplayRightButton() || rightIconSource;\n      var shouldUseMultiline = multiline;\n      var inputStyle = [hasRightElement && this.styles.rightElement, this.styles.input, _objectSpread({}, typographyStyle), expandable && {\n        maxHeight: lineHeight * (Constants.isAndroid ? 3 : 3.3)\n      }, Constants.isRTL && {\n        minHeight: lineHeight + 3\n      }, Constants.isIOS && shouldUseMultiline && {\n        paddingTop: 0\n      }, {\n        color: textColor\n      }, style];\n      var placeholderText = this.getPlaceholderText(placeholder, helperText);\n      var placeholderColor = this.getStateColor(placeholderTextColor || PLACEHOLDER_COLOR_BY_STATE.default);\n      var isEditable = !this.isDisabled() && !expandable;\n      return _jsx(RNTextInput, _objectSpread(_objectSpread(_objectSpread({}, this.getAccessibilityInfo()), {}, {\n        pointerEvents: expandable ? 'none' : undefined\n      }, others), {}, {\n        value: value,\n        placeholder: placeholderText,\n        placeholderTextColor: placeholderColor,\n        underlineColorAndroid: \"transparent\",\n        style: inputStyle,\n        multiline: shouldUseMultiline,\n        numberOfLines: numberOfLines,\n        onKeyPress: this.onKeyPress,\n        onChangeText: this.onChangeText,\n        onChange: this.onChange,\n        onFocus: this.onFocus,\n        onBlur: this.onBlur,\n        ref: function ref(input) {\n          _this5.input = input;\n        },\n        editable: isEditable\n      }));\n    }\n  }, {\n    key: \"renderRightButton\",\n    value: function renderRightButton() {\n      if (this.shouldDisplayRightButton()) {\n        var _this$getThemeProps18 = this.getThemeProps(),\n            rightButtonProps = _this$getThemeProps18.rightButtonProps;\n\n        var style = rightButtonProps.style,\n            iconSource = rightButtonProps.iconSource,\n            iconColor = rightButtonProps.iconColor,\n            accessibilityLabel = rightButtonProps.accessibilityLabel,\n            others = _objectWithoutProperties(rightButtonProps, _excluded3);\n\n        return _jsx(TouchableOpacity, _objectSpread(_objectSpread({}, others), {}, {\n          accessibilityLabel: accessibilityLabel,\n          style: [this.styles.rightButton, this.getTopErrorsPosition(), style],\n          onPress: this.onPressRightButton,\n          children: _jsx(Image, {\n            pointerEvents: \"none\",\n            source: iconSource,\n            resizeMode: 'contain',\n            style: [this.styles.rightButtonImage, {\n              tintColor: iconColor || Colors.primary\n            }]\n          })\n        }));\n      }\n    }\n  }, {\n    key: \"renderRightIcon\",\n    value: function renderRightIcon() {\n      var _this$getThemeProps19 = this.getThemeProps(),\n          rightIconSource = _this$getThemeProps19.rightIconSource,\n          rightIconStyle = _this$getThemeProps19.rightIconStyle;\n\n      if (rightIconSource) {\n        return _jsx(View, {\n          style: [this.styles.rightButton, this.getTopErrorsPosition()],\n          pointerEvents: \"none\",\n          children: _jsx(Image, {\n            source: rightIconSource,\n            resizeMode: 'center',\n            style: [this.styles.rightButtonImage, rightIconStyle]\n          })\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$getThemeProps20 = this.getThemeProps(),\n          expandable = _this$getThemeProps20.expandable,\n          containerStyle = _this$getThemeProps20.containerStyle,\n          underlineColor = _this$getThemeProps20.underlineColor,\n          useTopErrors = _this$getThemeProps20.useTopErrors,\n          hideUnderline = _this$getThemeProps20.hideUnderline,\n          leadingIcon = _this$getThemeProps20.leadingIcon;\n\n      var underlineStateColor = this.getStateColor(underlineColor || UNDERLINE_COLOR_BY_STATE);\n      return _jsxs(View, {\n        style: [this.styles.container, containerStyle],\n        collapsable: false,\n        children: [this.shouldShowTopError() ? this.renderError(useTopErrors) : this.renderTitle(), _jsxs(View, {\n          style: [this.styles.innerContainer, hideUnderline && this.styles.innerContainerWithoutUnderline, {\n            borderColor: underlineStateColor\n          }, {\n            paddingTop: this.getTopPaddings()\n          }],\n          children: [leadingIcon && _jsx(Image, _objectSpread(_objectSpread({}, leadingIcon), {}, {\n            style: [this.styles.leadingIcon, leadingIcon.style]\n          })), this.renderPrefix(), this.renderPlaceholder(), expandable ? this.renderExpandableInput() : this.renderTextInput(), this.renderRightButton(), this.renderRightIcon(), expandable && this.renderExpandableModal()]\n        }), !_.isUndefined(this.getErrorMessage()) && useTopErrors && _jsx(View, {\n          style: this.styles.accessibilityDummyErrorMessage,\n          accessible: true,\n          accessibilityLabel: this.getErrorMessage()\n        }), _jsxs(View, {\n          row: true,\n          children: [_jsx(View, {\n            flex: true,\n            children: this.renderError(!useTopErrors)\n          }), this.renderCharCounter()]\n        })]\n      });\n    }\n  }]);\n\n  return TextField;\n}(BaseInput);\n\nTextField.displayName = 'TextField';\nTextField.propTypes = _objectSpread(_objectSpread(_objectSpread({}, RNTextInput.propTypes), BaseInput.propTypes), {}, {\n  floatingPlaceholder: PropTypes.bool,\n  floatingPlaceholderColor: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  floatingPlaceholderStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\n  helperText: PropTypes.string,\n  hideUnderline: PropTypes.bool,\n  underlineColor: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  disabledColor: PropTypes.string,\n  centered: PropTypes.bool,\n  error: PropTypes.string,\n  enableErrors: PropTypes.bool,\n  errorColor: PropTypes.string,\n  expandable: PropTypes.bool,\n  renderExpandableInput: PropTypes.elementType,\n  renderExpandable: PropTypes.elementType,\n  onToggleExpandableModal: PropTypes.func,\n  topBarProps: PropTypes.shape(Modal.TopBar.propTypes),\n  transformer: PropTypes.func,\n  prefix: PropTypes.string,\n  prefixStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\n  title: PropTypes.string,\n  titleColor: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  titleStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\n  showCharacterCounter: PropTypes.bool,\n  floatOnFocus: PropTypes.bool,\n  useTopErrors: PropTypes.bool,\n  rightIconSource: PropTypes.oneOfType([PropTypes.object, PropTypes.number]),\n  rightIconStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number]),\n  rightButtonProps: PropTypes.shape({\n    iconSource: RNImage.propTypes.source,\n    iconColor: PropTypes.string,\n    onPress: PropTypes.func,\n    style: PropTypes.oneOfType([PropTypes.object, PropTypes.number]),\n    accessibilityLabel: PropTypes.string\n  }),\n  leadingIcon: PropTypes.shape(Image.propTypes)\n});\nTextField.defaultProps = {\n  enableErrors: true,\n  validateOnBlur: true\n};\nexport { TextField as default };\n\nfunction createStyles(_ref) {\n  var centered = _ref.centered,\n      multiline = _ref.multiline;\n  var rightItemTopPadding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var itemTopPadding = Constants.isIOS ? rightItemTopPadding - 3 : rightItemTopPadding - 1;\n  return StyleSheet.create({\n    container: {},\n    innerContainer: {\n      flexDirection: 'row',\n      justifyContent: centered ? 'center' : undefined,\n      borderBottomWidth: 1,\n      borderColor: Colors.grey70,\n      paddingBottom: Constants.isIOS ? 10 : 5\n    },\n    innerContainerWithoutUnderline: {\n      borderBottomWidth: 0,\n      paddingBottom: 0\n    },\n    input: {\n      flexGrow: 1,\n      textAlign: centered ? 'center' : Constants.isRTL ? 'right' : 'left',\n      backgroundColor: 'transparent',\n      padding: 0,\n      borderColor: 'transparent',\n      borderWidth: Constants.isAndroid ? 1 : undefined\n    },\n    expandableInput: {\n      flexGrow: 1,\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    expandableModalContent: {\n      flex: 1,\n      paddingTop: 15,\n      paddingHorizontal: 20\n    },\n    prefix: {\n      color: Colors.grey30,\n      marginRight: Spacings.s1,\n      textAlignVertical: 'center'\n    },\n    placeholder: {\n      textAlign: 'left'\n    },\n    errorMessage: {\n      color: Colors.red30,\n      textAlign: centered ? 'center' : 'left'\n    },\n    topLabel: {\n      marginBottom: Constants.isIOS ? multiline ? 1 : 5 : 7\n    },\n    bottomLabel: {\n      marginTop: 9\n    },\n    label: _objectSpread(_objectSpread({}, LABEL_TYPOGRAPHY), {}, {\n      height: LABEL_TYPOGRAPHY.lineHeight\n    }),\n    rightElement: {\n      paddingRight: ICON_SIZE + ICON_LEFT_PADDING\n    },\n    rightButton: {\n      position: 'absolute',\n      right: 0,\n      alignSelf: 'flex-start',\n      paddingTop: itemTopPadding\n    },\n    rightButtonImage: {\n      width: ICON_SIZE,\n      height: ICON_SIZE\n    },\n    leadingIcon: {\n      alignSelf: 'center'\n    },\n    accessibilityDummyErrorMessage: {\n      position: 'absolute',\n      bottom: 0,\n      left: 0,\n      width: 1,\n      height: 1\n    }\n  });\n}","map":{"version":3,"sources":["/Users/aliabji/code/dogs/Pawls/node_modules/react-native-ui-lib/src/components/textField/index.js"],"names":["_","PropTypes","React","memoize","Constants","Colors","Typography","Spacings","BaseInput","Modal","TextArea","View","Image","Text","TouchableOpacity","COLOR_BY_STATE","default","grey10","focus","error","disabled","grey50","UNDERLINE_COLOR_BY_STATE","primary","red30","PLACEHOLDER_COLOR_BY_STATE","grey30","CHAR_COUNTER_COLOR_BY_STATE","LABEL_TYPOGRAPHY","text80","ICON_SIZE","ICON_LEFT_PADDING","FLOATING_PLACEHOLDER_SCALE","TextField","props","onPlaceholderLayout","event","width","nativeEvent","layout","translate","setState","floatingPlaceholderTranslate","toggleExpandableModal","value","showExpandableModal","invoke","updateFloatingPlaceholderState","withoutAnimation","state","floatingPlaceholderState","setValue","shouldFloatPlaceholder","Animated","spring","toValue","duration","useNativeDriver","start","getPlaceholderText","placeholder","helperText","text","shouldFakePlaceholder","shouldShowHelperText","shouldShowTopError","getRequiredPlaceholder","onPressRightButton","onDoneEditingExpandableInput","expandableInputValue","get","expandableInput","onKeyPress","lastKey","key","setCharCountColor","onChangeText","backspaceKey","transformer","validateOnChange","transformedText","isFunction","setImmediate","validate","Value","charCountColor","generatePropsWarnings","nextProps","_prevProps","prevState","isEmpty","focused","maxLength","console","warn","showCharacterCounter","styles","createStyles","getThemeProps","getTopPaddings","floatingPlaceholder","accessibilityState","isDisabled","undefined","accessibilityLabel","isRequiredField","isIOS","colorProp","getErrorMessage","disabledColor","isString","isPlainObject","mergedColorState","length","maxReached","isCounterLimit","color","title","top","editable","counter","getCharCount","floatOnFocus","hasText","shouldFloatOnFocus","centered","leadingIcon","prefix","Boolean","enableErrors","useTopErrors","shouldShowError","rightButtonProps","expandable","iconSource","placeholderTextColor","floatingPlaceholderColor","floatingPlaceholderStyle","typography","getTypography","placeholderColor","getStateColor","getTopErrorsPosition","lineHeight","transform","scale","interpolate","inputRange","outputRange","translateY","translateX","prefixStyle","titleColor","titleStyle","shouldRenderTitle","topLabel","label","getCharCountColor","bottomLabel","visible","errorColor","textColor","positionStyle","errorMessage","renderExpandable","topBarProps","textInputProps","extractOwnProps","expandableModalContent","textarea","renderExpandableInput","testID","getAccessibilityInfo","renderTextInput","style","multiline","numberOfLines","rightIconSource","others","typographyStyle","extractColorValue","hasRightElement","shouldDisplayRightButton","shouldUseMultiline","inputStyle","rightElement","input","maxHeight","isAndroid","isRTL","minHeight","paddingTop","placeholderText","isEditable","onChange","onFocus","onBlur","iconColor","rightButton","rightButtonImage","tintColor","rightIconStyle","containerStyle","underlineColor","hideUnderline","underlineStateColor","container","renderError","renderTitle","innerContainer","innerContainerWithoutUnderline","borderColor","renderPrefix","renderPlaceholder","renderRightButton","renderRightIcon","renderExpandableModal","isUndefined","accessibilityDummyErrorMessage","renderCharCounter","displayName","propTypes","RNTextInput","bool","oneOfType","string","object","number","array","elementType","onToggleExpandableModal","func","shape","TopBar","RNImage","source","onPress","defaultProps","validateOnBlur","rightItemTopPadding","itemTopPadding","StyleSheet","create","flexDirection","justifyContent","borderBottomWidth","grey70","paddingBottom","flexGrow","textAlign","backgroundColor","padding","borderWidth","alignItems","flex","paddingHorizontal","marginRight","s1","textAlignVertical","marginBottom","marginTop","height","paddingRight","position","right","alignSelf","bottom","left"],"mappings":"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","sourcesContent":["// @ts-nocheck\n// TODO: hideUnderline should be true by default\n// TODO: enableErrors should be false by default\n// TODO: enableErrors should derived from errorMessage prop\n// TODO: use forwardRef to allow access to inner TextInput API\n// TODO: add trailing/leading icon props\n// TODO: support margin modifiers\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { StyleSheet, Animated, TextInput as RNTextInput, Image as RNImage } from 'react-native';\nimport memoize from 'memoize-one';\nimport { Constants } from \"../../commons/new\";\nimport { Colors, Typography, Spacings } from \"../../style\";\nimport BaseInput from \"../baseInput\";\nimport Modal from \"../modal\";\nimport TextArea from \"../textArea\";\nimport View from \"../view\";\nimport Image from \"../image\";\nimport Text from \"../text\";\nimport TouchableOpacity from \"../touchableOpacity\";\nconst COLOR_BY_STATE = {\n  default: Colors.grey10,\n  focus: Colors.grey10,\n  error: Colors.grey10,\n  disabled: Colors.grey50\n};\nconst UNDERLINE_COLOR_BY_STATE = {\n  default: Colors.grey50,\n  focus: Colors.primary,\n  error: Colors.red30\n};\nconst PLACEHOLDER_COLOR_BY_STATE = {\n  default: Colors.grey30,\n  focus: Colors.primary\n};\nconst CHAR_COUNTER_COLOR_BY_STATE = {\n  default: Colors.grey30,\n  error: Colors.red30\n};\nconst LABEL_TYPOGRAPHY = Typography.text80;\nconst ICON_SIZE = 24;\nconst ICON_LEFT_PADDING = 6;\nconst FLOATING_PLACEHOLDER_SCALE = 0.875;\n/**\n * @description: A wrapper for TextInput component with extra functionality like floating placeholder and validations (This is an uncontrolled component)\n * @modifiers: Typography\n * @extends: TextInput\n * @extendsLink: https://reactnative.dev/docs/textinput\n * @gif: https://media.giphy.com/media/xULW8su8Cs5Z9Fq4PS/giphy.gif, https://media.giphy.com/media/3ohc1dhDcLS9FvWLJu/giphy.gif, https://media.giphy.com/media/oNUSOxnHdMP5ZnKYsh/giphy.gif\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/TextFieldScreen/BasicTextFieldScreen.js\n */\n\nexport default class TextField extends BaseInput {\n  static displayName = 'TextField';\n  static propTypes = { ...RNTextInput.propTypes,\n    ...BaseInput.propTypes,\n\n    /**\n     * should placeholder have floating behavior\n     */\n    floatingPlaceholder: PropTypes.bool,\n\n    /**\n     * floating placeholder color as a string or object of states, ex. {default: 'black', error: 'red', focus: 'blue', disabled: 'grey'}\n     */\n    floatingPlaceholderColor: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n    /**\n     * Custom style for floating placeholder\n     */\n    floatingPlaceholderStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\n\n    /**\n     * This text will appear as a placeholder when the textInput becomes focused, only when passing floatingPlaceholder\n     * as well (NOT for expandable textInputs)\n     */\n    helperText: PropTypes.string,\n\n    /**\n     * hide text input underline, by default false\n     */\n    hideUnderline: PropTypes.bool,\n\n    /**\n     * underline color as a string or object of states, ex. {default: 'black', error: 'red', focus: 'blue', disabled: 'grey'}\n     */\n    underlineColor: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n    /**\n     * the color of all text when the input is disabled (if undefined will not apply color)\n     */\n    disabledColor: PropTypes.string,\n\n    /**\n     * should text input be align to center\n     */\n    centered: PropTypes.bool,\n\n    /**\n     * input error message, should be empty if no error exists\n     */\n    error: PropTypes.string,\n\n    /**\n     * should the input component support error messages\n     */\n    enableErrors: PropTypes.bool,\n\n    /**\n     * input error message's text color\n     */\n    errorColor: PropTypes.string,\n\n    /**\n     * should the input expand to another text area modal\n     */\n    expandable: PropTypes.bool,\n\n    /**\n     * Render custom expandable input (requires expandable to be true)\n     */\n    renderExpandableInput: PropTypes.elementType,\n\n    /**\n     * allow custom rendering of expandable content when clicking on the input (useful for pickers)\n     * accept props and state as params, ex. (props, state) => {...}\n     * use toggleExpandableModal(false) method to toggle off the expandable content\n     */\n    renderExpandable: PropTypes.elementType,\n\n    /**\n     * Callback for the modal toggle. Pass with renderExpandable to control the modal toggle\n     */\n    onToggleExpandableModal: PropTypes.func,\n\n    /**\n     * The picker modal top bar props\n     */\n    topBarProps: PropTypes.shape(Modal.TopBar.propTypes),\n\n    /**\n     * transform function executed on value and return transformed value\n     */\n    transformer: PropTypes.func,\n\n    /**\n     * Pass to render a prefix text as part of the input (doesn't work with floatingPlaceholder)\n     */\n    prefix: PropTypes.string,\n\n    /**\n     * The prefix style\n     */\n    prefixStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\n\n    /**\n     * Fixed title that will displayed above the input (note: floatingPlaceholder MUST be 'false')\n     */\n    title: PropTypes.string,\n\n    /**\n     * The title's color as a string or object of states, ex. {default: 'black', error: 'red', focus: 'blue', disabled: 'grey'}\n     */\n    titleColor: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n    /**\n     * Additional styles for the title (not including 'color')\n     */\n    titleStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number, PropTypes.array]),\n\n    /**\n     * should the input display a character counter (only when passing 'maxLength')\n     */\n    showCharacterCounter: PropTypes.bool,\n\n    /**\n     * should float the placeholder when focused (instead of when typing)\n     */\n    floatOnFocus: PropTypes.bool,\n\n    /**\n     * should the errors be displayed at the top\n     */\n    useTopErrors: PropTypes.bool,\n\n    /**\n     * Icon asset source for showing on the right side, appropriate for dropdown icon and such\n     */\n    rightIconSource: PropTypes.oneOfType([PropTypes.object, PropTypes.number]),\n\n    /**\n     * Pass to style the right icon source\n     */\n    rightIconStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.number]),\n\n    /**\n     * Props for the right button {iconSource, onPress, style}\n     */\n    rightButtonProps: PropTypes.shape({\n      iconSource: RNImage.propTypes.source,\n      iconColor: PropTypes.string,\n      onPress: PropTypes.func,\n      style: PropTypes.oneOfType([PropTypes.object, PropTypes.number]),\n      accessibilityLabel: PropTypes.string\n    }),\n\n    /**\n     * Pass to render a leading icon to the TextInput value. Accepts Image props (doesn't work with floatingPlaceholder)\n     */\n    leadingIcon: PropTypes.shape(Image.propTypes)\n  };\n  static defaultProps = {\n    enableErrors: true,\n    validateOnBlur: true\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = { ...this.state,\n      value: props.value,\n      // for floatingPlaceholder functionality\n      floatingPlaceholderState: new Animated.Value(this.shouldFloatPlaceholder(props.value) ? 1 : 0),\n      showExpandableModal: false,\n      floatingPlaceholderTranslate: 0,\n      charCountColor: CHAR_COUNTER_COLOR_BY_STATE.default\n    };\n    this.generatePropsWarnings(props);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.value !== this.props.value) {\n      this.setState({\n        value: nextProps.value\n      }, () => {\n        this.updateFloatingPlaceholderState();\n\n        if (nextProps.validateOnChange) {\n          this.validate();\n        }\n      });\n    }\n  }\n\n  componentDidUpdate(_prevProps, prevState) {\n    if (_.isEmpty(prevState.value) !== _.isEmpty(this.state.value) || prevState.focused !== this.state.focused) {\n      this.updateFloatingPlaceholderState();\n    }\n  }\n\n  onPlaceholderLayout = event => {\n    const {\n      width\n    } = event.nativeEvent.layout;\n    const translate = width / 2 - width * FLOATING_PLACEHOLDER_SCALE / 2;\n    this.setState({\n      floatingPlaceholderTranslate: translate / FLOATING_PLACEHOLDER_SCALE\n    });\n  };\n  /** Actions */\n\n  generatePropsWarnings(props) {\n    if (props.maxLength === 0) {\n      console.warn('Setting maxLength to zero will block typing in this input');\n    }\n\n    if (props.showCharacterCounter && !props.maxLength) {\n      console.warn('In order to use showCharacterCount please pass \\'maxLength\\' prop');\n    }\n  }\n\n  generateStyles() {\n    this.styles = createStyles(this.getThemeProps(), this.getTopPaddings());\n  }\n\n  getAccessibilityInfo() {\n    const {\n      floatingPlaceholder,\n      placeholder\n    } = this.getThemeProps();\n    const accessibilityState = this.isDisabled() ? {\n      disabled: true\n    } : undefined;\n    let accessibilityLabel = floatingPlaceholder ? this.props.accessibilityLabel || placeholder : '';\n\n    if (this.isRequiredField()) {\n      accessibilityLabel = `${accessibilityLabel}. Mandatory`;\n    }\n\n    return {\n      accessibilityLabel,\n      // on Android accessibilityStates cause issues with expandable input\n      accessibilityState: Constants.isIOS ? accessibilityState : undefined\n    };\n  }\n\n  toggleExpandableModal = value => {\n    this.setState({\n      showExpandableModal: value\n    });\n\n    _.invoke(this.props, 'onToggleExpandableModal', value);\n  };\n  updateFloatingPlaceholderState = withoutAnimation => {\n    if (withoutAnimation) {\n      this.state.floatingPlaceholderState.setValue(this.shouldFloatPlaceholder() ? 1 : 0);\n    } else {\n      Animated.spring(this.state.floatingPlaceholderState, {\n        toValue: this.shouldFloatPlaceholder() ? 1 : 0,\n        duration: 150,\n        useNativeDriver: true\n      }).start();\n    }\n  };\n  getPlaceholderText = memoize((placeholder, helperText) => {\n    // HACK: passing whitespace instead of undefined. Issue fixed in RN56\n    const text = this.shouldFakePlaceholder() ? this.shouldShowHelperText() ? helperText : ' ' : this.shouldShowTopError() && this.shouldShowHelperText() ? helperText : this.getRequiredPlaceholder(placeholder);\n    return text;\n  });\n\n  getStateColor(colorProp = {}) {\n    const {\n      focused\n    } = this.state;\n    const error = this.getErrorMessage();\n    const {\n      disabledColor\n    } = this.getThemeProps();\n\n    if (_.isString(colorProp)) {\n      return colorProp || Colors.grey10;\n    } else if (_.isPlainObject(colorProp)) {\n      const mergedColorState = { ...COLOR_BY_STATE,\n        ...colorProp\n      };\n\n      if (this.isDisabled()) {\n        return disabledColor || mergedColorState.disabled;\n      } else if (error) {\n        return mergedColorState.error;\n      } else if (focused) {\n        return mergedColorState.focus;\n      } else {\n        return mergedColorState.default;\n      }\n    }\n\n    return colorProp || Colors.grey10;\n  }\n\n  getCharCount() {\n    const {\n      value\n    } = this.state;\n\n    if (value) {\n      return value.length;\n    }\n\n    return 0;\n  }\n\n  setCharCountColor(key) {\n    this.maxReached = key === Constants.backspaceKey ? false : this.isCounterLimit();\n    const color = this.state.focused && this.maxReached ? CHAR_COUNTER_COLOR_BY_STATE.error : CHAR_COUNTER_COLOR_BY_STATE.default;\n\n    if (color !== this.state.charCountColor) {\n      this.setState({\n        charCountColor: color\n      });\n    }\n  }\n\n  getCharCountColor() {\n    const {\n      charCountColor\n    } = this.state;\n    const {\n      disabledColor\n    } = this.getThemeProps();\n    return this.isDisabled() && disabledColor ? disabledColor : charCountColor;\n  }\n\n  getTopPaddings() {\n    return this.shouldFakePlaceholder() ? this.shouldShowTopError() ? undefined : 25 : undefined;\n  }\n\n  getTopErrorsPosition() {\n    return !this.props.title && this.shouldShowTopError() ? {\n      top: Constants.isIOS ? -25 : -27\n    } : undefined;\n  }\n\n  isDisabled() {\n    return this.props.editable === false;\n  }\n\n  isCounterLimit() {\n    const {\n      maxLength\n    } = this.getThemeProps();\n    const counter = this.getCharCount();\n    return counter === 0 ? false : maxLength <= counter;\n  }\n\n  hasText(value) {\n    return !_.isEmpty(value || this.state.value);\n  }\n\n  shouldShowHelperText() {\n    const {\n      focused\n    } = this.state;\n    const {\n      helperText\n    } = this.props;\n    return focused && helperText;\n  }\n\n  shouldFloatOnFocus() {\n    const {\n      focused\n    } = this.state;\n    const {\n      floatOnFocus\n    } = this.getThemeProps();\n    return focused && floatOnFocus;\n  }\n\n  shouldFloatPlaceholder(text) {\n    return this.hasText(text) || this.shouldShowHelperText() || this.shouldFloatOnFocus();\n  }\n\n  shouldFakePlaceholder() {\n    const {\n      floatingPlaceholder,\n      centered,\n      leadingIcon,\n      prefix\n    } = this.getThemeProps();\n    return !leadingIcon && !prefix && Boolean(floatingPlaceholder && !centered && !this.shouldShowTopError());\n  }\n\n  shouldShowError() {\n    const {\n      enableErrors\n    } = this.getThemeProps();\n    const error = this.getErrorMessage();\n    return enableErrors && error;\n  }\n\n  getErrorMessage() {\n    return this.props?.error || this.state?.error;\n  }\n\n  shouldShowTopError() {\n    const {\n      useTopErrors\n    } = this.getThemeProps();\n    return this.shouldShowError() && useTopErrors;\n  }\n\n  shouldDisplayRightButton() {\n    const {\n      rightButtonProps,\n      expandable\n    } = this.getThemeProps();\n    return !expandable && rightButtonProps && rightButtonProps.iconSource;\n  }\n\n  shouldRenderTitle() {\n    const {\n      floatingPlaceholder,\n      title\n    } = this.getThemeProps();\n    return !floatingPlaceholder && title;\n  }\n\n  onPressRightButton = () => {\n    _.invoke(this.props, 'rightButtonProps.onPress');\n  };\n  /** Renders */\n\n  renderPlaceholder() {\n    const {\n      floatingPlaceholderState,\n      floatingPlaceholderTranslate\n    } = this.state;\n    const {\n      placeholder,\n      placeholderTextColor,\n      floatingPlaceholderColor,\n      floatingPlaceholderStyle\n    } = this.getThemeProps();\n    const typography = this.getTypography();\n    const placeholderColor = this.getStateColor(placeholderTextColor || PLACEHOLDER_COLOR_BY_STATE.default);\n\n    if (this.shouldFakePlaceholder()) {\n      return <View absF left>\n          <Animated.Text pointerEvents=\"none\" numberOfLines={1} suppressHighlighting accessible={false} onLayout={this.onPlaceholderLayout} style={[this.styles.placeholder, this.getTopErrorsPosition(), typography, // TODO: we need to exclude completely any dependency on line height\n        // in this component since it always breaks alignments\n        {\n          lineHeight: undefined\n        }, {\n          transform: [{\n            scale: floatingPlaceholderState.interpolate({\n              inputRange: [0, 1],\n              outputRange: [1, FLOATING_PLACEHOLDER_SCALE]\n            })\n          }, {\n            translateY: floatingPlaceholderState.interpolate({\n              inputRange: [0, 1],\n              outputRange: [25, 0]\n            })\n          }, {\n            translateX: floatingPlaceholderState.interpolate({\n              inputRange: [0, 1],\n              outputRange: [0, -floatingPlaceholderTranslate]\n            })\n          }],\n          color: this.shouldFloatPlaceholder() ? this.getStateColor(floatingPlaceholderColor || PLACEHOLDER_COLOR_BY_STATE) : placeholderColor\n        }, floatingPlaceholderStyle]}>\n            {this.getRequiredPlaceholder(placeholder)}\n          </Animated.Text>\n        </View>;\n    }\n  }\n\n  renderPrefix() {\n    const {\n      prefix,\n      prefixStyle\n    } = this.props;\n\n    if (prefix) {\n      const typography = this.getTypography();\n      return <Text style={[this.styles.prefix, typography, {\n        lineHeight: undefined\n      }, prefixStyle]}>{prefix}</Text>;\n    }\n  }\n\n  renderTitle() {\n    const {\n      title,\n      titleColor,\n      titleStyle\n    } = this.getThemeProps();\n    const color = this.getStateColor(titleColor || PLACEHOLDER_COLOR_BY_STATE);\n\n    if (this.shouldRenderTitle()) {\n      return <Text style={[{\n        color\n      }, this.styles.topLabel, this.styles.label, titleStyle]}>{title}</Text>;\n    }\n  }\n\n  renderCharCounter() {\n    const {\n      maxLength,\n      showCharacterCounter\n    } = this.getThemeProps();\n\n    if (maxLength && showCharacterCounter) {\n      const counter = this.getCharCount();\n      const color = this.getCharCountColor();\n      return <Text style={[{\n        color\n      }, this.styles.bottomLabel, this.styles.label]} accessibilityLabel={`${counter} out of ${maxLength} max characters`}>\n          {counter} / {maxLength}\n        </Text>;\n    }\n  }\n\n  renderError(visible) {\n    const {\n      enableErrors,\n      useTopErrors,\n      errorColor\n    } = this.getThemeProps();\n    const textColor = errorColor ? {\n      color: errorColor\n    } : undefined;\n    const positionStyle = useTopErrors ? this.styles.topLabel : this.styles.bottomLabel;\n    const error = this.getErrorMessage();\n\n    if (visible && enableErrors) {\n      return <Text style={[this.styles.errorMessage, this.styles.label, positionStyle, textColor]} accessible={!_.isEmpty(error) && !useTopErrors}>\n          {error}\n        </Text>;\n    }\n  }\n\n  renderExpandableModal() {\n    const {\n      renderExpandable,\n      topBarProps\n    } = this.getThemeProps();\n    const {\n      showExpandableModal\n    } = this.state;\n\n    if (_.isFunction(renderExpandable) && showExpandableModal) {\n      return renderExpandable(this.getThemeProps(), this.state);\n    }\n\n    const textInputProps = TextField.extractOwnProps(this.props, ['error', 'testID']);\n    return <Modal animationType={'slide'} visible={showExpandableModal} onRequestClose={() => this.toggleExpandableModal(false)}>\n        <Modal.TopBar {...topBarProps} onCancel={() => this.toggleExpandableModal(false)} onDone={this.onDoneEditingExpandableInput} />\n        <View style={this.styles.expandableModalContent}>\n          <TextArea ref={textarea => {\n          this.expandableInput = textarea;\n        }} {...textInputProps} value={this.state.value} />\n        </View>\n      </Modal>;\n  }\n\n  renderExpandableInput() {\n    const {\n      renderExpandableInput,\n      testID\n    } = this.getThemeProps();\n\n    if (_.isFunction(renderExpandableInput)) {\n      return renderExpandableInput(this.getThemeProps(), this.toggleExpandableModal);\n    }\n\n    return <TouchableOpacity style={this.styles.expandableInput} activeOpacity={1} onPress={() => !this.isDisabled() && this.toggleExpandableModal(true)} testID={`${testID}.expandable`} // {...this.extractAccessibilityProps()}\n    {...this.getAccessibilityInfo()}>\n        {this.renderTextInput()}\n      </TouchableOpacity>;\n  }\n\n  renderTextInput() {\n    const {\n      value\n    } = this.state; // value set on state for floatingPlaceholder functionality\n\n    const {\n      style,\n      placeholderTextColor,\n      multiline,\n      // hideUnderline,\n      numberOfLines,\n      expandable,\n      rightIconSource,\n      color,\n      placeholder,\n      helperText,\n      ...others\n    } = this.getThemeProps();\n    const typography = this.getTypography();\n    const {\n      lineHeight,\n      ...typographyStyle\n    } = typography;\n    const textColor = this.getStateColor(color || this.extractColorValue());\n    const hasRightElement = this.shouldDisplayRightButton() || rightIconSource;\n    const shouldUseMultiline = multiline\n    /*  || expandable */\n    ;\n    const inputStyle = [hasRightElement && this.styles.rightElement, this.styles.input, // hideUnderline && this.styles.inputWithoutUnderline,\n    { ...typographyStyle\n    }, // Constants.isAndroid && {lineHeight},\n    expandable && {\n      maxHeight: lineHeight * (Constants.isAndroid ? 3 : 3.3)\n    }, Constants.isRTL && {\n      minHeight: lineHeight + 3\n    }, Constants.isIOS && shouldUseMultiline && {\n      paddingTop: 0\n    }, // fix for iOS topPadding in multiline TextInput\n    {\n      color: textColor\n    }, style];\n    const placeholderText = this.getPlaceholderText(placeholder, helperText);\n    const placeholderColor = this.getStateColor(placeholderTextColor || PLACEHOLDER_COLOR_BY_STATE.default);\n    const isEditable = !this.isDisabled() && !expandable;\n    return <RNTextInput {...this.getAccessibilityInfo()} pointerEvents={expandable ? 'none' : undefined} {...others} value={value} placeholder={placeholderText} placeholderTextColor={placeholderColor} underlineColorAndroid=\"transparent\" style={inputStyle} multiline={shouldUseMultiline} numberOfLines={numberOfLines} onKeyPress={this.onKeyPress} onChangeText={this.onChangeText} onChange={this.onChange} onFocus={this.onFocus} onBlur={this.onBlur} ref={input => {\n      this.input = input;\n    }} editable={isEditable} />;\n  }\n\n  renderRightButton() {\n    if (this.shouldDisplayRightButton()) {\n      const {\n        rightButtonProps\n      } = this.getThemeProps();\n      const {\n        style,\n        iconSource,\n        iconColor,\n        accessibilityLabel,\n        ...others\n      } = rightButtonProps;\n      return <TouchableOpacity {...others} accessibilityLabel={accessibilityLabel} style={[this.styles.rightButton, this.getTopErrorsPosition(), style]} onPress={this.onPressRightButton}>\n          <Image pointerEvents=\"none\" source={iconSource} resizeMode={'contain'} style={[this.styles.rightButtonImage, {\n          tintColor: iconColor || Colors.primary\n        }]} />\n        </TouchableOpacity>;\n    }\n  }\n\n  renderRightIcon() {\n    const {\n      rightIconSource,\n      rightIconStyle\n    } = this.getThemeProps();\n\n    if (rightIconSource) {\n      return <View style={[this.styles.rightButton, this.getTopErrorsPosition()]} pointerEvents=\"none\">\n          <Image source={rightIconSource} resizeMode={'center'} style={[this.styles.rightButtonImage, rightIconStyle]} />\n        </View>;\n    }\n  }\n\n  render() {\n    const {\n      expandable,\n      containerStyle,\n      underlineColor,\n      useTopErrors,\n      hideUnderline,\n      leadingIcon\n    } = this.getThemeProps();\n    const underlineStateColor = this.getStateColor(underlineColor || UNDERLINE_COLOR_BY_STATE);\n    return <View style={[this.styles.container, containerStyle]} collapsable={false}>\n        {this.shouldShowTopError() ? this.renderError(useTopErrors) : this.renderTitle()}\n\n        <View style={[this.styles.innerContainer, hideUnderline && this.styles.innerContainerWithoutUnderline, {\n        borderColor: underlineStateColor\n      }, {\n        paddingTop: this.getTopPaddings()\n      }]}>\n          {leadingIcon && <Image {...leadingIcon} style={[this.styles.leadingIcon, leadingIcon.style]} />}\n          {this.renderPrefix()}\n          {this.renderPlaceholder()}\n          {expandable ? this.renderExpandableInput() : this.renderTextInput()}\n          {this.renderRightButton()}\n          {this.renderRightIcon()}\n          {expandable && this.renderExpandableModal()}\n        </View>\n\n        {!_.isUndefined(this.getErrorMessage()) && useTopErrors && <View style={this.styles.accessibilityDummyErrorMessage} accessible accessibilityLabel={this.getErrorMessage()} />}\n\n        <View row>\n          <View flex>{this.renderError(!useTopErrors)}</View>\n          {this.renderCharCounter()}\n        </View>\n      </View>;\n  }\n  /** Events */\n\n\n  onDoneEditingExpandableInput = () => {\n    const expandableInputValue = _.get(this.expandableInput, 'state.value');\n\n    this.setState({\n      value: expandableInputValue\n    });\n    this.state.floatingPlaceholderState.setValue(expandableInputValue ? 1 : 0);\n\n    _.invoke(this.props, 'onChangeText', expandableInputValue);\n\n    this.toggleExpandableModal(false);\n  };\n  onKeyPress = event => {\n    this.lastKey = event.nativeEvent.key;\n    this.setCharCountColor(this.lastKey);\n\n    _.invoke(this.props, 'onKeyPress', event);\n  };\n  onChangeText = text => {\n    // when character count exceeds maxLength text will be empty string.\n    // HACK: To avoid setting state value to '' we check the source of that deletion\n    if (text === '' && this.lastKey && this.lastKey !== Constants.backspaceKey) {\n      return;\n    }\n\n    const {\n      transformer,\n      validateOnChange\n    } = this.props;\n    let transformedText = text;\n\n    if (_.isFunction(transformer)) {\n      transformedText = transformer(text);\n    }\n\n    _.invoke(this.props, 'onChangeText', transformedText);\n\n    this.setState({\n      value: transformedText\n    }, () => {\n      if (validateOnChange) {\n        setImmediate(this.validate);\n      }\n    });\n  };\n}\n\nfunction createStyles({\n  centered,\n  multiline\n}, rightItemTopPadding = 0) {\n  const itemTopPadding = Constants.isIOS ? rightItemTopPadding - 3 : rightItemTopPadding - 1;\n  return StyleSheet.create({\n    container: {},\n    innerContainer: {\n      // flexGrow: 1, // create bugs with lineHeight\n      flexDirection: 'row',\n      justifyContent: centered ? 'center' : undefined,\n      borderBottomWidth: 1,\n      borderColor: Colors.grey70,\n      paddingBottom: Constants.isIOS ? 10 : 5\n    },\n    innerContainerWithoutUnderline: {\n      borderBottomWidth: 0,\n      paddingBottom: 0\n    },\n    input: {\n      flexGrow: 1,\n      textAlign: centered ? 'center' : Constants.isRTL ? 'right' : 'left',\n      backgroundColor: 'transparent',\n      // marginBottom: Constants.isIOS ? 10 : 5,\n      padding: 0,\n      // for Android\n      // textAlignVertical: 'top', // for Android\n      borderColor: 'transparent',\n      // borderColor & borderWidth is a fix for collapsing issue on Android\n      borderWidth: Constants.isAndroid ? 1 : undefined // for Android\n\n    },\n    expandableInput: {\n      flexGrow: 1,\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    // inputWithoutUnderline: {\n    //   marginBottom: undefined\n    // },\n    expandableModalContent: {\n      flex: 1,\n      paddingTop: 15,\n      paddingHorizontal: 20\n    },\n    prefix: {\n      color: Colors.grey30,\n      marginRight: Spacings.s1,\n      textAlignVertical: 'center'\n    },\n    placeholder: {\n      textAlign: 'left'\n    },\n    errorMessage: {\n      color: Colors.red30,\n      textAlign: centered ? 'center' : 'left'\n    },\n    topLabel: {\n      marginBottom: Constants.isIOS ? multiline ? 1 : 5 : 7\n    },\n    bottomLabel: {\n      marginTop: 9\n    },\n    label: { ...LABEL_TYPOGRAPHY,\n      height: LABEL_TYPOGRAPHY.lineHeight\n    },\n    rightElement: {\n      paddingRight: ICON_SIZE + ICON_LEFT_PADDING\n    },\n    rightButton: {\n      position: 'absolute',\n      right: 0,\n      alignSelf: 'flex-start',\n      paddingTop: itemTopPadding\n    },\n    rightButtonImage: {\n      width: ICON_SIZE,\n      height: ICON_SIZE\n    },\n    leadingIcon: {\n      alignSelf: 'center'\n    },\n    accessibilityDummyErrorMessage: {\n      position: 'absolute',\n      bottom: 0,\n      left: 0,\n      width: 1,\n      height: 1\n    }\n  });\n}"]},"metadata":{},"sourceType":"module"}