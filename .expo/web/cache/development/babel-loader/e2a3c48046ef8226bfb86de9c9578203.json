{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _ from 'lodash';\nimport Color from 'color';\nimport tinycolor from 'tinycolor2';\nimport { colorsPalette, themeColors } from \"./colorsPalette\";\nimport { designTokens } from \"./designTokens\";\nimport { designTokensDM } from \"./designTokensDM\";\nimport ColorName from \"./colorName\";\nimport Scheme from \"./scheme\";\nexport var Colors = function () {\n  function Colors() {\n    var _this = this;\n\n    _classCallCheck(this, Colors);\n\n    this.generateColorPalette = _.memoize(function (color) {\n      var hsl = Color(color).hsl();\n      var lightness = Math.round(hsl.color[2]);\n      var ls = [hsl.color[2]];\n      var l = lightness - 10;\n\n      while (l >= 20) {\n        ls.unshift(l);\n        l -= 10;\n      }\n\n      l = lightness + 10;\n\n      while (l < 100) {\n        ls.push(l);\n        l += 10;\n      }\n\n      var tints = [];\n\n      _.forEach(ls, function (e) {\n        var tint = generateColorTint(color, e);\n        tints.push(tint);\n      });\n\n      var sliced = tints.slice(0, 8);\n      var adjusted = adjustSaturation(sliced, color);\n      return adjusted || sliced;\n    });\n\n    var colors = _extends(colorsPalette, designTokens, themeColors);\n\n    _extends(this, colors);\n\n    Scheme.addChangeListener(function () {\n      _extends(_this, Scheme.getScheme());\n    });\n  }\n\n  _createClass(Colors, [{\n    key: \"loadColors\",\n    value: function loadColors(colors) {\n      var _this2 = this;\n\n      _.forEach(colors, function (value, key) {\n        _this2[key] = value;\n      });\n    }\n  }, {\n    key: \"loadSchemes\",\n    value: function loadSchemes(schemes) {\n      Scheme.loadSchemes(schemes);\n\n      _extends(this, Scheme.getScheme());\n    }\n  }, {\n    key: \"getScheme\",\n    value: function getScheme() {\n      return Scheme.getSchemeType();\n    }\n  }, {\n    key: \"setScheme\",\n    value: function setScheme(scheme) {\n      Scheme.setScheme(scheme);\n    }\n  }, {\n    key: \"supportDarkMode\",\n    value: function supportDarkMode() {\n      var designTokensColors = Scheme.getSchemeType() === 'dark' ? designTokensDM : designTokens;\n\n      _extends(this, designTokensColors);\n    }\n  }, {\n    key: \"rgba\",\n    value: function rgba(p1, p2, p3, p4) {\n      var hex;\n      var opacity;\n      var red;\n      var green;\n      var blue;\n\n      if (arguments.length === 2 && typeof p1 === 'string') {\n        hex = p1;\n        opacity = p2;\n        hex = validateHex(hex);\n        red = parseInt(hex.substring(0, 2), 16);\n        green = parseInt(hex.substring(2, 4), 16);\n        blue = parseInt(hex.substring(4, 6), 16);\n      } else if (arguments.length === 4 && typeof p1 === 'number') {\n        red = validateRGB(p1);\n        green = validateRGB(p2);\n        blue = validateRGB(p3);\n        opacity = p4;\n      } else {\n        throw new Error('rgba can work with either 2 or 4 arguments');\n      }\n\n      return \"rgba(\" + red + \", \" + green + \", \" + blue + \", \" + opacity + \")\";\n    }\n  }, {\n    key: \"getBackgroundKeysPattern\",\n    value: function getBackgroundKeysPattern() {\n      return /^(bg-|background-)/;\n    }\n  }, {\n    key: \"isEmpty\",\n    value: function isEmpty(color) {\n      if (_.isNil(color) || color === 'transparent') {\n        return true;\n      }\n\n      try {\n        Color(color);\n        return false;\n      } catch (error) {\n        console.warn('Colors.isEmpty failed:', error);\n        return true;\n      }\n    }\n  }, {\n    key: \"getColorTint\",\n    value: function getColorTint(color, tintKey) {\n      var _this3 = this;\n\n      if (_.isUndefined(tintKey) || isNaN(tintKey) || _.isUndefined(color)) {\n        return color;\n      }\n\n      if (color === 'transparent') {\n        return color;\n      }\n\n      var colorKey = _.findKey(this, function (_value, key) {\n        return _this3[key] === color;\n      });\n\n      if (colorKey) {\n        var requiredColorKey = \"\" + colorKey.slice(0, -2) + tintKey;\n        var requiredColor = this[requiredColorKey];\n\n        if (_.isUndefined(requiredColor)) {\n          return this.getTintedColorForDynamicHex(color, tintKey);\n        }\n\n        return requiredColor;\n      }\n\n      return this.getTintedColorForDynamicHex(color, tintKey);\n    }\n  }, {\n    key: \"getColorName\",\n    value: function getColorName(color) {\n      return ColorName.name(color)[1];\n    }\n  }, {\n    key: \"getTintedColorForDynamicHex\",\n    value: function getTintedColorForDynamicHex(color, tintKey) {\n      var tintLevel = Math.floor(Number(tintKey) / 10);\n      tintLevel = Math.max(1, tintLevel);\n      tintLevel = Math.min(8, tintLevel);\n      var colorsPalette = this.generateColorPalette(color);\n      return colorsPalette[tintLevel - 1];\n    }\n  }, {\n    key: \"isDark\",\n    value: function isDark(color) {\n      var lum = tinycolor(color).getLuminance();\n      return lum < 0.55;\n    }\n  }, {\n    key: \"isValidHex\",\n    value: function isValidHex(string) {\n      return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(string);\n    }\n  }, {\n    key: \"getHexString\",\n    value: function getHexString(color) {\n      return tinycolor(color).toHexString();\n    }\n  }, {\n    key: \"getHSL\",\n    value: function getHSL(color) {\n      return tinycolor(color).toHsl();\n    }\n  }, {\n    key: \"isTransparent\",\n    value: function isTransparent(color) {\n      return color && _.toUpper(color) === _.toUpper('transparent');\n    }\n  }, {\n    key: \"areEqual\",\n    value: function areEqual(colorA, colorB) {\n      return _.toLower(colorA) === _.toLower(colorB);\n    }\n  }]);\n\n  return Colors;\n}();\n\nfunction adjustSaturation(colors, color) {\n  var array;\n  var lightnessLevel = 80;\n  var saturationLevel = 60;\n  var hsl = Color(color).hsl();\n  var lightness = Math.round(hsl.color[2]);\n\n  if (lightness > lightnessLevel) {\n    var saturation = Math.round(hsl.color[1]);\n\n    if (saturation > saturationLevel) {\n      array = _.map(colors, function (e) {\n        return e !== color ? addSaturation(e, saturationLevel) : e;\n      });\n    }\n  }\n\n  return array;\n}\n\nfunction addSaturation(color, saturation) {\n  var hsl = Color(color).hsl();\n  hsl.color[1] = saturation;\n  return hsl.hex();\n}\n\nfunction generateColorTint(color, tintLevel) {\n  var hsl = Color(color).hsl();\n  hsl.color[2] = tintLevel;\n  return hsl.hex();\n}\n\nfunction validateRGB(value) {\n  if (isNaN(value) || value > 255 || value < 0) {\n    throw new Error(value + \" is invalid rgb code, please use number between 0-255\");\n  }\n\n  return value;\n}\n\nfunction validateHex(value) {\n  if (!/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(value)) {\n    throw new Error(value + \" is invalid hex color\");\n  }\n\n  value = value.replace('#', '');\n\n  if (value.length === 3) {\n    value = threeDigitHexToSix(value);\n  }\n\n  return value;\n}\n\nfunction threeDigitHexToSix(value) {\n  return value.replace(/./g, '$&$&');\n}\n\nvar TypedColors = Colors;\nvar colorObject = new TypedColors();\ncolorObject.loadColors(colorsPalette);\nexport default colorObject;","map":{"version":3,"sources":["/Users/aliabji/code/dogs/Pawls/node_modules/react-native-ui-lib/src/style/colors.js"],"names":["_","Color","tinycolor","colorsPalette","themeColors","designTokens","designTokensDM","ColorName","Scheme","Colors","generateColorPalette","memoize","color","hsl","lightness","Math","round","ls","l","unshift","push","tints","forEach","e","tint","generateColorTint","sliced","slice","adjusted","adjustSaturation","colors","addChangeListener","getScheme","value","key","schemes","loadSchemes","getSchemeType","scheme","setScheme","designTokensColors","p1","p2","p3","p4","hex","opacity","red","green","blue","arguments","length","validateHex","parseInt","substring","validateRGB","Error","isNil","error","console","warn","tintKey","isUndefined","isNaN","colorKey","findKey","_value","requiredColorKey","requiredColor","getTintedColorForDynamicHex","name","tintLevel","floor","Number","max","min","lum","getLuminance","string","test","toHexString","toHsl","toUpper","colorA","colorB","toLower","array","lightnessLevel","saturationLevel","saturation","map","addSaturation","replace","threeDigitHexToSix","TypedColors","colorObject","loadColors"],"mappings":"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","sourcesContent":["import _ from 'lodash'; //@ts-ignore\n\nimport Color from 'color';\nimport tinycolor from 'tinycolor2';\nimport { colorsPalette, themeColors } from \"./colorsPalette\";\nimport { designTokens } from \"./designTokens\";\nimport { designTokensDM } from \"./designTokensDM\"; //@ts-ignore\n\nimport ColorName from \"./colorName\";\nimport Scheme from \"./scheme\";\nexport class Colors {\n  constructor() {\n    const colors = Object.assign(colorsPalette, designTokens, themeColors);\n    Object.assign(this, colors);\n    Scheme.addChangeListener(() => {\n      Object.assign(this, Scheme.getScheme());\n    });\n  }\n  /**\n   * Load custom set of colors\n   * arguments:\n   * colors - map of keys and colors values e.g {grey10: '#20303C', grey20: '#43515C'}\n   */\n\n\n  loadColors(colors) {\n    _.forEach(colors, (value, key) => {\n      this[key] = value;\n    });\n  }\n  /**\n   * Load set of schemes for light/dark mode\n   * arguments:\n   * schemes - two sets of map of colors e.g {light: {screen: 'white'}, dark: {screen: 'black'}}\n   */\n\n\n  loadSchemes(schemes) {\n    Scheme.loadSchemes(schemes);\n    Object.assign(this, Scheme.getScheme());\n  }\n  /**\n   * Get app's current color scheme\n   */\n\n\n  getScheme() {\n    return Scheme.getSchemeType();\n  }\n  /**\n   * Set color scheme for app\n   * arguments:\n   * scheme - color scheme e.g light/dark/default\n   */\n\n\n  setScheme(scheme) {\n    Scheme.setScheme(scheme);\n  }\n  /**\n   * Support listening to Appearance changes\n   * and change the design tokens accordingly \n   */\n\n\n  supportDarkMode() {\n    const designTokensColors = Scheme.getSchemeType() === 'dark' ? designTokensDM : designTokens;\n    Object.assign(this, designTokensColors);\n  }\n  /**\n   * Add alpha to hex or rgb color\n   * arguments:\n   * p1 - hex color / R part of RGB\n   * p2 - opacity / G part of RGB\n   * p3 - B part of RGB\n   * p4 - opacity\n   */\n\n\n  rgba(p1, p2, p3, p4) {\n    let hex;\n    let opacity;\n    let red;\n    let green;\n    let blue;\n\n    if (arguments.length === 2 && typeof p1 === 'string') {\n      hex = p1;\n      opacity = p2;\n      hex = validateHex(hex);\n      red = parseInt(hex.substring(0, 2), 16);\n      green = parseInt(hex.substring(2, 4), 16);\n      blue = parseInt(hex.substring(4, 6), 16);\n    } else if (arguments.length === 4 && typeof p1 === 'number') {\n      red = validateRGB(p1);\n      green = validateRGB(p2);\n      blue = validateRGB(p3);\n      opacity = p4;\n    } else {\n      throw new Error('rgba can work with either 2 or 4 arguments');\n    }\n\n    return `rgba(${red}, ${green}, ${blue}, ${opacity})`;\n  }\n\n  getBackgroundKeysPattern() {\n    return /^(bg-|background-)/;\n  }\n\n  isEmpty(color) {\n    if (_.isNil(color) || color === 'transparent') {\n      return true;\n    }\n\n    try {\n      Color(color);\n      return false;\n    } catch (error) {\n      console.warn('Colors.isEmpty failed:', error);\n      return true;\n    }\n  }\n\n  getColorTint(color, tintKey) {\n    if (_.isUndefined(tintKey) || isNaN(tintKey) || _.isUndefined(color)) {\n      // console.error('\"Colors.getColorTint\" must accept a color and tintKey params');\n      return color;\n    }\n\n    if (color === 'transparent') {\n      return color;\n    }\n\n    const colorKey = _.findKey(this, (_value, key) => this[key] === color);\n\n    if (colorKey) {\n      const requiredColorKey = `${colorKey.slice(0, -2)}${tintKey}`;\n      const requiredColor = this[requiredColorKey];\n\n      if (_.isUndefined(requiredColor)) {\n        return this.getTintedColorForDynamicHex(color, tintKey);\n      }\n\n      return requiredColor;\n    }\n\n    return this.getTintedColorForDynamicHex(color, tintKey);\n  }\n\n  getColorName(color) {\n    return ColorName.name(color)[1];\n  }\n\n  getTintedColorForDynamicHex(color, tintKey) {\n    // Handles dynamic colors (non uilib colors)\n    let tintLevel = Math.floor(Number(tintKey) / 10);\n    tintLevel = Math.max(1, tintLevel);\n    tintLevel = Math.min(8, tintLevel);\n    const colorsPalette = this.generateColorPalette(color);\n    return colorsPalette[tintLevel - 1];\n  }\n\n  generateColorPalette = _.memoize(color => {\n    const hsl = Color(color).hsl();\n    const lightness = Math.round(hsl.color[2]);\n    const ls = [hsl.color[2]];\n    let l = lightness - 10;\n\n    while (l >= 20) {\n      ls.unshift(l);\n      l -= 10;\n    }\n\n    l = lightness + 10;\n\n    while (l < 100) {\n      ls.push(l);\n      l += 10;\n    }\n\n    const tints = [];\n\n    _.forEach(ls, e => {\n      const tint = generateColorTint(color, e);\n      tints.push(tint);\n    });\n\n    const sliced = tints.slice(0, 8);\n    const adjusted = adjustSaturation(sliced, color);\n    return adjusted || sliced;\n  });\n\n  isDark(color) {\n    const lum = tinycolor(color).getLuminance();\n    return lum < 0.55;\n  }\n\n  isValidHex(string) {\n    return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(string);\n  }\n\n  getHexString(color) {\n    return tinycolor(color).toHexString();\n  }\n\n  getHSL(color) {\n    return tinycolor(color).toHsl();\n  }\n\n  isTransparent(color) {\n    return color && _.toUpper(color) === _.toUpper('transparent');\n  }\n\n  areEqual(colorA, colorB) {\n    return _.toLower(colorA) === _.toLower(colorB);\n  }\n\n}\n\nfunction adjustSaturation(colors, color) {\n  let array;\n  const lightnessLevel = 80;\n  const saturationLevel = 60;\n  const hsl = Color(color).hsl();\n  const lightness = Math.round(hsl.color[2]);\n\n  if (lightness > lightnessLevel) {\n    const saturation = Math.round(hsl.color[1]);\n\n    if (saturation > saturationLevel) {\n      array = _.map(colors, e => e !== color ? addSaturation(e, saturationLevel) : e);\n    }\n  }\n\n  return array;\n}\n\nfunction addSaturation(color, saturation) {\n  const hsl = Color(color).hsl();\n  hsl.color[1] = saturation;\n  return hsl.hex();\n}\n\nfunction generateColorTint(color, tintLevel) {\n  const hsl = Color(color).hsl();\n  hsl.color[2] = tintLevel;\n  return hsl.hex();\n}\n\nfunction validateRGB(value) {\n  if (isNaN(value) || value > 255 || value < 0) {\n    throw new Error(`${value} is invalid rgb code, please use number between 0-255`);\n  }\n\n  return value;\n}\n\nfunction validateHex(value) {\n  if (!/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(value)) {\n    throw new Error(`${value} is invalid hex color`);\n  }\n\n  value = value.replace('#', '');\n\n  if (value.length === 3) {\n    value = threeDigitHexToSix(value);\n  }\n\n  return value;\n}\n\nfunction threeDigitHexToSix(value) {\n  return value.replace(/./g, '$&$&');\n}\n\nconst TypedColors = Colors;\nconst colorObject = new TypedColors();\ncolorObject.loadColors(colorsPalette);\nexport default colorObject;"]},"metadata":{},"sourceType":"module"}