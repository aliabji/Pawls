{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _excluded = [\"size\", \"spacing\", \"color\", \"inactiveColor\"],\n    _excluded2 = [\"containerStyle\", \"animated\", \"horizontal\", \"animatedScrollOffset\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Colors } from \"../../style\";\nimport { asBaseComponent, Constants } from \"../../commons/new\";\nimport View from \"../view\";\nimport Text from \"../text\";\nimport PageControl from \"../pageControl\";\nimport * as presenter from \"./CarouselPresenter\";\nimport { CarouselProps, PageControlPosition } from \"./types\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport { CarouselProps, PageControlPosition };\n\nvar Carousel = function (_Component) {\n  _inherits(Carousel, _Component);\n\n  var _super = _createSuper(Carousel);\n\n  function Carousel(props) {\n    var _this$props4, _this$props4$animated, _this$props5, _this$props5$animated, _props$pageHeight;\n\n    var _this;\n\n    _classCallCheck(this, Carousel);\n\n    _this = _super.call(this, props);\n    _this.carousel = React.createRef();\n\n    _this.onOrientationChanged = function () {\n      var _this$props = _this.props,\n          pageWidth = _this$props.pageWidth,\n          loop = _this$props.loop;\n\n      if (!pageWidth || loop) {\n        _this.orientationChange = true;\n\n        _this.setState({\n          pageWidth: _this.state.containerWidth || Constants.screenWidth\n        });\n      }\n    };\n\n    _this.getContainerMarginHorizontal = function () {\n      var _this$props$container = _this.props.containerMarginHorizontal,\n          containerMarginHorizontal = _this$props$container === void 0 ? 0 : _this$props$container;\n      return containerMarginHorizontal;\n    };\n\n    _this.getContainerPaddingVertical = function () {\n      var _this$props$container2 = _this.props.containerPaddingVertical,\n          containerPaddingVertical = _this$props$container2 === void 0 ? 0 : _this$props$container2;\n      return containerPaddingVertical;\n    };\n\n    _this.updateOffset = function () {\n      var _this$carousel;\n\n      var animated = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      var _presenter$calcOffset = presenter.calcOffset(_this.props, _this.state),\n          x = _presenter$calcOffset.x,\n          y = _presenter$calcOffset.y;\n\n      if ((_this$carousel = _this.carousel) != null && _this$carousel.current) {\n        _this.carousel.current.scrollTo({\n          x: x,\n          y: y,\n          animated: animated\n        });\n\n        if (Constants.isAndroid) {\n          _this.onMomentumScrollEnd();\n        }\n      }\n    };\n\n    _this.getSnapToOffsets = function () {\n      var _this$state = _this.state,\n          containerWidth = _this$state.containerWidth,\n          pageWidth = _this$state.pageWidth;\n\n      if (_this.shouldEnablePagination()) {\n        return undefined;\n      }\n\n      if (containerWidth) {\n        var spacings = pageWidth === containerWidth ? 0 : _this.getItemSpacings(_this.props);\n        var initialBreak = pageWidth - (containerWidth - pageWidth - spacings) / 2;\n\n        var snapToOffsets = _.times(presenter.getChildrenLength(_this.props), function (index) {\n          return initialBreak + index * pageWidth + _this.getContainerMarginHorizontal();\n        });\n\n        return snapToOffsets;\n      }\n    };\n\n    _this.onContentSizeChange = function () {\n      if (Constants.isAndroid) {\n        _this.updateOffset();\n      }\n    };\n\n    _this.onContainerLayout = function (_ref) {\n      var _ref$nativeEvent$layo = _ref.nativeEvent.layout,\n          containerWidth = _ref$nativeEvent$layo.width,\n          containerHeight = _ref$nativeEvent$layo.height;\n      var _this$props2 = _this.props,\n          _this$props2$pageWidt = _this$props2.pageWidth,\n          pageWidth = _this$props2$pageWidt === void 0 ? containerWidth : _this$props2$pageWidt,\n          _this$props2$pageHeig = _this$props2.pageHeight,\n          pageHeight = _this$props2$pageHeig === void 0 ? containerHeight : _this$props2$pageHeig,\n          horizontal = _this$props2.horizontal;\n      var initialOffset = presenter.calcOffset(_this.props, {\n        currentPage: _this.state.currentPage,\n        pageWidth: pageWidth,\n        pageHeight: pageHeight\n      });\n\n      if (horizontal && containerWidth || !horizontal && containerHeight) {\n        _this.setState({\n          containerWidth: containerWidth,\n          pageWidth: pageWidth,\n          pageHeight: pageHeight,\n          initialOffset: initialOffset\n        });\n      }\n    };\n\n    _this.onMomentumScrollEnd = function () {\n      var _this$state2 = _this.state,\n          currentStandingPage = _this$state2.currentStandingPage,\n          currentPage = _this$state2.currentPage;\n\n      var index = _this.getCalcIndex(currentPage);\n\n      var pagesCount = presenter.getChildrenLength(_this.props);\n\n      if (index < pagesCount) {\n        _this.setState({\n          currentStandingPage: index\n        });\n\n        if (currentStandingPage !== index) {\n          _this.props.onChangePage == null ? void 0 : _this.props.onChangePage(index, currentStandingPage, {\n            isAutoScrolled: _this.isAutoScrolled\n          });\n          _this.isAutoScrolled = false;\n        }\n      }\n    };\n\n    _this.onScroll = function (event) {\n      if (!_this.skippedInitialScroll) {\n        _this.skippedInitialScroll = true;\n        return;\n      }\n\n      var _this$props3 = _this.props,\n          loop = _this$props3.loop,\n          autoplay = _this$props3.autoplay,\n          horizontal = _this$props3.horizontal;\n      var _this$state3 = _this.state,\n          pageWidth = _this$state3.pageWidth,\n          pageHeight = _this$state3.pageHeight;\n      var offsetX = event.nativeEvent.contentOffset.x;\n      var offsetY = event.nativeEvent.contentOffset.y;\n      var offset = horizontal ? offsetX : offsetY;\n      var pageSize = horizontal ? pageWidth : pageHeight;\n\n      if (offset >= 0) {\n        if (!_this.orientationChange) {\n          var newPage = presenter.calcPageIndex(offset, _this.props, pageSize);\n\n          _this.setState({\n            currentPage: newPage\n          });\n        }\n\n        _this.orientationChange = false;\n      }\n\n      if (loop && presenter.isOutOfBounds(offsetX, _this.props, pageWidth)) {\n        _this.updateOffset();\n      }\n\n      if (autoplay) {\n        _this.resetAutoPlay();\n      }\n\n      _this.props.onScroll == null ? void 0 : _this.props.onScroll(event);\n    };\n\n    _this.onScrollEvent = Animated.event([{\n      nativeEvent: {\n        contentOffset: {\n          y: (_this$props4 = _this.props) == null ? void 0 : (_this$props4$animated = _this$props4.animatedScrollOffset) == null ? void 0 : _this$props4$animated.y,\n          x: (_this$props5 = _this.props) == null ? void 0 : (_this$props5$animated = _this$props5.animatedScrollOffset) == null ? void 0 : _this$props5$animated.x\n        }\n      }\n    }], {\n      useNativeDriver: true,\n      listener: _this.onScroll\n    });\n\n    _this.renderChild = function (child, key) {\n      if (child) {\n        var _this$state4 = _this.state,\n            pageWidth = _this$state4.pageWidth,\n            pageHeight = _this$state4.pageHeight;\n        var horizontal = _this.props.horizontal;\n        var paddingLeft = horizontal ? _this.shouldUsePageWidth() ? _this.getItemSpacings(_this.props) : undefined : 0;\n        var index = Number(key);\n        var length = presenter.getChildrenLength(_this.props);\n\n        var containerMarginHorizontal = _this.getContainerMarginHorizontal();\n\n        var marginLeft = index === 0 ? containerMarginHorizontal : 0;\n        var marginRight = index === length - 1 ? containerMarginHorizontal : 0;\n\n        var paddingVertical = _this.getContainerPaddingVertical();\n\n        return _jsxs(View, {\n          style: {\n            width: pageWidth,\n            height: !horizontal ? pageHeight : undefined,\n            paddingLeft: paddingLeft,\n            marginLeft: marginLeft,\n            marginRight: marginRight,\n            paddingVertical: paddingVertical\n          },\n          collapsable: false,\n          children: [_this.shouldAllowAccessibilityLayout() && !Number.isNaN(index) && _jsx(View, {\n            style: styles.hiddenText,\n            children: _jsx(Text, {\n              children: \"page \" + (index + 1) + \" out of \" + length\n            })\n          }), child]\n        }, key);\n      }\n    };\n\n    var defaultPageWidth = props.loop || !props.pageWidth ? Constants.screenWidth : props.pageWidth;\n\n    var _pageHeight = (_props$pageHeight = props.pageHeight) != null ? _props$pageHeight : Constants.screenHeight;\n\n    _this.isAutoScrolled = false;\n    _this.state = {\n      containerWidth: undefined,\n      currentPage: _this.shouldUsePageWidth() ? _this.getCalcIndex(props.initialPage) : props.initialPage,\n      currentStandingPage: props.initialPage || 0,\n      pageWidth: defaultPageWidth,\n      pageHeight: _pageHeight,\n      initialOffset: presenter.calcOffset(props, {\n        currentPage: props.initialPage,\n        pageWidth: defaultPageWidth,\n        pageHeight: _pageHeight\n      }),\n      prevProps: props\n    };\n    return _this;\n  }\n\n  _createClass(Carousel, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.dimensionsChangeListener = Constants.addDimensionsEventListener(this.onOrientationChanged);\n\n      if (this.props.autoplay) {\n        this.startAutoPlay();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      Constants.removeDimensionsEventListener(this.dimensionsChangeListener || this.onOrientationChanged);\n\n      if (this.autoplayTimer) {\n        clearInterval(this.autoplayTimer);\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var autoplay = this.props.autoplay;\n\n      if (autoplay && !prevProps.autoplay) {\n        this.startAutoPlay();\n      } else if (!autoplay && prevProps.autoplay) {\n        this.stopAutoPlay();\n      }\n    }\n  }, {\n    key: \"getItemSpacings\",\n    value: function getItemSpacings(props) {\n      var _props$itemSpacings = props.itemSpacings,\n          itemSpacings = _props$itemSpacings === void 0 ? 16 : _props$itemSpacings;\n      return itemSpacings;\n    }\n  }, {\n    key: \"startAutoPlay\",\n    value: function startAutoPlay() {\n      var _this2 = this;\n\n      this.autoplayTimer = setInterval(function () {\n        _this2.isAutoScrolled = true;\n\n        _this2.goToNextPage();\n      }, this.props.autoplayInterval);\n    }\n  }, {\n    key: \"stopAutoPlay\",\n    value: function stopAutoPlay() {\n      if (this.autoplayTimer) {\n        clearInterval(this.autoplayTimer);\n      }\n    }\n  }, {\n    key: \"resetAutoPlay\",\n    value: function resetAutoPlay() {\n      this.stopAutoPlay();\n      this.startAutoPlay();\n    }\n  }, {\n    key: \"goToPage\",\n    value: function goToPage(pageIndex) {\n      var _this3 = this;\n\n      var animated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      this.setState({\n        currentPage: this.getCalcIndex(pageIndex)\n      }, function () {\n        return _this3.updateOffset(animated);\n      });\n    }\n  }, {\n    key: \"goToNextPage\",\n    value: function goToNextPage() {\n      var currentPage = this.state.currentPage;\n      var pagesCount = presenter.getChildrenLength(this.props);\n      var loop = this.props.loop;\n      var nextPageIndex;\n\n      if (loop) {\n        nextPageIndex = currentPage + 1;\n      } else {\n        nextPageIndex = Math.min(pagesCount - 1, currentPage + 1);\n      }\n\n      this.goToPage(nextPageIndex, true);\n\n      if (loop && currentPage === pagesCount) {\n        this.goToPage(0, false);\n      }\n    }\n  }, {\n    key: \"getCalcIndex\",\n    value: function getCalcIndex(index) {\n      if (Constants.isRTL && Constants.isAndroid) {\n        var length = presenter.getChildrenLength(this.props) - 1;\n        return length - index;\n      }\n\n      return index;\n    }\n  }, {\n    key: \"shouldUsePageWidth\",\n    value: function shouldUsePageWidth() {\n      var _this$props6 = this.props,\n          loop = _this$props6.loop,\n          pageWidth = _this$props6.pageWidth;\n      return !loop && pageWidth;\n    }\n  }, {\n    key: \"shouldEnablePagination\",\n    value: function shouldEnablePagination() {\n      var _this$props7 = this.props,\n          pagingEnabled = _this$props7.pagingEnabled,\n          horizontal = _this$props7.horizontal;\n      return horizontal ? pagingEnabled && !this.shouldUsePageWidth() : true;\n    }\n  }, {\n    key: \"shouldAllowAccessibilityLayout\",\n    value: function shouldAllowAccessibilityLayout() {\n      var allowAccessibleLayout = this.props.allowAccessibleLayout;\n      return allowAccessibleLayout && Constants.accessibility.isScreenReaderEnabled;\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var _this4 = this;\n\n      var _this$props8 = this.props,\n          children = _this$props8.children,\n          loop = _this$props8.loop;\n      var length = presenter.getChildrenLength(this.props);\n      var childrenArray = React.Children.map(children, function (child, index) {\n        return _this4.renderChild(child, \"\" + index);\n      });\n\n      if (loop && childrenArray) {\n        childrenArray.unshift(this.renderChild(children[length - 1], length - 1 + \"-clone\"));\n        childrenArray.push(this.renderChild(children[0], 0 + \"-clone\"));\n      }\n\n      return childrenArray;\n    }\n  }, {\n    key: \"renderPageControl\",\n    value: function renderPageControl() {\n      var _this$props9 = this.props,\n          pageControlPosition = _this$props9.pageControlPosition,\n          _this$props9$pageCont = _this$props9.pageControlProps,\n          pageControlProps = _this$props9$pageCont === void 0 ? {} : _this$props9$pageCont;\n\n      if (pageControlPosition) {\n        var _pageControlProps$siz = pageControlProps.size,\n            size = _pageControlProps$siz === void 0 ? 6 : _pageControlProps$siz,\n            _pageControlProps$spa = pageControlProps.spacing,\n            spacing = _pageControlProps$spa === void 0 ? 8 : _pageControlProps$spa,\n            _pageControlProps$col = pageControlProps.color,\n            color = _pageControlProps$col === void 0 ? Colors.grey20 : _pageControlProps$col,\n            _pageControlProps$ina = pageControlProps.inactiveColor,\n            inactiveColor = _pageControlProps$ina === void 0 ? Colors.grey60 : _pageControlProps$ina,\n            others = _objectWithoutProperties(pageControlProps, _excluded);\n\n        var pagesCount = presenter.getChildrenLength(this.props);\n        var containerStyle = pageControlPosition === PageControlPosition.UNDER ? {\n          marginVertical: 16 - this.getContainerPaddingVertical()\n        } : styles.pageControlContainerStyle;\n        return _jsx(PageControl, _objectSpread(_objectSpread({\n          size: size,\n          spacing: spacing,\n          containerStyle: containerStyle,\n          inactiveColor: inactiveColor,\n          color: color\n        }, others), {}, {\n          numOfPages: pagesCount,\n          currentPage: this.getCalcIndex(this.state.currentPage)\n        }));\n      }\n    }\n  }, {\n    key: \"renderCounter\",\n    value: function renderCounter() {\n      var _this$props10 = this.props,\n          pageWidth = _this$props10.pageWidth,\n          showCounter = _this$props10.showCounter,\n          counterTextStyle = _this$props10.counterTextStyle;\n      var currentStandingPage = this.state.currentStandingPage;\n      var pagesCount = presenter.getChildrenLength(this.props);\n\n      if (showCounter && !pageWidth) {\n        return _jsx(View, {\n          center: true,\n          style: styles.counter,\n          children: _jsxs(Text, {\n            grey80: true,\n            text90: true,\n            style: [{\n              fontWeight: 'bold'\n            }, counterTextStyle],\n            children: [currentStandingPage + 1, \"/\", pagesCount]\n          })\n        });\n      }\n    }\n  }, {\n    key: \"renderAccessibleLayout\",\n    value: function renderAccessibleLayout() {\n      var _this5 = this;\n\n      var _this$props11 = this.props,\n          containerStyle = _this$props11.containerStyle,\n          children = _this$props11.children,\n          testID = _this$props11.testID;\n      return _jsx(View, {\n        style: containerStyle,\n        onLayout: this.onContainerLayout,\n        children: _jsx(ScrollView, {\n          testID: testID,\n          ref: this.carousel,\n          showsVerticalScrollIndicator: false,\n          pagingEnabled: true,\n          onContentSizeChange: this.onContentSizeChange,\n          onScroll: this.onScroll,\n          onMomentumScrollEnd: this.onMomentumScrollEnd,\n          children: React.Children.map(children, function (child, index) {\n            return _this5.renderChild(child, \"\" + index);\n          })\n        })\n      });\n    }\n  }, {\n    key: \"renderCarousel\",\n    value: function renderCarousel() {\n      var _this$props12 = this.props,\n          containerStyle = _this$props12.containerStyle,\n          animated = _this$props12.animated,\n          horizontal = _this$props12.horizontal,\n          animatedScrollOffset = _this$props12.animatedScrollOffset,\n          others = _objectWithoutProperties(_this$props12, _excluded2);\n\n      var initialOffset = this.state.initialOffset;\n      var scrollContainerStyle = this.shouldUsePageWidth() ? {\n        paddingRight: this.getItemSpacings(this.props)\n      } : undefined;\n      var snapToOffsets = this.getSnapToOffsets();\n      var marginBottom = Math.max(0, this.getContainerPaddingVertical() - 16);\n      var ScrollContainer = animatedScrollOffset ? Animated.ScrollView : ScrollView;\n      return _jsxs(View, {\n        animated: animated,\n        style: [{\n          marginBottom: marginBottom\n        }, containerStyle],\n        onLayout: this.onContainerLayout,\n        children: [_jsx(ScrollContainer, _objectSpread(_objectSpread({\n          showsHorizontalScrollIndicator: false,\n          showsVerticalScrollIndicator: false,\n          decelerationRate: \"fast\",\n          scrollEventThrottle: 200\n        }, others), {}, {\n          ref: this.carousel,\n          onScroll: animatedScrollOffset ? this.onScrollEvent : this.onScroll,\n          contentContainerStyle: scrollContainerStyle,\n          horizontal: horizontal,\n          pagingEnabled: this.shouldEnablePagination(),\n          snapToOffsets: snapToOffsets,\n          contentOffset: initialOffset,\n          onContentSizeChange: this.onContentSizeChange,\n          onMomentumScrollEnd: this.onMomentumScrollEnd,\n          children: this.renderChildren()\n        })), this.renderPageControl(), this.renderCounter()]\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.shouldAllowAccessibilityLayout() ? this.renderAccessibleLayout() : this.renderCarousel();\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var currentPage = prevState.currentPage,\n          prevProps = prevState.prevProps;\n      var pageWidth = prevProps.pageWidth,\n          pageHeight = prevProps.pageHeight;\n      var nextPageWidth = nextProps.pageWidth,\n          nextPageHeight = nextProps.pageHeight;\n\n      if (!_.isUndefined(nextPageWidth) && pageWidth !== nextPageWidth || !_.isUndefined(nextPageHeight) && pageHeight !== nextPageHeight) {\n        var _pageWidth = nextPageWidth;\n        var _pageHeight2 = nextPageHeight;\n        return {\n          pageWidth: _pageWidth,\n          initialOffset: presenter.calcOffset(prevProps, {\n            currentPage: currentPage,\n            pageWidth: _pageWidth,\n            pageHeight: _pageHeight2\n          }),\n          prevProps: nextProps\n        };\n      }\n\n      if (prevProps.containerMarginHorizontal !== nextProps.containerMarginHorizontal || prevProps.loop !== nextProps.loop) {\n        return {\n          prevProps: nextProps\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Carousel;\n}(Component);\n\nCarousel.displayName = 'Carousel';\nCarousel.defaultProps = {\n  initialPage: 0,\n  pagingEnabled: true,\n  autoplay: false,\n  autoplayInterval: 4000,\n  horizontal: true\n};\nCarousel.pageControlPositions = PageControlPosition;\nexport { Carousel };\nexport default asBaseComponent(Carousel);\nvar styles = StyleSheet.create({\n  counter: {\n    paddingHorizontal: 8,\n    paddingVertical: 3,\n    borderRadius: 20,\n    backgroundColor: Colors.rgba(Colors.black, 0.6),\n    position: 'absolute',\n    top: 12,\n    right: 12\n  },\n  pageControlContainerStyle: {\n    position: 'absolute',\n    bottom: 16,\n    alignSelf: 'center'\n  },\n  hiddenText: {\n    position: 'absolute',\n    width: 1\n  }\n});","map":{"version":3,"sources":["/Users/aliabji/code/dogs/Pawls/node_modules/react-native-ui-lib/src/components/carousel/index.js"],"names":["_","React","Component","Colors","asBaseComponent","Constants","View","Text","PageControl","presenter","CarouselProps","PageControlPosition","Carousel","props","carousel","createRef","onOrientationChanged","pageWidth","loop","orientationChange","setState","state","containerWidth","screenWidth","getContainerMarginHorizontal","containerMarginHorizontal","getContainerPaddingVertical","containerPaddingVertical","updateOffset","animated","calcOffset","x","y","current","scrollTo","isAndroid","onMomentumScrollEnd","getSnapToOffsets","shouldEnablePagination","undefined","spacings","getItemSpacings","initialBreak","snapToOffsets","times","getChildrenLength","index","onContentSizeChange","onContainerLayout","nativeEvent","layout","width","containerHeight","height","pageHeight","horizontal","initialOffset","currentPage","currentStandingPage","getCalcIndex","pagesCount","onChangePage","isAutoScrolled","onScroll","event","skippedInitialScroll","autoplay","offsetX","contentOffset","offsetY","offset","pageSize","newPage","calcPageIndex","isOutOfBounds","resetAutoPlay","onScrollEvent","Animated","animatedScrollOffset","useNativeDriver","listener","renderChild","child","key","paddingLeft","shouldUsePageWidth","Number","length","marginLeft","marginRight","paddingVertical","shouldAllowAccessibilityLayout","isNaN","styles","hiddenText","defaultPageWidth","screenHeight","initialPage","prevProps","dimensionsChangeListener","addDimensionsEventListener","startAutoPlay","removeDimensionsEventListener","autoplayTimer","clearInterval","stopAutoPlay","itemSpacings","setInterval","goToNextPage","autoplayInterval","pageIndex","nextPageIndex","Math","min","goToPage","isRTL","pagingEnabled","allowAccessibleLayout","accessibility","isScreenReaderEnabled","children","childrenArray","Children","map","unshift","push","pageControlPosition","pageControlProps","size","spacing","color","grey20","inactiveColor","grey60","others","containerStyle","UNDER","marginVertical","pageControlContainerStyle","showCounter","counterTextStyle","counter","fontWeight","testID","scrollContainerStyle","paddingRight","marginBottom","max","ScrollContainer","ScrollView","renderChildren","renderPageControl","renderCounter","renderAccessibleLayout","renderCarousel","nextProps","prevState","nextPageWidth","nextPageHeight","isUndefined","displayName","defaultProps","pageControlPositions","StyleSheet","create","paddingHorizontal","borderRadius","backgroundColor","rgba","black","position","top","right","bottom","alignSelf"],"mappings":"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","sourcesContent":["import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { Animated, ScrollView, StyleSheet } from 'react-native';\nimport { Colors } from \"../../style\";\nimport { asBaseComponent, Constants } from \"../../commons/new\";\nimport View from \"../view\";\nimport Text from \"../text\";\nimport PageControl from \"../pageControl\";\nimport * as presenter from \"./CarouselPresenter\";\nimport { CarouselProps, PageControlPosition } from \"./types\";\nexport { CarouselProps, PageControlPosition };\n\n/**\n * @description: Carousel for scrolling pages horizontally\n * @gif: https://user-images.githubusercontent.com/1780255/107120258-40b5bc80-6895-11eb-9596-8065d3a940ff.gif, https://user-images.githubusercontent.com/1780255/107120257-3eebf900-6895-11eb-9800-402e9e0dc692.gif\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/CarouselScreen.tsx\n * @extends: ScrollView\n * @extendsLink: https://reactnative.dev/docs/scrollview\n * @notes: This is a screen width Component\n */\nclass Carousel extends Component {\n  static displayName = 'Carousel';\n  static defaultProps = {\n    initialPage: 0,\n    pagingEnabled: true,\n    autoplay: false,\n    autoplayInterval: 4000,\n    horizontal: true\n  };\n  static pageControlPositions = PageControlPosition;\n  carousel = React.createRef();\n\n  constructor(props) {\n    super(props);\n    const defaultPageWidth = props.loop || !props.pageWidth ? Constants.screenWidth : props.pageWidth;\n    const pageHeight = props.pageHeight ?? Constants.screenHeight;\n    this.isAutoScrolled = false;\n    this.state = {\n      containerWidth: undefined,\n      // @ts-ignore (defaultProps)\n      currentPage: this.shouldUsePageWidth() ? this.getCalcIndex(props.initialPage) : props.initialPage,\n      currentStandingPage: props.initialPage || 0,\n      pageWidth: defaultPageWidth,\n      pageHeight,\n      initialOffset: presenter.calcOffset(props, {\n        // @ts-ignore (defaultProps)\n        currentPage: props.initialPage,\n        pageWidth: defaultPageWidth,\n        pageHeight\n      }),\n      prevProps: props\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      currentPage,\n      prevProps\n    } = prevState;\n    const {\n      pageWidth,\n      pageHeight\n    } = prevProps;\n    const {\n      pageWidth: nextPageWidth,\n      pageHeight: nextPageHeight\n    } = nextProps;\n\n    if (!_.isUndefined(nextPageWidth) && pageWidth !== nextPageWidth || !_.isUndefined(nextPageHeight) && pageHeight !== nextPageHeight) {\n      const pageWidth = nextPageWidth;\n      const pageHeight = nextPageHeight;\n      return {\n        pageWidth,\n        initialOffset: presenter.calcOffset(prevProps, {\n          currentPage,\n          pageWidth,\n          pageHeight\n        }),\n        prevProps: nextProps\n      };\n    } // for presenter.calcOffset() props parameter\n\n\n    if (prevProps.containerMarginHorizontal !== nextProps.containerMarginHorizontal || prevProps.loop !== nextProps.loop) {\n      return {\n        prevProps: nextProps\n      };\n    }\n\n    return null;\n  }\n\n  componentDidMount() {\n    this.dimensionsChangeListener = Constants.addDimensionsEventListener(this.onOrientationChanged);\n\n    if (this.props.autoplay) {\n      this.startAutoPlay();\n    }\n  }\n\n  componentWillUnmount() {\n    Constants.removeDimensionsEventListener(this.dimensionsChangeListener || this.onOrientationChanged);\n\n    if (this.autoplayTimer) {\n      clearInterval(this.autoplayTimer);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      autoplay\n    } = this.props;\n\n    if (autoplay && !prevProps.autoplay) {\n      this.startAutoPlay();\n    } else if (!autoplay && prevProps.autoplay) {\n      this.stopAutoPlay();\n    }\n  }\n\n  onOrientationChanged = () => {\n    const {\n      pageWidth,\n      loop\n    } = this.props;\n\n    if (!pageWidth || loop) {\n      this.orientationChange = true; // HACK: setting to containerWidth for Android's call when view disappear\n\n      this.setState({\n        pageWidth: this.state.containerWidth || Constants.screenWidth\n      });\n    }\n  };\n\n  getItemSpacings(props) {\n    const {\n      itemSpacings = 16\n    } = props;\n    return itemSpacings;\n  }\n\n  getContainerMarginHorizontal = () => {\n    const {\n      containerMarginHorizontal = 0\n    } = this.props;\n    return containerMarginHorizontal;\n  }; // TODO: RN 61.5 - try to remove this from the children and move to the ScrollView's contentContainerStyle\n  // style={{overflow: 'visible'}} does not work in ScrollView on Android, maybe it will be fixed in the future\n\n  getContainerPaddingVertical = () => {\n    const {\n      containerPaddingVertical = 0\n    } = this.props;\n    return containerPaddingVertical;\n  };\n  updateOffset = (animated = false) => {\n    const {\n      x,\n      y\n    } = presenter.calcOffset(this.props, this.state);\n\n    if (this.carousel?.current) {\n      this.carousel.current.scrollTo({\n        x,\n        y,\n        animated\n      });\n\n      if (Constants.isAndroid) {\n        // this is done to handle onMomentumScrollEnd not being called in Android:\n        // https://github.com/facebook/react-native/issues/11693\n        // https://github.com/facebook/react-native/issues/19246\n        this.onMomentumScrollEnd();\n      }\n    }\n  };\n\n  startAutoPlay() {\n    this.autoplayTimer = setInterval(() => {\n      this.isAutoScrolled = true;\n      this.goToNextPage();\n    }, this.props.autoplayInterval);\n  }\n\n  stopAutoPlay() {\n    if (this.autoplayTimer) {\n      clearInterval(this.autoplayTimer);\n    }\n  }\n\n  resetAutoPlay() {\n    this.stopAutoPlay();\n    this.startAutoPlay();\n  }\n\n  goToPage(pageIndex, animated = true) {\n    this.setState({\n      currentPage: this.getCalcIndex(pageIndex)\n    }, () => this.updateOffset(animated));\n  }\n\n  goToNextPage() {\n    const {\n      currentPage\n    } = this.state;\n    const pagesCount = presenter.getChildrenLength(this.props);\n    const {\n      loop\n    } = this.props;\n    let nextPageIndex;\n\n    if (loop) {\n      nextPageIndex = currentPage + 1;\n    } else {\n      nextPageIndex = Math.min(pagesCount - 1, currentPage + 1);\n    }\n\n    this.goToPage(nextPageIndex, true); // in case of a loop, after we advanced right to the cloned first page,\n    // we return silently to the real first page\n\n    if (loop && currentPage === pagesCount) {\n      this.goToPage(0, false);\n    }\n  }\n\n  getCalcIndex(index) {\n    // to handle scrollView index issue in Android's RTL layout\n    if (Constants.isRTL && Constants.isAndroid) {\n      const length = presenter.getChildrenLength(this.props) - 1;\n      return length - index;\n    }\n\n    return index;\n  }\n\n  getSnapToOffsets = () => {\n    const {\n      containerWidth,\n      pageWidth\n    } = this.state;\n\n    if (this.shouldEnablePagination()) {\n      return undefined;\n    }\n\n    if (containerWidth) {\n      const spacings = pageWidth === containerWidth ? 0 : this.getItemSpacings(this.props);\n      const initialBreak = pageWidth - (containerWidth - pageWidth - spacings) / 2;\n\n      const snapToOffsets = _.times(presenter.getChildrenLength(this.props), index => initialBreak + index * pageWidth + this.getContainerMarginHorizontal());\n\n      return snapToOffsets;\n    }\n  };\n\n  shouldUsePageWidth() {\n    const {\n      loop,\n      pageWidth\n    } = this.props;\n    return !loop && pageWidth;\n  }\n\n  shouldEnablePagination() {\n    const {\n      pagingEnabled,\n      horizontal\n    } = this.props;\n    return horizontal ? pagingEnabled && !this.shouldUsePageWidth() : true;\n  }\n\n  shouldAllowAccessibilityLayout() {\n    const {\n      allowAccessibleLayout\n    } = this.props;\n    return allowAccessibleLayout && Constants.accessibility.isScreenReaderEnabled;\n  }\n\n  onContentSizeChange = () => {\n    // this is to handle initial scroll position (content offset)\n    if (Constants.isAndroid) {\n      this.updateOffset();\n    }\n  };\n  onContainerLayout = ({\n    nativeEvent: {\n      layout: {\n        width: containerWidth,\n        height: containerHeight\n      }\n    }\n  }) => {\n    const {\n      pageWidth = containerWidth,\n      pageHeight = containerHeight,\n      horizontal\n    } = this.props;\n    const initialOffset = presenter.calcOffset(this.props, {\n      currentPage: this.state.currentPage,\n      pageWidth,\n      pageHeight\n    }); // NOTE: This is to avoid resetting containerWidth to 0 - an issue that happens\n    // on Android in some case when onLayout is re-triggered\n\n    if (horizontal && containerWidth || !horizontal && containerHeight) {\n      this.setState({\n        containerWidth,\n        pageWidth,\n        pageHeight,\n        initialOffset\n      });\n    }\n  };\n  onMomentumScrollEnd = () => {\n    // finished full page scroll\n    const {\n      currentStandingPage,\n      currentPage\n    } = this.state;\n    const index = this.getCalcIndex(currentPage);\n    const pagesCount = presenter.getChildrenLength(this.props);\n\n    if (index < pagesCount) {\n      this.setState({\n        currentStandingPage: index\n      });\n\n      if (currentStandingPage !== index) {\n        this.props.onChangePage?.(index, currentStandingPage, {\n          isAutoScrolled: this.isAutoScrolled\n        });\n        this.isAutoScrolled = false;\n      }\n    }\n  };\n  onScroll = event => {\n    if (!this.skippedInitialScroll) {\n      this.skippedInitialScroll = true;\n      return;\n    }\n\n    const {\n      loop,\n      autoplay,\n      horizontal\n    } = this.props;\n    const {\n      pageWidth,\n      pageHeight\n    } = this.state;\n    const offsetX = event.nativeEvent.contentOffset.x;\n    const offsetY = event.nativeEvent.contentOffset.y;\n    const offset = horizontal ? offsetX : offsetY;\n    const pageSize = horizontal ? pageWidth : pageHeight;\n\n    if (offset >= 0) {\n      if (!this.orientationChange) {\n        // Avoid new calculation on orientation change\n        const newPage = presenter.calcPageIndex(offset, this.props, pageSize);\n        this.setState({\n          currentPage: newPage\n        });\n      }\n\n      this.orientationChange = false;\n    }\n\n    if (loop && presenter.isOutOfBounds(offsetX, this.props, pageWidth)) {\n      this.updateOffset();\n    }\n\n    if (autoplay) {\n      // reset the timer to avoid auto scroll immediately after manual one\n      this.resetAutoPlay();\n    }\n\n    this.props.onScroll?.(event);\n  };\n  onScrollEvent = Animated.event([{\n    nativeEvent: {\n      contentOffset: // @ts-ignore\n      {\n        y: this.props?.animatedScrollOffset?.y,\n        x: this.props?.animatedScrollOffset?.x\n      }\n    }\n  }], {\n    useNativeDriver: true,\n    listener: this.onScroll\n  });\n  renderChild = (child, key) => {\n    if (child) {\n      const {\n        pageWidth,\n        pageHeight\n      } = this.state;\n      const {\n        horizontal\n      } = this.props;\n      const paddingLeft = horizontal ? this.shouldUsePageWidth() ? this.getItemSpacings(this.props) : undefined : 0;\n      const index = Number(key);\n      const length = presenter.getChildrenLength(this.props);\n      const containerMarginHorizontal = this.getContainerMarginHorizontal();\n      const marginLeft = index === 0 ? containerMarginHorizontal : 0;\n      const marginRight = index === length - 1 ? containerMarginHorizontal : 0;\n      const paddingVertical = this.getContainerPaddingVertical();\n      return <View style={{\n        width: pageWidth,\n        height: !horizontal ? pageHeight : undefined,\n        paddingLeft,\n        marginLeft,\n        marginRight,\n        paddingVertical\n      }} key={key} collapsable={false}>\n          {this.shouldAllowAccessibilityLayout() && !Number.isNaN(index) && <View style={styles.hiddenText}>\n              <Text>{`page ${index + 1} out of ${length}`}</Text>\n            </View>}\n          {child}\n        </View>;\n    }\n  };\n\n  renderChildren() {\n    const {\n      children,\n      loop\n    } = this.props;\n    const length = presenter.getChildrenLength(this.props);\n    const childrenArray = React.Children.map(children, (child, index) => {\n      return this.renderChild(child, `${index}`);\n    });\n\n    if (loop && childrenArray) {\n      // @ts-ignore\n      childrenArray.unshift(this.renderChild(children[length - 1], `${length - 1}-clone`)); // @ts-ignore\n\n      childrenArray.push(this.renderChild(children[0], `${0}-clone`));\n    }\n\n    return childrenArray;\n  }\n\n  renderPageControl() {\n    const {\n      pageControlPosition,\n      pageControlProps = {}\n    } = this.props;\n\n    if (pageControlPosition) {\n      const {\n        size = 6,\n        spacing = 8,\n        color = Colors.grey20,\n        inactiveColor = Colors.grey60,\n        ...others\n      } = pageControlProps;\n      const pagesCount = presenter.getChildrenLength(this.props);\n      const containerStyle = pageControlPosition === PageControlPosition.UNDER ? {\n        marginVertical: 16 - this.getContainerPaddingVertical()\n      } : styles.pageControlContainerStyle;\n      return <PageControl size={size} spacing={spacing} containerStyle={containerStyle} inactiveColor={inactiveColor} color={color} {...others} numOfPages={pagesCount} currentPage={this.getCalcIndex(this.state.currentPage)} />;\n    }\n  }\n\n  renderCounter() {\n    const {\n      pageWidth,\n      showCounter,\n      counterTextStyle\n    } = this.props;\n    const {\n      currentStandingPage\n    } = this.state;\n    const pagesCount = presenter.getChildrenLength(this.props);\n\n    if (showCounter && !pageWidth) {\n      return <View center style={styles.counter}>\n          <Text grey80 text90 style={[{\n          fontWeight: 'bold'\n        }, counterTextStyle]}>\n            {currentStandingPage + 1}/{pagesCount}\n          </Text>\n        </View>;\n    }\n  }\n\n  renderAccessibleLayout() {\n    const {\n      containerStyle,\n      children,\n      testID\n    } = this.props;\n    return <View style={containerStyle} onLayout={this.onContainerLayout}>\n        <ScrollView testID={testID} ref={this.carousel} showsVerticalScrollIndicator={false} pagingEnabled onContentSizeChange={this.onContentSizeChange} onScroll={this.onScroll} onMomentumScrollEnd={this.onMomentumScrollEnd}>\n          {React.Children.map(children, (child, index) => {\n          return this.renderChild(child, `${index}`);\n        })}\n        </ScrollView>\n      </View>;\n  }\n\n  renderCarousel() {\n    const {\n      containerStyle,\n      animated,\n      horizontal,\n      animatedScrollOffset,\n      ...others\n    } = this.props;\n    const {\n      initialOffset\n    } = this.state;\n    const scrollContainerStyle = this.shouldUsePageWidth() ? {\n      paddingRight: this.getItemSpacings(this.props)\n    } : undefined;\n    const snapToOffsets = this.getSnapToOffsets();\n    const marginBottom = Math.max(0, this.getContainerPaddingVertical() - 16);\n    const ScrollContainer = animatedScrollOffset ? Animated.ScrollView : ScrollView;\n    return <View animated={animated} style={[{\n      marginBottom\n    }, containerStyle]} onLayout={this.onContainerLayout}>\n        <ScrollContainer showsHorizontalScrollIndicator={false} showsVerticalScrollIndicator={false} decelerationRate=\"fast\" scrollEventThrottle={200} {...others} ref={this.carousel} onScroll={animatedScrollOffset ? this.onScrollEvent : this.onScroll} contentContainerStyle={scrollContainerStyle} horizontal={horizontal} pagingEnabled={this.shouldEnablePagination()} snapToOffsets={snapToOffsets} contentOffset={initialOffset} // iOS only\n      onContentSizeChange={this.onContentSizeChange} onMomentumScrollEnd={this.onMomentumScrollEnd}>\n          {this.renderChildren()}\n        </ScrollContainer>\n        {this.renderPageControl()}\n        {this.renderCounter()}\n      </View>;\n  }\n\n  render() {\n    return this.shouldAllowAccessibilityLayout() ? this.renderAccessibleLayout() : this.renderCarousel();\n  }\n\n}\n\nexport { Carousel }; // For tests\n\nexport default asBaseComponent(Carousel);\nconst styles = StyleSheet.create({\n  counter: {\n    paddingHorizontal: 8,\n    paddingVertical: 3,\n    borderRadius: 20,\n    backgroundColor: Colors.rgba(Colors.black, 0.6),\n    position: 'absolute',\n    top: 12,\n    right: 12\n  },\n  pageControlContainerStyle: {\n    position: 'absolute',\n    bottom: 16,\n    alignSelf: 'center'\n  },\n  hiddenText: {\n    position: 'absolute',\n    width: 1\n  }\n});"]},"metadata":{},"sourceType":"module"}