{"ast":null,"code":"import React, { useCallback } from 'react';\nimport { useSharedValue, useAnimatedStyle, withSpring, withTiming } from 'react-native-reanimated';\nimport { PanningDirectionsEnum } from \"../panView\";\nexport var TransitionViewDirectionEnum = PanningDirectionsEnum;\nvar DEFAULT_ANIMATION_VELOCITY = 300;\nvar DEFAULT_ANIMATION_CONFIG = {\n  velocity: DEFAULT_ANIMATION_VELOCITY,\n  damping: 18,\n  stiffness: 100,\n  mass: 0.4\n};\nexport default function useAnimatedTranslator(props) {\n  var initialVisibility = props.initialVisibility;\n  var translateX = useSharedValue(0);\n  var translateY = useSharedValue(0);\n  var visible = useSharedValue(initialVisibility);\n  var init = useCallback(function () {\n    var _f = function _f(to, animationDirection, callback) {\n      if ([TransitionViewDirectionEnum.LEFT, TransitionViewDirectionEnum.RIGHT].includes(animationDirection)) {\n        translateX.value = withTiming(to.x, {\n          duration: 0\n        }, callback);\n      } else if ([TransitionViewDirectionEnum.UP, TransitionViewDirectionEnum.DOWN].includes(animationDirection)) {\n        translateY.value = withTiming(to.y, {\n          duration: 0\n        }, callback);\n      }\n\n      visible.value = true;\n    };\n\n    _f._closure = {\n      TransitionViewDirectionEnum: {\n        LEFT: TransitionViewDirectionEnum.LEFT,\n        RIGHT: TransitionViewDirectionEnum.RIGHT,\n        UP: TransitionViewDirectionEnum.UP,\n        DOWN: TransitionViewDirectionEnum.DOWN\n      },\n      translateX: translateX,\n      withTiming: withTiming,\n      translateY: translateY,\n      visible: visible\n    };\n    _f.asString = \"function _f(to,animationDirection,callback){const{TransitionViewDirectionEnum,translateX,withTiming,translateY,visible}=jsThis._closure;{if([TransitionViewDirectionEnum.LEFT,TransitionViewDirectionEnum.RIGHT].includes(animationDirection)){translateX.value=withTiming(to.x,{duration:0},callback);}else if([TransitionViewDirectionEnum.UP,TransitionViewDirectionEnum.DOWN].includes(animationDirection)){translateY.value=withTiming(to.y,{duration:0},callback);}visible.value=true;}}\";\n    _f.__workletHash = 16530933997799;\n    _f.__location = \"/Users/aliabji/code/dogs/Pawls/node_modules/react-native-ui-lib/src/incubator/TransitionView/useAnimatedTranslator.js (20:27)\";\n\n    global.__reanimatedWorkletInit(_f);\n\n    return _f;\n  }(), []);\n  var animate = useCallback(function () {\n    var _f = function _f(to, animationDirection, callback) {\n      if ([TransitionViewDirectionEnum.LEFT, TransitionViewDirectionEnum.RIGHT].includes(animationDirection)) {\n        translateX.value = withSpring(to.x, DEFAULT_ANIMATION_CONFIG, callback);\n      } else if ([TransitionViewDirectionEnum.UP, TransitionViewDirectionEnum.DOWN].includes(animationDirection)) {\n        translateY.value = withSpring(to.y, DEFAULT_ANIMATION_CONFIG, callback);\n      }\n    };\n\n    _f._closure = {\n      TransitionViewDirectionEnum: {\n        LEFT: TransitionViewDirectionEnum.LEFT,\n        RIGHT: TransitionViewDirectionEnum.RIGHT,\n        UP: TransitionViewDirectionEnum.UP,\n        DOWN: TransitionViewDirectionEnum.DOWN\n      },\n      translateX: translateX,\n      withSpring: withSpring,\n      DEFAULT_ANIMATION_CONFIG: DEFAULT_ANIMATION_CONFIG,\n      translateY: translateY\n    };\n    _f.asString = \"function _f(to,animationDirection,callback){const{TransitionViewDirectionEnum,translateX,withSpring,DEFAULT_ANIMATION_CONFIG,translateY}=jsThis._closure;{if([TransitionViewDirectionEnum.LEFT,TransitionViewDirectionEnum.RIGHT].includes(animationDirection)){translateX.value=withSpring(to.x,DEFAULT_ANIMATION_CONFIG,callback);}else if([TransitionViewDirectionEnum.UP,TransitionViewDirectionEnum.DOWN].includes(animationDirection)){translateY.value=withSpring(to.y,DEFAULT_ANIMATION_CONFIG,callback);}}}\";\n    _f.__workletHash = 1350179477348;\n    _f.__location = \"/Users/aliabji/code/dogs/Pawls/node_modules/react-native-ui-lib/src/incubator/TransitionView/useAnimatedTranslator.js (36:30)\";\n\n    global.__reanimatedWorkletInit(_f);\n\n    return _f;\n  }(), []);\n  var animatedStyle = useAnimatedStyle(function () {\n    var _f = function _f() {\n      return {\n        transform: [{\n          translateX: translateX.value\n        }, {\n          translateY: translateY.value\n        }],\n        opacity: Number(visible.value)\n      };\n    };\n\n    _f._closure = {\n      translateX: translateX,\n      translateY: translateY,\n      visible: visible\n    };\n    _f.asString = \"function _f(){const{translateX,translateY,visible}=jsThis._closure;{return{transform:[{translateX:translateX.value},{translateY:translateY.value}],opacity:Number(visible.value)};}}\";\n    _f.__workletHash = 8885339701445;\n    _f.__location = \"/Users/aliabji/code/dogs/Pawls/node_modules/react-native-ui-lib/src/incubator/TransitionView/useAnimatedTranslator.js (46:41)\";\n    _f.__optimalization = 2;\n\n    global.__reanimatedWorkletInit(_f);\n\n    return _f;\n  }(), []);\n  return {\n    init: init,\n    animate: animate,\n    animatedStyle: animatedStyle\n  };\n}","map":{"version":3,"sources":["/Users/aliabji/code/dogs/Pawls/node_modules/react-native-ui-lib/src/incubator/TransitionView/useAnimatedTranslator.js"],"names":["React","useCallback","useSharedValue","useAnimatedStyle","withSpring","withTiming","PanningDirectionsEnum","TransitionViewDirectionEnum","DEFAULT_ANIMATION_VELOCITY","DEFAULT_ANIMATION_CONFIG","velocity","damping","stiffness","mass","useAnimatedTranslator","props","initialVisibility","translateX","translateY","visible","init","to","animationDirection","callback","LEFT","RIGHT","includes","value","x","duration","UP","DOWN","y","animate","animatedStyle","transform","opacity","Number"],"mappings":"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","sourcesContent":["import React, { useCallback } from 'react';\nimport { useSharedValue, useAnimatedStyle, withSpring, withTiming } from 'react-native-reanimated';\nimport { PanningDirectionsEnum } from \"../panView\";\nexport const TransitionViewDirectionEnum = PanningDirectionsEnum;\nconst DEFAULT_ANIMATION_VELOCITY = 300;\nconst DEFAULT_ANIMATION_CONFIG = {\n  velocity: DEFAULT_ANIMATION_VELOCITY,\n  damping: 18,\n  stiffness: 100,\n  mass: 0.4\n};\nexport default function useAnimatedTranslator(props) {\n  const {\n    initialVisibility\n  } = props; // Has to start at {0, 0} with {opacity: 0} so layout can be measured\n\n  const translateX = useSharedValue(0);\n  const translateY = useSharedValue(0);\n  const visible = useSharedValue(initialVisibility);\n  const init = useCallback((to, animationDirection, callback) => {\n    'worklet'; // @ts-expect-error\n\n    if ([TransitionViewDirectionEnum.LEFT, TransitionViewDirectionEnum.RIGHT].includes(animationDirection)) {\n      translateX.value = withTiming(to.x, {\n        duration: 0\n      }, callback); // @ts-expect-error\n    } else if ([TransitionViewDirectionEnum.UP, TransitionViewDirectionEnum.DOWN].includes(animationDirection)) {\n      translateY.value = withTiming(to.y, {\n        duration: 0\n      }, callback);\n    }\n\n    visible.value = true;\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n  const animate = useCallback((to, animationDirection, callback) => {\n    'worklet'; // @ts-expect-error\n\n    if ([TransitionViewDirectionEnum.LEFT, TransitionViewDirectionEnum.RIGHT].includes(animationDirection)) {\n      translateX.value = withSpring(to.x, DEFAULT_ANIMATION_CONFIG, callback); // @ts-expect-error\n    } else if ([TransitionViewDirectionEnum.UP, TransitionViewDirectionEnum.DOWN].includes(animationDirection)) {\n      translateY.value = withSpring(to.y, DEFAULT_ANIMATION_CONFIG, callback);\n    }\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n  const animatedStyle = useAnimatedStyle(() => {\n    return {\n      transform: [{\n        translateX: translateX.value\n      }, {\n        translateY: translateY.value\n      }],\n      // TODO: do we want to take the component's opacity here? - I think combining opacities is buggy\n      opacity: Number(visible.value)\n    };\n  }, []);\n  return {\n    init,\n    animate,\n    animatedStyle\n  };\n}"]},"metadata":{},"sourceType":"module"}