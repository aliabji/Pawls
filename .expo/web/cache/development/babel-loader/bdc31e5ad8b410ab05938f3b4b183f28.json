{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"migrate\", \"customWarning\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useEffect, forwardRef } from 'react';\nimport { mapKeys } from 'lodash';\nimport hoistStatics from 'hoist-non-react-statics';\nimport OldTextField from \"./index\";\nimport NewTextField from \"../../incubator/TextField\";\nimport { LogService } from \"../../services\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar propsMigrationMap = {\n  helperText: 'hint',\n  title: 'label',\n  titleColor: 'labelColor',\n  titleStyle: 'labelStyle',\n  showCharacterCounter: 'showCharCounter',\n  transformer: 'formatter'\n};\nvar specialMigrationMap = {\n  prefix: 'leadingAccessory',\n  prefixStyle: 'leadingAccessory',\n  rightIconSource: 'trailingAccessory',\n  rightIconStyle: 'trailingAccessory',\n  rightButtonProps: 'trailingAccessory',\n  leadingIcon: 'leadingAccessory',\n  useTopErrors: 'validationMessagePosition'\n};\nvar customMessageMap = {\n  centered: \"Pass textAlign to 'style' prop instead.\",\n  error: \"Use 'validationMessage' with 'validate' props\",\n  expandable: 'This prop will not be supported anymore',\n  renderExpandableInput: 'This prop will not be supported anymore',\n  renderExpandable: 'This prop will not be supported anymore',\n  onToggleExpandableModal: 'This prop will not be supported anymore',\n  topBarProps: 'This prop will not be supported anymore',\n  transformer: 'This prop will not be supported anymore'\n};\n\nfunction migrateProps(props) {\n  var fixedProps = mapKeys(props, function (value, key) {\n    if (propsMigrationMap[key] && value !== undefined) {\n      LogService.deprecationWarn({\n        component: 'TextField',\n        oldProp: key,\n        newProp: propsMigrationMap[key]\n      });\n      return propsMigrationMap[key];\n    } else if (specialMigrationMap[key] && value !== undefined) {\n      LogService.warn(\"The new TextField implementation does not support the '\" + key + \"' prop. Please use the '\" + specialMigrationMap[key] + \"' instead\");\n    } else if (customMessageMap[key] && value !== undefined) {\n      LogService.warn(\"The new TextField implementation does not support the '\" + key + \"' prop. \" + customMessageMap[key]);\n    }\n\n    return key;\n  });\n  return fixedProps;\n}\n\nvar TextFieldMigrator = forwardRef(function (_ref, ref) {\n  var _ref$migrate = _ref.migrate,\n      migrate = _ref$migrate === void 0 ? false : _ref$migrate,\n      customWarning = _ref.customWarning,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  useEffect(function () {\n    if (!migrate) {\n      LogService.warn(customWarning != null ? customWarning : \"RNUILib TextField component will soon be replaced with a new implementation, in order to start the migration - please pass the 'migrate' prop\");\n    }\n  }, []);\n\n  if (migrate) {\n    var migratedProps = migrateProps(props);\n    return _jsx(NewTextField, _objectSpread(_objectSpread({}, migratedProps), {}, {\n      ref: ref\n    }));\n  } else {\n    return _jsx(OldTextField, _objectSpread(_objectSpread({}, props), {}, {\n      ref: ref\n    }));\n  }\n});\nhoistStatics(TextFieldMigrator, NewTextField);\nTextFieldMigrator.displayName = 'TextField';\nexport default TextFieldMigrator;","map":{"version":3,"sources":["/Users/aliabji/code/dogs/Pawls/node_modules/react-native-ui-lib/src/components/textField/TextFieldMigrator.js"],"names":["React","useEffect","forwardRef","mapKeys","hoistStatics","OldTextField","NewTextField","LogService","propsMigrationMap","helperText","title","titleColor","titleStyle","showCharacterCounter","transformer","specialMigrationMap","prefix","prefixStyle","rightIconSource","rightIconStyle","rightButtonProps","leadingIcon","useTopErrors","customMessageMap","centered","error","expandable","renderExpandableInput","renderExpandable","onToggleExpandableModal","topBarProps","migrateProps","props","fixedProps","value","key","undefined","deprecationWarn","component","oldProp","newProp","warn","TextFieldMigrator","ref","migrate","customWarning","migratedProps","displayName"],"mappings":"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","sourcesContent":["import React, { useEffect, forwardRef } from 'react';\nimport { mapKeys } from 'lodash';\nimport hoistStatics from 'hoist-non-react-statics';\nimport OldTextField from \"./index\";\nimport NewTextField from \"../../incubator/TextField\";\nimport { LogService } from \"../../services\";\nconst propsMigrationMap = {\n  /* LABEL */\n  helperText: 'hint',\n  title: 'label',\n  titleColor: 'labelColor',\n  titleStyle: 'labelStyle',\n\n  /* CHAR COUNTER */\n  showCharacterCounter: 'showCharCounter',\n  transformer: 'formatter'\n};\nconst specialMigrationMap = {\n  prefix: 'leadingAccessory',\n  prefixStyle: 'leadingAccessory',\n  rightIconSource: 'trailingAccessory',\n  rightIconStyle: 'trailingAccessory',\n  rightButtonProps: 'trailingAccessory',\n  leadingIcon: 'leadingAccessory',\n  useTopErrors: 'validationMessagePosition'\n};\nconst customMessageMap = {\n  centered: `Pass textAlign to 'style' prop instead.`,\n  error: `Use 'validationMessage' with 'validate' props`,\n  expandable: 'This prop will not be supported anymore',\n  renderExpandableInput: 'This prop will not be supported anymore',\n  renderExpandable: 'This prop will not be supported anymore',\n  onToggleExpandableModal: 'This prop will not be supported anymore',\n  topBarProps: 'This prop will not be supported anymore',\n  transformer: 'This prop will not be supported anymore'\n};\n\nfunction migrateProps(props) {\n  const fixedProps = mapKeys(props, (value, key) => {\n    if (propsMigrationMap[key] && value !== undefined) {\n      LogService.deprecationWarn({\n        component: 'TextField',\n        oldProp: key,\n        newProp: propsMigrationMap[key]\n      });\n      return propsMigrationMap[key];\n    } else if (specialMigrationMap[key] && value !== undefined) {\n      LogService.warn(`The new TextField implementation does not support the '${key}' prop. Please use the '${specialMigrationMap[key]}' instead`);\n    } else if (customMessageMap[key] && value !== undefined) {\n      LogService.warn(`The new TextField implementation does not support the '${key}' prop. ${customMessageMap[key]}`);\n    }\n\n    return key;\n  });\n  return fixedProps;\n}\n\nconst TextFieldMigrator = forwardRef(({\n  migrate = false,\n  customWarning,\n  ...props\n}, ref) => {\n  useEffect(() => {\n    if (!migrate) {\n      LogService.warn(customWarning ?? `RNUILib TextField component will soon be replaced with a new implementation, in order to start the migration - please pass the 'migrate' prop`);\n    }\n  }, []);\n\n  if (migrate) {\n    const migratedProps = migrateProps(props); // @ts-ignore\n\n    return <NewTextField {...migratedProps} ref={ref} />;\n  } else {\n    // @ts-expect-error\n    return <OldTextField {...props} ref={ref} />;\n  }\n});\nhoistStatics(TextFieldMigrator, NewTextField);\nTextFieldMigrator.displayName = 'TextField';\nexport default TextFieldMigrator;"]},"metadata":{},"sourceType":"module"}