{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nvar _Typography$text;\n\nvar _excluded = [\"inputStyle\", \"selectionColor\", \"title\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport _pt from \"prop-types\";\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport NativeModules from \"react-native-web/dist/exports/NativeModules\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport findNodeHandle from \"react-native-web/dist/exports/findNodeHandle\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Colors, BorderRadiuses, ThemeManager, Typography, Spacings } from \"../../style\";\nimport Assets from \"../../assets\";\nimport { LogService } from \"../../services\";\nimport { Constants, asBaseComponent } from \"../../commons/new\";\nimport { TextField } from \"../inputs\";\nimport View from \"../view\";\nimport TouchableOpacity from \"../touchableOpacity\";\nimport Text from \"../text\";\nimport Chip from \"../chip\";\nimport Icon from \"../icon\";\nimport { getValidationBasedColor, getCounterTextColor, getCounterText, getChipDismissColor, isDisabled } from \"./Presenter\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar GUTTER_SPACING = 8;\n\nvar ChipsInput = function (_Component) {\n  _inherits(ChipsInput, _Component);\n\n  var _super = _createSuper(ChipsInput);\n\n  function ChipsInput(props) {\n    var _this$input$current;\n\n    var _this;\n\n    _classCallCheck(this, ChipsInput);\n\n    _this = _super.call(this, props);\n    _this.input = React.createRef();\n    _this.scrollRef = React.createRef();\n\n    _this.addTag = function () {\n      var _this$scrollRef, _this$scrollRef$curre;\n\n      var _this$props = _this.props,\n          onCreateTag = _this$props.onCreateTag,\n          disableTagAdding = _this$props.disableTagAdding,\n          maxLength = _this$props.maxLength,\n          chipsProps = _this$props.chips;\n      var _this$state = _this.state,\n          value = _this$state.value,\n          chips = _this$state.chips;\n\n      if ((_this$scrollRef = _this.scrollRef) != null && (_this$scrollRef$curre = _this$scrollRef.current) != null && _this$scrollRef$curre.scrollToEnd) {\n        var _this$scrollRef2, _this$scrollRef2$curr;\n\n        (_this$scrollRef2 = _this.scrollRef) == null ? void 0 : (_this$scrollRef2$curr = _this$scrollRef2.current) == null ? void 0 : _this$scrollRef2$curr.scrollToEnd();\n      }\n\n      if (disableTagAdding) {\n        return;\n      }\n\n      if (_.isNil(value) || _.isEmpty(value.trim())) {\n        return;\n      }\n\n      if (maxLength && _this.state.chips.length >= maxLength) {\n        _this.setState({\n          value: ''\n        });\n\n        return;\n      }\n\n      var newChip = _.isFunction(onCreateTag) ? onCreateTag(value) : chipsProps ? {\n        label: value\n      } : value;\n      var newChips = [].concat(_toConsumableArray(chips), [newChip]);\n\n      _this.setState({\n        value: '',\n        chips: newChips\n      });\n\n      _.invoke(_this.props, 'onChangeTags', newChips, ChipsInput.onChangeTagsActions.ADDED, newChip);\n\n      _this.clear();\n    };\n\n    _this.markTagIndex = function (chipIndex) {\n      _this.setState({\n        chipIndexToRemove: chipIndex\n      });\n    };\n\n    _this.onChangeText = _.debounce(function (value) {\n      _this.setState({\n        value: value,\n        chipIndexToRemove: undefined\n      });\n\n      _.invoke(_this.props, 'onChangeText', value);\n    }, 0);\n\n    _this.removeTag = function () {\n      var _this$state2 = _this.state,\n          value = _this$state2.value,\n          chips = _this$state2.chips,\n          chipIndexToRemove = _this$state2.chipIndexToRemove;\n\n      var tagsCount = _.size(chips);\n\n      var hasNoValue = _.isEmpty(value);\n\n      var hasTags = tagsCount > 0;\n      var disableTagRemoval = _this.props.disableTagRemoval;\n\n      if (disableTagRemoval) {\n        return;\n      }\n\n      if (hasNoValue && hasTags && _.isUndefined(chipIndexToRemove)) {\n        _this.setState({\n          chipIndexToRemove: tagsCount - 1\n        });\n      } else if (!_.isUndefined(chipIndexToRemove)) {\n        _this.removeMarkedTag();\n      }\n    };\n\n    _this.onKeyPress = function (event) {\n      _.invoke(_this.props, 'onKeyPress', event);\n\n      var keyCode = _.get(event, 'nativeEvent.key');\n\n      var pressedBackspace = keyCode === Constants.backspaceKey;\n\n      if (pressedBackspace) {\n        _this.removeTag();\n      }\n    };\n\n    _this.getLabel = function (item) {\n      var getLabel = _this.props.getLabel;\n\n      if (getLabel) {\n        return getLabel(item);\n      }\n\n      if (_.isString(item)) {\n        return item;\n      }\n\n      return _.get(item, 'label');\n    };\n\n    _this.onFocus = function () {\n      _this.setState({\n        isFocused: true\n      });\n    };\n\n    _this.onBlur = function () {\n      _this.setState({\n        isFocused: false\n      });\n    };\n\n    _this.renderTag = function (tag, index) {\n      var _this$props2 = _this.props,\n          tagStyle = _this$props2.tagStyle,\n          renderTag = _this$props2.renderTag;\n      var chipIndexToRemove = _this.state.chipIndexToRemove;\n      var shouldMarkTag = chipIndexToRemove === index;\n      var markedTagStyle = tag.invalid ? styles.invalidMarkedTag : styles.tagMarked;\n      var defaultTagStyle = tag.invalid ? styles.invalidTag : styles.tag;\n\n      if (_.isFunction(renderTag)) {\n        return renderTag(tag, index, shouldMarkTag, _this.getLabel(tag));\n      }\n\n      return _jsx(View, {\n        style: [defaultTagStyle, tagStyle, basicTagStyle, shouldMarkTag && markedTagStyle],\n        children: _this.renderLabel(tag, shouldMarkTag)\n      }, index);\n    };\n\n    _this.renderTagWrapper = function (tag, index) {\n      return _jsx(TouchableOpacity, {\n        activeOpacity: 1,\n        onPress: function onPress() {\n          return _this.onTagPress(index);\n        },\n        accessibilityHint: !_this.props.disableTagRemoval ? 'tap twice for remove tag mode' : undefined,\n        children: _this.renderTag(tag, index)\n      }, index);\n    };\n\n    _this.renderNewChip = function () {\n      var defaultChipProps = _this.props.defaultChipProps;\n      var _this$state3 = _this.state,\n          chipIndexToRemove = _this$state3.chipIndexToRemove,\n          chips = _this$state3.chips;\n      var disabled = isDisabled(_this.props);\n      return _.map(chips, function (chip, index) {\n        var selected = chipIndexToRemove === index;\n        var dismissColor = getChipDismissColor(chip, selected, defaultChipProps);\n        return _jsx(View, {\n          center: true,\n          flexS: true,\n          \"marginT-2\": true,\n          \"marginB-2\": true,\n          children: _jsx(Chip, _objectSpread(_objectSpread(_objectSpread({\n            containerStyle: [styles.tag, chip.invalid && styles.invalidTag],\n            labelStyle: [styles.tagLabel, chip.invalid && styles.errorMessage, selected && !!chip.invalid && styles.errorMessageWhileMarked]\n          }, chip), defaultChipProps), {}, {\n            disabled: disabled,\n            \"marginR-s2\": true,\n            \"marginT-2\": true,\n            left: Assets.icons.x,\n            onPress: function onPress(_) {\n              return _this.onTagPress(index);\n            },\n            onDismiss: selected ? function () {\n              return _this.onTagPress(index);\n            } : undefined,\n            dismissColor: dismissColor,\n            dismissIcon: Assets.icons.xSmall,\n            dismissIconStyle: styles.dismissIconStyle\n          }), index)\n        });\n      });\n    };\n\n    _this.renderTitleText = function () {\n      var _this$props3 = _this.props,\n          title = _this$props3.title,\n          defaultChipProps = _this$props3.defaultChipProps;\n      var color = _this.state.isFocused ? getValidationBasedColor(_this.state.chips, defaultChipProps) : Colors.grey30;\n      return title && _jsx(Text, {\n        text70L: true,\n        color: color,\n        children: title\n      });\n    };\n\n    _this.renderChips = function () {\n      var _this$props4 = _this.props,\n          disableTagRemoval = _this$props4.disableTagRemoval,\n          chipsProps = _this$props4.chips;\n      var chips = _this.state.chips;\n      var renderFunction = disableTagRemoval ? _this.renderTag : _this.renderTagWrapper;\n\n      if (chipsProps) {\n        return _this.renderNewChip();\n      } else {\n        return _.map(chips, function (tag, index) {\n          return _jsx(View, {\n            children: renderFunction(tag, index)\n          });\n        });\n      }\n    };\n\n    _this.renderUnderline = function () {\n      var _this$state4 = _this.state,\n          isFocused = _this$state4.isFocused,\n          chips = _this$state4.chips;\n      var defaultChipProps = _this.props.defaultChipProps;\n      var color = getValidationBasedColor(chips, defaultChipProps);\n      return _jsx(View, {\n        height: 1,\n        \"marginT-10\": true,\n        backgroundColor: isFocused ? color : Colors.grey50\n      });\n    };\n\n    _this.renderChipsContainer = function () {\n      var _this$props5 = _this.props,\n          maxHeight = _this$props5.maxHeight,\n          scrollViewProps = _this$props5.scrollViewProps;\n      var Container = maxHeight ? ScrollView : View;\n      return _jsxs(Container, _objectSpread(_objectSpread({\n        ref: _this.scrollRef,\n        showsVerticalScrollIndicator: false,\n        style: !maxHeight && styles.tagsList,\n        contentContainerStyle: styles.tagsList\n      }, scrollViewProps), {}, {\n        children: [_this.renderChips(), _this.renderTextInput()]\n      }));\n    };\n\n    _this.state = {\n      value: props.value,\n      chips: _.cloneDeep(props.tags || props.chips) || [],\n      chipIndexToRemove: undefined,\n      initialChips: props.tags || props.chips,\n      isFocused: ((_this$input$current = _this.input.current) == null ? void 0 : _this$input$current.isFocused()) || false\n    };\n    LogService.componentDeprecationWarn({\n      oldComponent: 'ChipsInput',\n      newComponent: 'Incubator.ChipsInput'\n    });\n    return _this;\n  }\n\n  _createClass(ChipsInput, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (Constants.isAndroid) {\n        var textInputHandle = findNodeHandle(this.input.current);\n\n        if (textInputHandle && NativeModules.TextInputDelKeyHandler) {\n          NativeModules.TextInputDelKeyHandler.register(textInputHandle);\n        }\n      }\n    }\n  }, {\n    key: \"removeMarkedTag\",\n    value: function removeMarkedTag() {\n      var _this$state5 = this.state,\n          chips = _this$state5.chips,\n          chipIndexToRemove = _this$state5.chipIndexToRemove;\n\n      if (!_.isUndefined(chipIndexToRemove)) {\n        var removedTag = chips[chipIndexToRemove];\n        chips.splice(chipIndexToRemove, 1);\n        this.setState({\n          chips: chips,\n          chipIndexToRemove: undefined\n        });\n\n        _.invoke(this.props, 'onChangeTags', chips, ChipsInput.onChangeTagsActions.REMOVED, removedTag);\n      }\n    }\n  }, {\n    key: \"onTagPress\",\n    value: function onTagPress(index) {\n      var onTagPress = this.props.onTagPress;\n      var chipIndexToRemove = this.state.chipIndexToRemove;\n\n      if (onTagPress) {\n        onTagPress(index, chipIndexToRemove);\n        return;\n      }\n\n      if (chipIndexToRemove === index) {\n        this.removeMarkedTag();\n      } else {\n        this.markTagIndex(index);\n      }\n    }\n  }, {\n    key: \"isLastTagMarked\",\n    value: function isLastTagMarked() {\n      var _this$state6 = this.state,\n          chips = _this$state6.chips,\n          chipIndexToRemove = _this$state6.chipIndexToRemove;\n\n      var tagsCount = _.size(chips);\n\n      var isLastTagMarked = chipIndexToRemove === tagsCount - 1;\n      return isLastTagMarked;\n    }\n  }, {\n    key: \"renderLabel\",\n    value: function renderLabel(tag, shouldMarkTag) {\n      var typography = this.props.modifiers.typography;\n      var label = this.getLabel(tag);\n      return _jsxs(View, {\n        row: true,\n        centerV: true,\n        children: [shouldMarkTag && _jsx(Icon, {\n          style: [styles.removeIcon, tag.invalid && styles.basicTagStyle && styles.invalidTagRemoveIcon],\n          source: Assets.icons.x\n        }), _jsx(Text, {\n          style: [tag.invalid ? shouldMarkTag ? styles.errorMessageWhileMarked : styles.errorMessage : styles.tagLabel, typography],\n          accessibilityLabel: label + \" tag\",\n          children: !tag.invalid && shouldMarkTag ? 'Remove' : label\n        })]\n      });\n    }\n  }, {\n    key: \"renderCharCounter\",\n    value: function renderCharCounter() {\n      var maxLength = this.props.maxLength;\n      var counter = this.state.chips.length;\n\n      if (maxLength) {\n        var color = getCounterTextColor(this.state.chips, this.props);\n        var counterText = getCounterText(counter, maxLength);\n        return _jsx(Text, {\n          color: color,\n          style: styles.label,\n          accessibilityLabel: counter + \" out of \" + maxLength + \" max chips\",\n          children: counterText\n        });\n      }\n    }\n  }, {\n    key: \"renderTextInput\",\n    value: function renderTextInput() {\n      var _this$props6 = this.props,\n          inputStyle = _this$props6.inputStyle,\n          selectionColor = _this$props6.selectionColor,\n          title = _this$props6.title,\n          others = _objectWithoutProperties(_this$props6, _excluded);\n\n      var value = this.state.value;\n      var isLastTagMarked = this.isLastTagMarked();\n      return _jsx(View, {\n        style: styles.inputWrapper,\n        children: _jsx(TextField, _objectSpread(_objectSpread({\n          ref: this.input,\n          text80: true,\n          blurOnSubmit: false\n        }, others), {}, {\n          maxLength: undefined,\n          title: this.props.chips ? undefined : title,\n          value: value,\n          onSubmitEditing: this.addTag,\n          onChangeText: this.onChangeText,\n          onKeyPress: this.onKeyPress,\n          enableErrors: false,\n          onFocus: this.onFocus,\n          onBlur: this.onBlur,\n          hideUnderline: true,\n          selectionColor: isLastTagMarked ? 'transparent' : selectionColor,\n          style: [inputStyle, styles.alignTextCenter],\n          containerStyle: {\n            flexGrow: 0\n          },\n          collapsable: false,\n          accessibilityHint: !this.props.disableTagRemoval ? 'press keyboard delete button to remove last tag' : undefined\n        }))\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props7 = this.props,\n          containerStyle = _this$props7.containerStyle,\n          hideUnderline = _this$props7.hideUnderline,\n          validationErrorMessage = _this$props7.validationErrorMessage,\n          leftElement = _this$props7.leftElement,\n          maxHeight = _this$props7.maxHeight,\n          chips = _this$props7.chips;\n      var chipIndexToRemove = this.state.chipIndexToRemove;\n      return _jsxs(View, {\n        style: [!hideUnderline && styles.withUnderline, containerStyle],\n        children: [!!chips && this.renderTitleText(), _jsxs(View, {\n          style: [styles.tagListContainer, {\n            maxHeight: maxHeight\n          }],\n          children: [leftElement, this.renderChipsContainer()]\n        }), !hideUnderline && this.renderUnderline(), this.renderCharCounter(), validationErrorMessage ? _jsx(View, {\n          children: _jsx(Text, {\n            style: [styles.errorMessage, !!chipIndexToRemove && styles.errorMessageWhileMarked],\n            children: validationErrorMessage\n          })\n        }) : null]\n      });\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      var _this$input$current2;\n\n      (_this$input$current2 = this.input.current) == null ? void 0 : _this$input$current2.blur();\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var _this$input$current3;\n\n      (_this$input$current3 = this.input.current) == null ? void 0 : _this$input$current3.focus();\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var _this$input$current4;\n\n      (_this$input$current4 = this.input.current) == null ? void 0 : _this$input$current4.clear();\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var tags = nextProps.tags,\n          chips = nextProps.chips;\n\n      if (tags && tags !== prevState.initialChips || chips && chips !== prevState.initialChips) {\n        return {\n          initialChips: nextProps.tags || nextProps.chips,\n          chips: nextProps.tags || nextProps.chips\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return ChipsInput;\n}(Component);\n\nChipsInput.propTypes = {\n  tags: _pt.arrayOf(_pt.any),\n  chips: _pt.array,\n  getLabel: _pt.func,\n  renderTag: _pt.func,\n  onChangeTags: _pt.func,\n  onCreateTag: _pt.func,\n  onTagPress: _pt.func,\n  validationErrorMessage: _pt.string,\n  disableTagRemoval: _pt.bool,\n  disableTagAdding: _pt.bool,\n  hideUnderline: _pt.bool,\n  maxLength: _pt.number,\n  maxHeight: _pt.number,\n  leftElement: _pt.oneOfType([_pt.element, _pt.arrayOf(_pt.element)]),\n  value: _pt.any,\n  selectionColor: _pt.oneOfType([_pt.string, _pt.number])\n};\nChipsInput.displayName = 'ChipsInput';\nChipsInput.onChangeTagsActions = {\n  ADDED: 'added',\n  REMOVED: 'removed'\n};\nexport { ChipsInput };\nexport default asBaseComponent(ChipsInput);\nvar basicTagStyle = {\n  borderRadius: BorderRadiuses.br100,\n  paddingVertical: 4.5,\n  paddingHorizontal: 12,\n  marginRight: GUTTER_SPACING,\n  marginVertical: GUTTER_SPACING / 2\n};\nvar styles = StyleSheet.create({\n  withUnderline: {\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    borderColor: ThemeManager.dividerColor\n  },\n  tagsList: {\n    minHeight: 38,\n    backgroundColor: 'transparent',\n    flexDirection: 'row',\n    flexWrap: 'wrap'\n  },\n  tagListContainer: {\n    backgroundColor: 'transparent',\n    flexDirection: 'row',\n    flexWrap: 'nowrap'\n  },\n  inputWrapper: {\n    flexGrow: 1,\n    minWidth: 120,\n    backgroundColor: 'transparent',\n    justifyContent: 'center'\n  },\n  tag: {\n    borderWidth: 0,\n    paddingVertical: 5,\n    backgroundColor: Colors.primary\n  },\n  invalidTag: {\n    borderWidth: 1,\n    borderColor: Colors.red30,\n    backgroundColor: 'transparent'\n  },\n  basicTagStyle: _objectSpread({}, basicTagStyle),\n  invalidMarkedTag: {\n    borderColor: Colors.red10\n  },\n  tagMarked: {\n    backgroundColor: Colors.grey10\n  },\n  dismissIconStyle: {\n    width: 10,\n    height: 10,\n    marginRight: Spacings.s1\n  },\n  removeIcon: {\n    tintColor: Colors.white,\n    width: 10,\n    height: 10,\n    marginRight: 6\n  },\n  invalidTagRemoveIcon: {\n    tintColor: Colors.red10\n  },\n  tagLabel: _objectSpread(_objectSpread({}, Typography.text80), {}, {\n    color: Colors.white\n  }),\n  errorMessage: _objectSpread(_objectSpread({}, Typography.text80), {}, {\n    color: Colors.red30\n  }),\n  errorMessageWhileMarked: {\n    color: Colors.red10\n  },\n  label: _objectSpread({\n    marginTop: Spacings.s1,\n    alignSelf: 'flex-end',\n    height: (_Typography$text = Typography.text80) == null ? void 0 : _Typography$text.lineHeight\n  }, Typography.text80),\n  alignTextCenter: {\n    textAlignVertical: 'center'\n  }\n});","map":{"version":3,"sources":["/Users/aliabji/code/dogs/Pawls/node_modules/react-native-ui-lib/src/components/chipsInput/index.js"],"names":["_pt","_","React","Component","Colors","BorderRadiuses","ThemeManager","Typography","Spacings","Assets","LogService","Constants","asBaseComponent","TextField","View","TouchableOpacity","Text","Chip","Icon","getValidationBasedColor","getCounterTextColor","getCounterText","getChipDismissColor","isDisabled","GUTTER_SPACING","ChipsInput","props","input","createRef","scrollRef","addTag","onCreateTag","disableTagAdding","maxLength","chipsProps","chips","state","value","current","scrollToEnd","isNil","isEmpty","trim","length","setState","newChip","isFunction","label","newChips","invoke","onChangeTagsActions","ADDED","clear","markTagIndex","chipIndex","chipIndexToRemove","onChangeText","debounce","undefined","removeTag","tagsCount","size","hasNoValue","hasTags","disableTagRemoval","isUndefined","removeMarkedTag","onKeyPress","event","keyCode","get","pressedBackspace","backspaceKey","getLabel","item","isString","onFocus","isFocused","onBlur","renderTag","tag","index","tagStyle","shouldMarkTag","markedTagStyle","invalid","styles","invalidMarkedTag","tagMarked","defaultTagStyle","invalidTag","basicTagStyle","renderLabel","renderTagWrapper","onTagPress","renderNewChip","defaultChipProps","disabled","map","chip","selected","dismissColor","tagLabel","errorMessage","errorMessageWhileMarked","icons","x","xSmall","dismissIconStyle","renderTitleText","title","color","grey30","renderChips","renderFunction","renderUnderline","grey50","renderChipsContainer","maxHeight","scrollViewProps","Container","ScrollView","tagsList","renderTextInput","cloneDeep","tags","initialChips","componentDeprecationWarn","oldComponent","newComponent","isAndroid","textInputHandle","findNodeHandle","NativeModules","TextInputDelKeyHandler","register","removedTag","splice","REMOVED","isLastTagMarked","typography","modifiers","removeIcon","invalidTagRemoveIcon","counter","counterText","inputStyle","selectionColor","others","inputWrapper","alignTextCenter","flexGrow","containerStyle","hideUnderline","validationErrorMessage","leftElement","withUnderline","tagListContainer","renderCharCounter","blur","focus","nextProps","prevState","propTypes","arrayOf","any","array","func","onChangeTags","string","bool","number","oneOfType","element","displayName","borderRadius","br100","paddingVertical","paddingHorizontal","marginRight","marginVertical","StyleSheet","create","borderBottomWidth","hairlineWidth","borderColor","dividerColor","minHeight","backgroundColor","flexDirection","flexWrap","minWidth","justifyContent","borderWidth","primary","red30","red10","grey10","width","height","s1","tintColor","white","text80","marginTop","alignSelf","lineHeight","textAlignVertical"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,GAAP,MAAgB,YAAhB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;;;;AAEA,SAASC,MAAT,EAAiBC,cAAjB,EAAiCC,YAAjC,EAA+CC,UAA/C,EAA2DC,QAA3D;AACA,OAAOC,MAAP;AACA,SAASC,UAAT;AACA,SAASC,SAAT,EAAoBC,eAApB;AAEA,SAASC,SAAT;AACA,OAAOC,IAAP;AACA,OAAOC,gBAAP;AACA,OAAOC,IAAP;AACA,OAAOC,IAAP;AACA,OAAOC,IAAP;AACA,SAASC,uBAAT,EAAkCC,mBAAlC,EAAuDC,cAAvD,EAAuEC,mBAAvE,EAA4FC,UAA5F;;;AACA,IAAMC,cAAc,GAAG,CAAvB;;IASMC,U;;;;;AAkFJ,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AADiB,UAHnBC,KAGmB,GAHXzB,KAAK,CAAC0B,SAAN,EAGW;AAAA,UAFnBC,SAEmB,GAFP3B,KAAK,CAAC0B,SAAN,EAEO;;AAAA,UAyCnBE,MAzCmB,GAyCV,YAAM;AAAA;;AACb,wBAKI,MAAKJ,KALT;AAAA,UACEK,WADF,eACEA,WADF;AAAA,UAEEC,gBAFF,eAEEA,gBAFF;AAAA,UAGEC,SAHF,eAGEA,SAHF;AAAA,UAISC,UAJT,eAIEC,KAJF;AAMA,wBAGI,MAAKC,KAHT;AAAA,UACEC,KADF,eACEA,KADF;AAAA,UAEEF,KAFF,eAEEA,KAFF;;AAKA,6BAAI,MAAKN,SAAT,sCAAI,gBAAgBS,OAApB,aAAI,sBAAyBC,WAA7B,EAA0C;AAAA;;AACxC,kCAAKV,SAAL,+DAAgBS,OAAhB,2CAAyBC,WAAzB;AACD;;AAED,UAAIP,gBAAJ,EAAsB;AACpB;AACD;;AAED,UAAI/B,CAAC,CAACuC,KAAF,CAAQH,KAAR,KAAkBpC,CAAC,CAACwC,OAAF,CAAUJ,KAAK,CAACK,IAAN,EAAV,CAAtB,EAA+C;AAC7C;AACD;;AAED,UAAIT,SAAS,IAAI,MAAKG,KAAL,CAAWD,KAAX,CAAiBQ,MAAjB,IAA2BV,SAA5C,EAAuD;AACrD,cAAKW,QAAL,CAAc;AACZP,UAAAA,KAAK,EAAE;AADK,SAAd;;AAGA;AACD;;AAED,UAAMQ,OAAO,GAAG5C,CAAC,CAAC6C,UAAF,CAAaf,WAAb,IAA4BA,WAAW,CAACM,KAAD,CAAvC,GAAiDH,UAAU,GAAG;AAC5Ea,QAAAA,KAAK,EAAEV;AADqE,OAAH,GAEvEA,KAFJ;AAGA,UAAMW,QAAQ,gCAAOb,KAAP,IAAcU,OAAd,EAAd;;AACA,YAAKD,QAAL,CAAc;AACZP,QAAAA,KAAK,EAAE,EADK;AAEZF,QAAAA,KAAK,EAAEa;AAFK,OAAd;;AAKA/C,MAAAA,CAAC,CAACgD,MAAF,CAAS,MAAKvB,KAAd,EAAqB,cAArB,EAAqCsB,QAArC,EAA+CvB,UAAU,CAACyB,mBAAX,CAA+BC,KAA9E,EAAqFN,OAArF;;AAEA,YAAKO,KAAL;AACD,KApFkB;;AAAA,UAwGnBC,YAxGmB,GAwGJ,UAAAC,SAAS,EAAI;AAC1B,YAAKV,QAAL,CAAc;AACZW,QAAAA,iBAAiB,EAAED;AADP,OAAd;AAGD,KA5GkB;;AAAA,UA6GnBE,YA7GmB,GA6GJvD,CAAC,CAACwD,QAAF,CAAW,UAAApB,KAAK,EAAI;AACjC,YAAKO,QAAL,CAAc;AACZP,QAAAA,KAAK,EAALA,KADY;AAEZkB,QAAAA,iBAAiB,EAAEG;AAFP,OAAd;;AAKAzD,MAAAA,CAAC,CAACgD,MAAF,CAAS,MAAKvB,KAAd,EAAqB,cAArB,EAAqCW,KAArC;AACD,KAPc,EAOZ,CAPY,CA7GI;;AAAA,UAuJnBsB,SAvJmB,GAuJP,YAAM;AAChB,yBAII,MAAKvB,KAJT;AAAA,UACEC,KADF,gBACEA,KADF;AAAA,UAEEF,KAFF,gBAEEA,KAFF;AAAA,UAGEoB,iBAHF,gBAGEA,iBAHF;;AAMA,UAAMK,SAAS,GAAG3D,CAAC,CAAC4D,IAAF,CAAO1B,KAAP,CAAlB;;AAEA,UAAM2B,UAAU,GAAG7D,CAAC,CAACwC,OAAF,CAAUJ,KAAV,CAAnB;;AAEA,UAAM0B,OAAO,GAAGH,SAAS,GAAG,CAA5B;AACA,UACEI,iBADF,GAEI,MAAKtC,KAFT,CACEsC,iBADF;;AAIA,UAAIA,iBAAJ,EAAuB;AACrB;AACD;;AAED,UAAIF,UAAU,IAAIC,OAAd,IAAyB9D,CAAC,CAACgE,WAAF,CAAcV,iBAAd,CAA7B,EAA+D;AAC7D,cAAKX,QAAL,CAAc;AACZW,UAAAA,iBAAiB,EAAEK,SAAS,GAAG;AADnB,SAAd;AAGD,OAJD,MAIO,IAAI,CAAC3D,CAAC,CAACgE,WAAF,CAAcV,iBAAd,CAAL,EAAuC;AAC5C,cAAKW,eAAL;AACD;AACF,KAlLkB;;AAAA,UAmLnBC,UAnLmB,GAmLN,UAAAC,KAAK,EAAI;AACpBnE,MAAAA,CAAC,CAACgD,MAAF,CAAS,MAAKvB,KAAd,EAAqB,YAArB,EAAmC0C,KAAnC;;AAEA,UAAMC,OAAO,GAAGpE,CAAC,CAACqE,GAAF,CAAMF,KAAN,EAAa,iBAAb,CAAhB;;AAEA,UAAMG,gBAAgB,GAAGF,OAAO,KAAK1D,SAAS,CAAC6D,YAA/C;;AAEA,UAAID,gBAAJ,EAAsB;AACpB,cAAKZ,SAAL;AACD;AACF,KA7LkB;;AAAA,UA8LnBc,QA9LmB,GA8LR,UAAAC,IAAI,EAAI;AACjB,UACED,QADF,GAEI,MAAK/C,KAFT,CACE+C,QADF;;AAIA,UAAIA,QAAJ,EAAc;AACZ,eAAOA,QAAQ,CAACC,IAAD,CAAf;AACD;;AAED,UAAIzE,CAAC,CAAC0E,QAAF,CAAWD,IAAX,CAAJ,EAAsB;AACpB,eAAOA,IAAP;AACD;;AAED,aAAOzE,CAAC,CAACqE,GAAF,CAAMI,IAAN,EAAY,OAAZ,CAAP;AACD,KA5MkB;;AAAA,UA6MnBE,OA7MmB,GA6MT,YAAM;AACd,YAAKhC,QAAL,CAAc;AACZiC,QAAAA,SAAS,EAAE;AADC,OAAd;AAGD,KAjNkB;;AAAA,UAkNnBC,MAlNmB,GAkNV,YAAM;AACb,YAAKlC,QAAL,CAAc;AACZiC,QAAAA,SAAS,EAAE;AADC,OAAd;AAGD,KAtNkB;;AAAA,UAqOnBE,SArOmB,GAqOP,UAACC,GAAD,EAAMC,KAAN,EAAgB;AAC1B,yBAGI,MAAKvD,KAHT;AAAA,UACEwD,QADF,gBACEA,QADF;AAAA,UAEEH,SAFF,gBAEEA,SAFF;AAIA,UACExB,iBADF,GAEI,MAAKnB,KAFT,CACEmB,iBADF;AAGA,UAAM4B,aAAa,GAAG5B,iBAAiB,KAAK0B,KAA5C;AACA,UAAMG,cAAc,GAAGJ,GAAG,CAACK,OAAJ,GAAcC,MAAM,CAACC,gBAArB,GAAwCD,MAAM,CAACE,SAAtE;AACA,UAAMC,eAAe,GAAGT,GAAG,CAACK,OAAJ,GAAcC,MAAM,CAACI,UAArB,GAAkCJ,MAAM,CAACN,GAAjE;;AAEA,UAAI/E,CAAC,CAAC6C,UAAF,CAAaiC,SAAb,CAAJ,EAA6B;AAC3B,eAAOA,SAAS,CAACC,GAAD,EAAMC,KAAN,EAAaE,aAAb,EAA4B,MAAKV,QAAL,CAAcO,GAAd,CAA5B,CAAhB;AACD;;AAED,aAAO,KAAC,IAAD;AAAkB,QAAA,KAAK,EAAE,CAACS,eAAD,EAAkBP,QAAlB,EAA4BS,aAA5B,EAA2CR,aAAa,IAAIC,cAA5D,CAAzB;AAAA,kBACF,MAAKQ,WAAL,CAAiBZ,GAAjB,EAAsBG,aAAtB;AADE,SAAWF,KAAX,CAAP;AAGD,KAxPkB;;AAAA,UAyPnBY,gBAzPmB,GAyPA,UAACb,GAAD,EAAMC,KAAN,EAAgB;AACjC,aAAO,KAAC,gBAAD;AAA8B,QAAA,aAAa,EAAE,CAA7C;AAAgD,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAKa,UAAL,CAAgBb,KAAhB,CAAN;AAAA,SAAzD;AAAuF,QAAA,iBAAiB,EAAE,CAAC,MAAKvD,KAAL,CAAWsC,iBAAZ,GAAgC,+BAAhC,GAAkEN,SAA5K;AAAA,kBACF,MAAKqB,SAAL,CAAeC,GAAf,EAAoBC,KAApB;AADE,SAAuBA,KAAvB,CAAP;AAGD,KA7PkB;;AAAA,UA8PnBc,aA9PmB,GA8PH,YAAM;AACpB,UACEC,gBADF,GAEI,MAAKtE,KAFT,CACEsE,gBADF;AAGA,yBAGI,MAAK5D,KAHT;AAAA,UACEmB,iBADF,gBACEA,iBADF;AAAA,UAEEpB,KAFF,gBAEEA,KAFF;AAIA,UAAM8D,QAAQ,GAAG1E,UAAU,CAAC,MAAKG,KAAN,CAA3B;AACA,aAAOzB,CAAC,CAACiG,GAAF,CAAM/D,KAAN,EAAa,UAACgE,IAAD,EAAOlB,KAAP,EAAiB;AACnC,YAAMmB,QAAQ,GAAG7C,iBAAiB,KAAK0B,KAAvC;AACA,YAAMoB,YAAY,GAAG/E,mBAAmB,CAAC6E,IAAD,EAAOC,QAAP,EAAiBJ,gBAAjB,CAAxC;AACA,eAAO,KAAC,IAAD;AAAM,UAAA,MAAM,MAAZ;AAAa,UAAA,KAAK,MAAlB;AAAmB,2BAAnB;AAA6B,2BAA7B;AAAA,oBACH,KAAC,IAAD;AAAkB,YAAA,cAAc,EAAE,CAACV,MAAM,CAACN,GAAR,EAAamB,IAAI,CAACd,OAAL,IAAgBC,MAAM,CAACI,UAApC,CAAlC;AAAmF,YAAA,UAAU,EAAE,CAACJ,MAAM,CAACgB,QAAR,EAAkBH,IAAI,CAACd,OAAL,IAAgBC,MAAM,CAACiB,YAAzC,EAAuDH,QAAQ,IAAI,CAAC,CAACD,IAAI,CAACd,OAAnB,IAA8BC,MAAM,CAACkB,uBAA5F;AAA/F,aAAyNL,IAAzN,GAAmOH,gBAAnO;AAAqP,YAAA,QAAQ,EAAEC,QAA/P;AAAyQ,8BAAzQ;AAAoR,6BAApR;AAA8R,YAAA,IAAI,EAAExF,MAAM,CAACgG,KAAP,CAAaC,CAAjT;AAAoT,YAAA,OAAO,EAAE,iBAAAzG,CAAC;AAAA,qBAAI,MAAK6F,UAAL,CAAgBb,KAAhB,CAAJ;AAAA,aAA9T;AAA0V,YAAA,SAAS,EAAEmB,QAAQ,GAAG;AAAA,qBAAM,MAAKN,UAAL,CAAgBb,KAAhB,CAAN;AAAA,aAAH,GAAkCvB,SAA/Y;AAA0Z,YAAA,YAAY,EAAE2C,YAAxa;AAAsb,YAAA,WAAW,EAAE5F,MAAM,CAACgG,KAAP,CAAaE,MAAhd;AAAwd,YAAA,gBAAgB,EAAErB,MAAM,CAACsB;AAAjf,cAAW3B,KAAX;AADG,UAAP;AAGD,OANM,CAAP;AAOD,KA9QkB;;AAAA,UA+QnB4B,eA/QmB,GA+QD,YAAM;AACtB,yBAGI,MAAKnF,KAHT;AAAA,UACEoF,KADF,gBACEA,KADF;AAAA,UAEEd,gBAFF,gBAEEA,gBAFF;AAIA,UAAMe,KAAK,GAAG,MAAK3E,KAAL,CAAWyC,SAAX,GAAuB1D,uBAAuB,CAAC,MAAKiB,KAAL,CAAWD,KAAZ,EAAmB6D,gBAAnB,CAA9C,GAAqF5F,MAAM,CAAC4G,MAA1G;AACA,aAAOF,KAAK,IAAI,KAAC,IAAD;AAAM,QAAA,OAAO,MAAb;AAAc,QAAA,KAAK,EAAEC,KAArB;AAAA,kBAA6BD;AAA7B,QAAhB;AACD,KAtRkB;;AAAA,UAuRnBG,WAvRmB,GAuRL,YAAM;AAClB,yBAGI,MAAKvF,KAHT;AAAA,UACEsC,iBADF,gBACEA,iBADF;AAAA,UAES9B,UAFT,gBAEEC,KAFF;AAIA,UACEA,KADF,GAEI,MAAKC,KAFT,CACED,KADF;AAGA,UAAM+E,cAAc,GAAGlD,iBAAiB,GAAG,MAAKe,SAAR,GAAoB,MAAKc,gBAAjE;;AAEA,UAAI3D,UAAJ,EAAgB;AACd,eAAO,MAAK6D,aAAL,EAAP;AACD,OAFD,MAEO;AAEL,eAAO9F,CAAC,CAACiG,GAAF,CAAM/D,KAAN,EAAa,UAAC6C,GAAD,EAAMC,KAAN,EAAgB;AAClC,iBAAO,KAAC,IAAD;AAAA,sBACFiC,cAAc,CAAClC,GAAD,EAAMC,KAAN;AADZ,YAAP;AAGD,SAJM,CAAP;AAKD;AACF,KA3SkB;;AAAA,UA4TnBkC,eA5TmB,GA4TD,YAAM;AACtB,yBAGI,MAAK/E,KAHT;AAAA,UACEyC,SADF,gBACEA,SADF;AAAA,UAEE1C,KAFF,gBAEEA,KAFF;AAIA,UACE6D,gBADF,GAEI,MAAKtE,KAFT,CACEsE,gBADF;AAGA,UAAMe,KAAK,GAAG5F,uBAAuB,CAACgB,KAAD,EAAQ6D,gBAAR,CAArC;AACA,aAAO,KAAC,IAAD;AAAM,QAAA,MAAM,EAAE,CAAd;AAAiB,0BAAjB;AAA4B,QAAA,eAAe,EAAEnB,SAAS,GAAGkC,KAAH,GAAW3G,MAAM,CAACgH;AAAxE,QAAP;AACD,KAtUkB;;AAAA,UA0VnBC,oBA1VmB,GA0VI,YAAM;AAC3B,yBAGI,MAAK3F,KAHT;AAAA,UACE4F,SADF,gBACEA,SADF;AAAA,UAEEC,eAFF,gBAEEA,eAFF;AAIA,UAAMC,SAAS,GAAGF,SAAS,GAAGG,UAAH,GAAgB3G,IAA3C;AACA,aAAO,MAAC,SAAD;AAAW,QAAA,GAAG,EAAE,MAAKe,SAArB;AAAgC,QAAA,4BAA4B,EAAE,KAA9D;AAAqE,QAAA,KAAK,EAAE,CAACyF,SAAD,IAAchC,MAAM,CAACoC,QAAjG;AAA2G,QAAA,qBAAqB,EAAEpC,MAAM,CAACoC;AAAzI,SAAuJH,eAAvJ;AAAA,mBACF,MAAKN,WAAL,EADE,EAEF,MAAKU,eAAL,EAFE;AAAA,SAAP;AAID,KApWkB;;AAEjB,UAAKvF,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAEX,KAAK,CAACW,KADF;AAEXF,MAAAA,KAAK,EAAElC,CAAC,CAAC2H,SAAF,CAAYlG,KAAK,CAACmG,IAAN,IAAcnG,KAAK,CAACS,KAAhC,KAA0C,EAFtC;AAGXoB,MAAAA,iBAAiB,EAAEG,SAHR;AAIXoE,MAAAA,YAAY,EAAEpG,KAAK,CAACmG,IAAN,IAAcnG,KAAK,CAACS,KAJvB;AAKX0C,MAAAA,SAAS,EAAE,8BAAKlD,KAAL,CAAWW,OAAX,yCAAoBuC,SAApB,OAAmC;AALnC,KAAb;AAOAnE,IAAAA,UAAU,CAACqH,wBAAX,CAAoC;AAClCC,MAAAA,YAAY,EAAE,YADoB;AAElCC,MAAAA,YAAY,EAAE;AAFoB,KAApC;AATiB;AAalB;;;;WAED,6BAAoB;AAClB,UAAItH,SAAS,CAACuH,SAAd,EAAyB;AACvB,YAAMC,eAAe,GAAGC,cAAc,CAAC,KAAKzG,KAAL,CAAWW,OAAZ,CAAtC;;AAEA,YAAI6F,eAAe,IAAIE,aAAa,CAACC,sBAArC,EAA6D;AAC3DD,UAAAA,aAAa,CAACC,sBAAd,CAAqCC,QAArC,CAA8CJ,eAA9C;AACD;AACF;AACF;;;WA+DD,2BAAkB;AAChB,yBAGI,KAAK/F,KAHT;AAAA,UACED,KADF,gBACEA,KADF;AAAA,UAEEoB,iBAFF,gBAEEA,iBAFF;;AAKA,UAAI,CAACtD,CAAC,CAACgE,WAAF,CAAcV,iBAAd,CAAL,EAAuC;AACrC,YAAMiF,UAAU,GAAGrG,KAAK,CAACoB,iBAAD,CAAxB;AACApB,QAAAA,KAAK,CAACsG,MAAN,CAAalF,iBAAb,EAAgC,CAAhC;AACA,aAAKX,QAAL,CAAc;AACZT,UAAAA,KAAK,EAALA,KADY;AAEZoB,UAAAA,iBAAiB,EAAEG;AAFP,SAAd;;AAKAzD,QAAAA,CAAC,CAACgD,MAAF,CAAS,KAAKvB,KAAd,EAAqB,cAArB,EAAqCS,KAArC,EAA4CV,UAAU,CAACyB,mBAAX,CAA+BwF,OAA3E,EAAoFF,UAApF;AACD;AACF;;;WAgBD,oBAAWvD,KAAX,EAAkB;AAChB,UACEa,UADF,GAEI,KAAKpE,KAFT,CACEoE,UADF;AAGA,UACEvC,iBADF,GAEI,KAAKnB,KAFT,CACEmB,iBADF;;AAIA,UAAIuC,UAAJ,EAAgB;AACdA,QAAAA,UAAU,CAACb,KAAD,EAAQ1B,iBAAR,CAAV;AACA;AACD;;AAGD,UAAIA,iBAAiB,KAAK0B,KAA1B,EAAiC;AAC/B,aAAKf,eAAL;AACD,OAFD,MAEO;AACL,aAAKb,YAAL,CAAkB4B,KAAlB;AACD;AACF;;;WAED,2BAAkB;AAChB,yBAGI,KAAK7C,KAHT;AAAA,UACED,KADF,gBACEA,KADF;AAAA,UAEEoB,iBAFF,gBAEEA,iBAFF;;AAKA,UAAMK,SAAS,GAAG3D,CAAC,CAAC4D,IAAF,CAAO1B,KAAP,CAAlB;;AAEA,UAAMwG,eAAe,GAAGpF,iBAAiB,KAAKK,SAAS,GAAG,CAA1D;AACA,aAAO+E,eAAP;AACD;;;WAmED,qBAAY3D,GAAZ,EAAiBG,aAAjB,EAAgC;AAC9B,UACEyD,UADF,GAEI,KAAKlH,KAAL,CAAWmH,SAFf,CACED,UADF;AAGA,UAAM7F,KAAK,GAAG,KAAK0B,QAAL,CAAcO,GAAd,CAAd;AACA,aAAO,MAAC,IAAD;AAAM,QAAA,GAAG,MAAT;AAAU,QAAA,OAAO,MAAjB;AAAA,mBACFG,aAAa,IAAI,KAAC,IAAD;AAAM,UAAA,KAAK,EAAE,CAACG,MAAM,CAACwD,UAAR,EAAoB9D,GAAG,CAACK,OAAJ,IAAeC,MAAM,CAACK,aAAtB,IAAuCL,MAAM,CAACyD,oBAAlE,CAAb;AAAsG,UAAA,MAAM,EAAEtI,MAAM,CAACgG,KAAP,CAAaC;AAA3H,UADf,EAEH,KAAC,IAAD;AAAM,UAAA,KAAK,EAAE,CAAC1B,GAAG,CAACK,OAAJ,GAAcF,aAAa,GAAGG,MAAM,CAACkB,uBAAV,GAAoClB,MAAM,CAACiB,YAAtE,GAAqFjB,MAAM,CAACgB,QAA7F,EAAuGsC,UAAvG,CAAb;AAAiI,UAAA,kBAAkB,EAAK7F,KAAL,SAAnJ;AAAA,oBACG,CAACiC,GAAG,CAACK,OAAL,IAAgBF,aAAhB,GAAgC,QAAhC,GAA2CpC;AAD9C,UAFG;AAAA,QAAP;AAMD;;;WA0ED,6BAAoB;AAClB,UACEd,SADF,GAEI,KAAKP,KAFT,CACEO,SADF;AAGA,UAAM+G,OAAO,GAAG,KAAK5G,KAAL,CAAWD,KAAX,CAAiBQ,MAAjC;;AAEA,UAAIV,SAAJ,EAAe;AACb,YAAM8E,KAAK,GAAG3F,mBAAmB,CAAC,KAAKgB,KAAL,CAAWD,KAAZ,EAAmB,KAAKT,KAAxB,CAAjC;AACA,YAAMuH,WAAW,GAAG5H,cAAc,CAAC2H,OAAD,EAAU/G,SAAV,CAAlC;AACA,eAAO,KAAC,IAAD;AAAM,UAAA,KAAK,EAAE8E,KAAb;AAAoB,UAAA,KAAK,EAAEzB,MAAM,CAACvC,KAAlC;AAAyC,UAAA,kBAAkB,EAAKiG,OAAL,gBAAuB/G,SAAvB,eAA3D;AAAA,oBACFgH;AADE,UAAP;AAGD;AACF;;;WAcD,2BAAkB;AAChB,yBAKI,KAAKvH,KALT;AAAA,UACEwH,UADF,gBACEA,UADF;AAAA,UAEEC,cAFF,gBAEEA,cAFF;AAAA,UAGErC,KAHF,gBAGEA,KAHF;AAAA,UAIKsC,MAJL;;AAMA,UACE/G,KADF,GAEI,KAAKD,KAFT,CACEC,KADF;AAGA,UAAMsG,eAAe,GAAG,KAAKA,eAAL,EAAxB;AACA,aAAO,KAAC,IAAD;AAAM,QAAA,KAAK,EAAErD,MAAM,CAAC+D,YAApB;AAAA,kBACH,KAAC,SAAD;AAAW,UAAA,GAAG,EAAE,KAAK1H,KAArB;AAA4B,UAAA,MAAM,MAAlC;AAAmC,UAAA,YAAY,EAAE;AAAjD,WAA4DyH,MAA5D;AAAoE,UAAA,SAAS,EAAE1F,SAA/E;AAA0F,UAAA,KAAK,EAAE,KAAKhC,KAAL,CAAWS,KAAX,GAAmBuB,SAAnB,GAA+BoD,KAAhI;AAAuI,UAAA,KAAK,EAAEzE,KAA9I;AAAqJ,UAAA,eAAe,EAAE,KAAKP,MAA3K;AAAmL,UAAA,YAAY,EAAE,KAAK0B,YAAtM;AAAoN,UAAA,UAAU,EAAE,KAAKW,UAArO;AAAiP,UAAA,YAAY,EAAE,KAA/P;AAAsQ,UAAA,OAAO,EAAE,KAAKS,OAApR;AAA6R,UAAA,MAAM,EAAE,KAAKE,MAA1S;AAAkT,UAAA,aAAa,MAA/T;AAAgU,UAAA,cAAc,EAAE6D,eAAe,GAAG,aAAH,GAAmBQ,cAAlX;AAAkY,UAAA,KAAK,EAAE,CAACD,UAAD,EAAa5D,MAAM,CAACgE,eAApB,CAAzY;AAA+a,UAAA,cAAc,EAAE;AAC/bC,YAAAA,QAAQ,EAAE;AADqb,WAA/b;AAEC,UAAA,WAAW,EAAE,KAFd;AAEqB,UAAA,iBAAiB,EAAE,CAAC,KAAK7H,KAAL,CAAWsC,iBAAZ,GAAgC,iDAAhC,GAAoFN;AAF5H;AADG,QAAP;AAKD;;;WAcD,kBAAS;AACP,yBAOI,KAAKhC,KAPT;AAAA,UACE8H,cADF,gBACEA,cADF;AAAA,UAEEC,aAFF,gBAEEA,aAFF;AAAA,UAGEC,sBAHF,gBAGEA,sBAHF;AAAA,UAIEC,WAJF,gBAIEA,WAJF;AAAA,UAKErC,SALF,gBAKEA,SALF;AAAA,UAMEnF,KANF,gBAMEA,KANF;AAQA,UACEoB,iBADF,GAEI,KAAKnB,KAFT,CACEmB,iBADF;AAGA,aAAO,MAAC,IAAD;AAAM,QAAA,KAAK,EAAE,CAAC,CAACkG,aAAD,IAAkBnE,MAAM,CAACsE,aAA1B,EAAyCJ,cAAzC,CAAb;AAAA,mBACF,CAAC,CAACrH,KAAF,IAAW,KAAK0E,eAAL,EADT,EAEH,MAAC,IAAD;AAAM,UAAA,KAAK,EAAE,CAACvB,MAAM,CAACuE,gBAAR,EAA0B;AACvCvC,YAAAA,SAAS,EAATA;AADuC,WAA1B,CAAb;AAAA,qBAGGqC,WAHH,EAIG,KAAKtC,oBAAL,EAJH;AAAA,UAFG,EAQF,CAACoC,aAAD,IAAkB,KAAKtC,eAAL,EARhB,EASF,KAAK2C,iBAAL,EATE,EAUFJ,sBAAsB,GAAG,KAAC,IAAD;AAAA,oBACpB,KAAC,IAAD;AAAM,YAAA,KAAK,EAAE,CAACpE,MAAM,CAACiB,YAAR,EAAsB,CAAC,CAAChD,iBAAF,IAAuB+B,MAAM,CAACkB,uBAApD,CAAb;AAAA,sBACGkD;AADH;AADoB,UAAH,GAIT,IAdX;AAAA,QAAP;AAgBD;;;WAED,gBAAO;AAAA;;AACL,mCAAK/H,KAAL,CAAWW,OAAX,0CAAoByH,IAApB;AACD;;;WAED,iBAAQ;AAAA;;AACN,mCAAKpI,KAAL,CAAWW,OAAX,0CAAoB0H,KAApB;AACD;;;WAED,iBAAQ;AAAA;;AACN,mCAAKrI,KAAL,CAAWW,OAAX,0CAAoBc,KAApB;AACD;;;WArXD,kCAAgC6G,SAAhC,EAA2CC,SAA3C,EAAsD;AACpD,UACErC,IADF,GAGIoC,SAHJ,CACEpC,IADF;AAAA,UAEE1F,KAFF,GAGI8H,SAHJ,CAEE9H,KAFF;;AAKA,UAAI0F,IAAI,IAAIA,IAAI,KAAKqC,SAAS,CAACpC,YAA3B,IAA2C3F,KAAK,IAAIA,KAAK,KAAK+H,SAAS,CAACpC,YAA5E,EAA0F;AACxF,eAAO;AACLA,UAAAA,YAAY,EAAEmC,SAAS,CAACpC,IAAV,IAAkBoC,SAAS,CAAC9H,KADrC;AAELA,UAAAA,KAAK,EAAE8H,SAAS,CAACpC,IAAV,IAAkBoC,SAAS,CAAC9H;AAF9B,SAAP;AAID;;AAED,aAAO,IAAP;AACD;;;;EAzHsBhC,S;;AAAnBsB,U,CACG0I,S,GAAY;AAIjBtC,EAAAA,IAAI,EAAE7H,GAAG,CAACoK,OAAJ,CAAYpK,GAAG,CAACqK,GAAhB,CAJW;AASjBlI,EAAAA,KAAK,EAAEnC,GAAG,CAACsK,KATM;AAcjB7F,EAAAA,QAAQ,EAAEzE,GAAG,CAACuK,IAdG;AAmBjBxF,EAAAA,SAAS,EAAE/E,GAAG,CAACuK,IAnBE;AAwBjBC,EAAAA,YAAY,EAAExK,GAAG,CAACuK,IAxBD;AA6BjBxI,EAAAA,WAAW,EAAE/B,GAAG,CAACuK,IA7BA;AAkCjBzE,EAAAA,UAAU,EAAE9F,GAAG,CAACuK,IAlCC;AAuCjBb,EAAAA,sBAAsB,EAAE1J,GAAG,CAACyK,MAvCX;AA4CjBzG,EAAAA,iBAAiB,EAAEhE,GAAG,CAAC0K,IA5CN;AAiDjB1I,EAAAA,gBAAgB,EAAEhC,GAAG,CAAC0K,IAjDL;AAsDjBjB,EAAAA,aAAa,EAAEzJ,GAAG,CAAC0K,IAtDF;AA2DjBzI,EAAAA,SAAS,EAAEjC,GAAG,CAAC2K,MA3DE;AAgEjBrD,EAAAA,SAAS,EAAEtH,GAAG,CAAC2K,MAhEE;AAqEjBhB,EAAAA,WAAW,EAAE3J,GAAG,CAAC4K,SAAJ,CAAc,CAAC5K,GAAG,CAAC6K,OAAL,EAAc7K,GAAG,CAACoK,OAAJ,CAAYpK,GAAG,CAAC6K,OAAhB,CAAd,CAAd,CArEI;AAsEjBxI,EAAAA,KAAK,EAAErC,GAAG,CAACqK,GAtEM;AAuEjBlB,EAAAA,cAAc,EAAEnJ,GAAG,CAAC4K,SAAJ,CAAc,CAAC5K,GAAG,CAACyK,MAAL,EAAazK,GAAG,CAAC2K,MAAjB,CAAd;AAvEC,C;AADflJ,U,CA0EGqJ,W,GAAc,Y;AA1EjBrJ,U,CA2EGyB,mB,GAAsB;AAC3BC,EAAAA,KAAK,EAAE,OADoB;AAE3BuF,EAAAA,OAAO,EAAE;AAFkB,C;AAyZ/B,SAASjH,UAAT;AAEA,eAAeb,eAAe,CAACa,UAAD,CAA9B;AACA,IAAMkE,aAAa,GAAG;AACpBoF,EAAAA,YAAY,EAAE1K,cAAc,CAAC2K,KADT;AAEpBC,EAAAA,eAAe,EAAE,GAFG;AAGpBC,EAAAA,iBAAiB,EAAE,EAHC;AAIpBC,EAAAA,WAAW,EAAE3J,cAJO;AAKpB4J,EAAAA,cAAc,EAAE5J,cAAc,GAAG;AALb,CAAtB;AAOA,IAAM8D,MAAM,GAAG+F,UAAU,CAACC,MAAX,CAAkB;AAC/B1B,EAAAA,aAAa,EAAE;AACb2B,IAAAA,iBAAiB,EAAEF,UAAU,CAACG,aADjB;AAEbC,IAAAA,WAAW,EAAEnL,YAAY,CAACoL;AAFb,GADgB;AAK/BhE,EAAAA,QAAQ,EAAE;AACRiE,IAAAA,SAAS,EAAE,EADH;AAERC,IAAAA,eAAe,EAAE,aAFT;AAGRC,IAAAA,aAAa,EAAE,KAHP;AAIRC,IAAAA,QAAQ,EAAE;AAJF,GALqB;AAW/BjC,EAAAA,gBAAgB,EAAE;AAChB+B,IAAAA,eAAe,EAAE,aADD;AAEhBC,IAAAA,aAAa,EAAE,KAFC;AAGhBC,IAAAA,QAAQ,EAAE;AAHM,GAXa;AAgB/BzC,EAAAA,YAAY,EAAE;AACZE,IAAAA,QAAQ,EAAE,CADE;AAEZwC,IAAAA,QAAQ,EAAE,GAFE;AAGZH,IAAAA,eAAe,EAAE,aAHL;AAIZI,IAAAA,cAAc,EAAE;AAJJ,GAhBiB;AAsB/BhH,EAAAA,GAAG,EAAE;AACHiH,IAAAA,WAAW,EAAE,CADV;AAEHhB,IAAAA,eAAe,EAAE,CAFd;AAGHW,IAAAA,eAAe,EAAExL,MAAM,CAAC8L;AAHrB,GAtB0B;AA2B/BxG,EAAAA,UAAU,EAAE;AACVuG,IAAAA,WAAW,EAAE,CADH;AAEVR,IAAAA,WAAW,EAAErL,MAAM,CAAC+L,KAFV;AAGVP,IAAAA,eAAe,EAAE;AAHP,GA3BmB;AAgC/BjG,EAAAA,aAAa,oBAAOA,aAAP,CAhCkB;AAkC/BJ,EAAAA,gBAAgB,EAAE;AAChBkG,IAAAA,WAAW,EAAErL,MAAM,CAACgM;AADJ,GAlCa;AAqC/B5G,EAAAA,SAAS,EAAE;AACToG,IAAAA,eAAe,EAAExL,MAAM,CAACiM;AADf,GArCoB;AAwC/BzF,EAAAA,gBAAgB,EAAE;AAChB0F,IAAAA,KAAK,EAAE,EADS;AAEhBC,IAAAA,MAAM,EAAE,EAFQ;AAGhBpB,IAAAA,WAAW,EAAE3K,QAAQ,CAACgM;AAHN,GAxCa;AA6C/B1D,EAAAA,UAAU,EAAE;AACV2D,IAAAA,SAAS,EAAErM,MAAM,CAACsM,KADR;AAEVJ,IAAAA,KAAK,EAAE,EAFG;AAGVC,IAAAA,MAAM,EAAE,EAHE;AAIVpB,IAAAA,WAAW,EAAE;AAJH,GA7CmB;AAmD/BpC,EAAAA,oBAAoB,EAAE;AACpB0D,IAAAA,SAAS,EAAErM,MAAM,CAACgM;AADE,GAnDS;AAsD/B9F,EAAAA,QAAQ,kCAAO/F,UAAU,CAACoM,MAAlB;AACN5F,IAAAA,KAAK,EAAE3G,MAAM,CAACsM;AADR,IAtDuB;AAyD/BnG,EAAAA,YAAY,kCAAOhG,UAAU,CAACoM,MAAlB;AACV5F,IAAAA,KAAK,EAAE3G,MAAM,CAAC+L;AADJ,IAzDmB;AA4D/B3F,EAAAA,uBAAuB,EAAE;AACvBO,IAAAA,KAAK,EAAE3G,MAAM,CAACgM;AADS,GA5DM;AA+D/BrJ,EAAAA,KAAK;AACH6J,IAAAA,SAAS,EAAEpM,QAAQ,CAACgM,EADjB;AAEHK,IAAAA,SAAS,EAAE,UAFR;AAGHN,IAAAA,MAAM,sBAAEhM,UAAU,CAACoM,MAAb,qBAAE,iBAAmBG;AAHxB,KAIAvM,UAAU,CAACoM,MAJX,CA/D0B;AAqE/BrD,EAAAA,eAAe,EAAE;AACfyD,IAAAA,iBAAiB,EAAE;AADJ;AArEc,CAAlB,CAAf","sourcesContent":["import _pt from \"prop-types\";\nimport _ from 'lodash';\nimport React, { Component } from 'react';\nimport { NativeModules, StyleSheet, findNodeHandle, ScrollView } from 'react-native';\nimport { Colors, BorderRadiuses, ThemeManager, Typography, Spacings } from \"../../style\";\nimport Assets from \"../../assets\";\nimport { LogService } from \"../../services\";\nimport { Constants, asBaseComponent } from \"../../commons/new\"; // @ts-expect-error\n\nimport { TextField } from \"../inputs\";\nimport View from \"../view\";\nimport TouchableOpacity from \"../touchableOpacity\";\nimport Text from \"../text\";\nimport Chip from \"../chip\";\nimport Icon from \"../icon\";\nimport { getValidationBasedColor, getCounterTextColor, getCounterText, getChipDismissColor, isDisabled } from \"./Presenter\";\nconst GUTTER_SPACING = 8;\n\n/**\n * @description: Chips input component\n * @modifiers: Typography\n * @gif: https://github.com/wix/react-native-ui-lib/blob/master/demo/showcase/ChipsInput/ChipsInput.gif?raw=true\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/ChipsInputScreen.tsx\n * @extends: TextField\n */\nclass ChipsInput extends Component {\n  static propTypes = {\n    /**\n      * DEPRECATED: use chips instead. list of tags. can be string boolean or custom object when implementing getLabel\n      */\n    tags: _pt.arrayOf(_pt.any),\n\n    /**\n      * list of tags. can be string boolean or custom object when implementing getLabel\n      */\n    chips: _pt.array,\n\n    /**\n       * callback for extracting the label out of the tag item\n       */\n    getLabel: _pt.func,\n\n    /**\n       * DEPRECATED: use chips instead. callback for custom rendering tag item\n       */\n    renderTag: _pt.func,\n\n    /**\n       * callback for onChangeTags event\n       */\n    onChangeTags: _pt.func,\n\n    /**\n       * DEPRECATED: use chips instead. callback for creating new tag out of input value (good for composing tag object)\n       */\n    onCreateTag: _pt.func,\n\n    /**\n       * DEPRECATED: use chips instead. callback for when pressing a tag in the following format (tagIndex, markedTagIndex) => {...}\n       */\n    onTagPress: _pt.func,\n\n    /**\n       * validation message error appears when tag isn't validate\n       */\n    validationErrorMessage: _pt.string,\n\n    /**\n       * if true, tags *removal* Ux won't be available\n       */\n    disableTagRemoval: _pt.bool,\n\n    /**\n       * if true, tags *adding* Ux (i.e. by 'submitting' the input text) won't be available\n       */\n    disableTagAdding: _pt.bool,\n\n    /**\n       * should hide input underline\n       */\n    hideUnderline: _pt.bool,\n\n    /**\n       *  Maximum numbers of chips \n       */\n    maxLength: _pt.number,\n\n    /** \n       * Chips inside a ScrollView \n       */\n    maxHeight: _pt.number,\n\n    /**\n       * Custom element before the chips, for example 'search' icon, 'To:' label etc' \n       */\n    leftElement: _pt.oneOfType([_pt.element, _pt.arrayOf(_pt.element)]),\n    value: _pt.any,\n    selectionColor: _pt.oneOfType([_pt.string, _pt.number])\n  };\n  static displayName = 'ChipsInput';\n  static onChangeTagsActions = {\n    ADDED: 'added',\n    REMOVED: 'removed'\n  };\n  input = React.createRef();\n  scrollRef = React.createRef();\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: props.value,\n      chips: _.cloneDeep(props.tags || props.chips) || [],\n      chipIndexToRemove: undefined,\n      initialChips: props.tags || props.chips,\n      isFocused: this.input.current?.isFocused() || false\n    };\n    LogService.componentDeprecationWarn({\n      oldComponent: 'ChipsInput',\n      newComponent: 'Incubator.ChipsInput'\n    });\n  }\n\n  componentDidMount() {\n    if (Constants.isAndroid) {\n      const textInputHandle = findNodeHandle(this.input.current);\n\n      if (textInputHandle && NativeModules.TextInputDelKeyHandler) {\n        NativeModules.TextInputDelKeyHandler.register(textInputHandle);\n      }\n    }\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      tags,\n      chips\n    } = nextProps;\n\n    if (tags && tags !== prevState.initialChips || chips && chips !== prevState.initialChips) {\n      return {\n        initialChips: nextProps.tags || nextProps.chips,\n        chips: nextProps.tags || nextProps.chips\n      };\n    }\n\n    return null;\n  }\n\n  addTag = () => {\n    const {\n      onCreateTag,\n      disableTagAdding,\n      maxLength,\n      chips: chipsProps\n    } = this.props;\n    const {\n      value,\n      chips\n    } = this.state;\n\n    if (this.scrollRef?.current?.scrollToEnd) {\n      this.scrollRef?.current?.scrollToEnd();\n    }\n\n    if (disableTagAdding) {\n      return;\n    }\n\n    if (_.isNil(value) || _.isEmpty(value.trim())) {\n      return;\n    }\n\n    if (maxLength && this.state.chips.length >= maxLength) {\n      this.setState({\n        value: ''\n      });\n      return;\n    }\n\n    const newChip = _.isFunction(onCreateTag) ? onCreateTag(value) : chipsProps ? {\n      label: value\n    } : value;\n    const newChips = [...chips, newChip];\n    this.setState({\n      value: '',\n      chips: newChips\n    });\n\n    _.invoke(this.props, 'onChangeTags', newChips, ChipsInput.onChangeTagsActions.ADDED, newChip);\n\n    this.clear();\n  };\n\n  removeMarkedTag() {\n    const {\n      chips,\n      chipIndexToRemove\n    } = this.state;\n\n    if (!_.isUndefined(chipIndexToRemove)) {\n      const removedTag = chips[chipIndexToRemove];\n      chips.splice(chipIndexToRemove, 1);\n      this.setState({\n        chips,\n        chipIndexToRemove: undefined\n      });\n\n      _.invoke(this.props, 'onChangeTags', chips, ChipsInput.onChangeTagsActions.REMOVED, removedTag);\n    }\n  }\n\n  markTagIndex = chipIndex => {\n    this.setState({\n      chipIndexToRemove: chipIndex\n    });\n  };\n  onChangeText = _.debounce(value => {\n    this.setState({\n      value,\n      chipIndexToRemove: undefined\n    });\n\n    _.invoke(this.props, 'onChangeText', value);\n  }, 0);\n\n  onTagPress(index) {\n    const {\n      onTagPress\n    } = this.props;\n    const {\n      chipIndexToRemove\n    } = this.state; // custom press handler\n\n    if (onTagPress) {\n      onTagPress(index, chipIndexToRemove);\n      return;\n    } // default press handler\n\n\n    if (chipIndexToRemove === index) {\n      this.removeMarkedTag();\n    } else {\n      this.markTagIndex(index);\n    }\n  }\n\n  isLastTagMarked() {\n    const {\n      chips,\n      chipIndexToRemove\n    } = this.state;\n\n    const tagsCount = _.size(chips);\n\n    const isLastTagMarked = chipIndexToRemove === tagsCount - 1;\n    return isLastTagMarked;\n  }\n\n  removeTag = () => {\n    const {\n      value,\n      chips,\n      chipIndexToRemove\n    } = this.state;\n\n    const tagsCount = _.size(chips);\n\n    const hasNoValue = _.isEmpty(value);\n\n    const hasTags = tagsCount > 0;\n    const {\n      disableTagRemoval\n    } = this.props;\n\n    if (disableTagRemoval) {\n      return;\n    }\n\n    if (hasNoValue && hasTags && _.isUndefined(chipIndexToRemove)) {\n      this.setState({\n        chipIndexToRemove: tagsCount - 1\n      });\n    } else if (!_.isUndefined(chipIndexToRemove)) {\n      this.removeMarkedTag();\n    }\n  };\n  onKeyPress = event => {\n    _.invoke(this.props, 'onKeyPress', event);\n\n    const keyCode = _.get(event, 'nativeEvent.key');\n\n    const pressedBackspace = keyCode === Constants.backspaceKey;\n\n    if (pressedBackspace) {\n      this.removeTag();\n    }\n  };\n  getLabel = item => {\n    const {\n      getLabel\n    } = this.props;\n\n    if (getLabel) {\n      return getLabel(item);\n    }\n\n    if (_.isString(item)) {\n      return item;\n    }\n\n    return _.get(item, 'label');\n  };\n  onFocus = () => {\n    this.setState({\n      isFocused: true\n    });\n  };\n  onBlur = () => {\n    this.setState({\n      isFocused: false\n    });\n  };\n\n  renderLabel(tag, shouldMarkTag) {\n    const {\n      typography\n    } = this.props.modifiers;\n    const label = this.getLabel(tag);\n    return <View row centerV>\n        {shouldMarkTag && <Icon style={[styles.removeIcon, tag.invalid && styles.basicTagStyle && styles.invalidTagRemoveIcon]} source={Assets.icons.x} />}\n        <Text style={[tag.invalid ? shouldMarkTag ? styles.errorMessageWhileMarked : styles.errorMessage : styles.tagLabel, typography]} accessibilityLabel={`${label} tag`}>\n          {!tag.invalid && shouldMarkTag ? 'Remove' : label}\n        </Text>\n      </View>;\n  }\n\n  renderTag = (tag, index) => {\n    const {\n      tagStyle,\n      renderTag\n    } = this.props;\n    const {\n      chipIndexToRemove\n    } = this.state;\n    const shouldMarkTag = chipIndexToRemove === index;\n    const markedTagStyle = tag.invalid ? styles.invalidMarkedTag : styles.tagMarked;\n    const defaultTagStyle = tag.invalid ? styles.invalidTag : styles.tag;\n\n    if (_.isFunction(renderTag)) {\n      return renderTag(tag, index, shouldMarkTag, this.getLabel(tag));\n    }\n\n    return <View key={index} style={[defaultTagStyle, tagStyle, basicTagStyle, shouldMarkTag && markedTagStyle]}>\n        {this.renderLabel(tag, shouldMarkTag)}\n      </View>;\n  };\n  renderTagWrapper = (tag, index) => {\n    return <TouchableOpacity key={index} activeOpacity={1} onPress={() => this.onTagPress(index)} accessibilityHint={!this.props.disableTagRemoval ? 'tap twice for remove tag mode' : undefined}>\n        {this.renderTag(tag, index)}\n      </TouchableOpacity>;\n  };\n  renderNewChip = () => {\n    const {\n      defaultChipProps\n    } = this.props;\n    const {\n      chipIndexToRemove,\n      chips\n    } = this.state;\n    const disabled = isDisabled(this.props);\n    return _.map(chips, (chip, index) => {\n      const selected = chipIndexToRemove === index;\n      const dismissColor = getChipDismissColor(chip, selected, defaultChipProps);\n      return <View center flexS marginT-2 marginB-2>\n          <Chip key={index} containerStyle={[styles.tag, chip.invalid && styles.invalidTag]} labelStyle={[styles.tagLabel, chip.invalid && styles.errorMessage, selected && !!chip.invalid && styles.errorMessageWhileMarked]} {...chip} {...defaultChipProps} disabled={disabled} marginR-s2 marginT-2 left={Assets.icons.x} onPress={_ => this.onTagPress(index)} onDismiss={selected ? () => this.onTagPress(index) : undefined} dismissColor={dismissColor} dismissIcon={Assets.icons.xSmall} dismissIconStyle={styles.dismissIconStyle} />\n        </View>;\n    });\n  };\n  renderTitleText = () => {\n    const {\n      title,\n      defaultChipProps\n    } = this.props;\n    const color = this.state.isFocused ? getValidationBasedColor(this.state.chips, defaultChipProps) : Colors.grey30;\n    return title && <Text text70L color={color}>{title}</Text>;\n  };\n  renderChips = () => {\n    const {\n      disableTagRemoval,\n      chips: chipsProps\n    } = this.props;\n    const {\n      chips\n    } = this.state;\n    const renderFunction = disableTagRemoval ? this.renderTag : this.renderTagWrapper;\n\n    if (chipsProps) {\n      return this.renderNewChip();\n    } else {\n      // The old way of creating the 'Chip' internally \n      return _.map(chips, (tag, index) => {\n        return <View>\n            {renderFunction(tag, index)}\n          </View>;\n      });\n    }\n  };\n\n  renderCharCounter() {\n    const {\n      maxLength\n    } = this.props;\n    const counter = this.state.chips.length;\n\n    if (maxLength) {\n      const color = getCounterTextColor(this.state.chips, this.props);\n      const counterText = getCounterText(counter, maxLength);\n      return <Text color={color} style={styles.label} accessibilityLabel={`${counter} out of ${maxLength} max chips`}>\n          {counterText}\n        </Text>;\n    }\n  }\n\n  renderUnderline = () => {\n    const {\n      isFocused,\n      chips\n    } = this.state;\n    const {\n      defaultChipProps\n    } = this.props;\n    const color = getValidationBasedColor(chips, defaultChipProps);\n    return <View height={1} marginT-10 backgroundColor={isFocused ? color : Colors.grey50} />;\n  };\n\n  renderTextInput() {\n    const {\n      inputStyle,\n      selectionColor,\n      title,\n      ...others\n    } = this.props;\n    const {\n      value\n    } = this.state;\n    const isLastTagMarked = this.isLastTagMarked();\n    return <View style={styles.inputWrapper}>\n        <TextField ref={this.input} text80 blurOnSubmit={false} {...others} maxLength={undefined} title={this.props.chips ? undefined : title} value={value} onSubmitEditing={this.addTag} onChangeText={this.onChangeText} onKeyPress={this.onKeyPress} enableErrors={false} onFocus={this.onFocus} onBlur={this.onBlur} hideUnderline selectionColor={isLastTagMarked ? 'transparent' : selectionColor} style={[inputStyle, styles.alignTextCenter]} containerStyle={{\n        flexGrow: 0\n      }} collapsable={false} accessibilityHint={!this.props.disableTagRemoval ? 'press keyboard delete button to remove last tag' : undefined} />\n      </View>;\n  }\n\n  renderChipsContainer = () => {\n    const {\n      maxHeight,\n      scrollViewProps\n    } = this.props;\n    const Container = maxHeight ? ScrollView : View;\n    return <Container ref={this.scrollRef} showsVerticalScrollIndicator={false} style={!maxHeight && styles.tagsList} contentContainerStyle={styles.tagsList} {...scrollViewProps}>\n        {this.renderChips()}\n        {this.renderTextInput()}\n      </Container>;\n  };\n\n  render() {\n    const {\n      containerStyle,\n      hideUnderline,\n      validationErrorMessage,\n      leftElement,\n      maxHeight,\n      chips\n    } = this.props;\n    const {\n      chipIndexToRemove\n    } = this.state;\n    return <View style={[!hideUnderline && styles.withUnderline, containerStyle]}>\n        {!!chips && this.renderTitleText()}\n        <View style={[styles.tagListContainer, {\n        maxHeight\n      }]}>\n          {leftElement}\n          {this.renderChipsContainer()}\n        </View>\n        {!hideUnderline && this.renderUnderline()}\n        {this.renderCharCounter()}\n        {validationErrorMessage ? <View>\n              <Text style={[styles.errorMessage, !!chipIndexToRemove && styles.errorMessageWhileMarked]}>\n                {validationErrorMessage}\n              </Text>\n            </View> : null}\n      </View>;\n  }\n\n  blur() {\n    this.input.current?.blur();\n  }\n\n  focus() {\n    this.input.current?.focus();\n  }\n\n  clear() {\n    this.input.current?.clear();\n  }\n\n}\n\nexport { ChipsInput }; // For tests\n\nexport default asBaseComponent(ChipsInput);\nconst basicTagStyle = {\n  borderRadius: BorderRadiuses.br100,\n  paddingVertical: 4.5,\n  paddingHorizontal: 12,\n  marginRight: GUTTER_SPACING,\n  marginVertical: GUTTER_SPACING / 2\n};\nconst styles = StyleSheet.create({\n  withUnderline: {\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    borderColor: ThemeManager.dividerColor\n  },\n  tagsList: {\n    minHeight: 38,\n    backgroundColor: 'transparent',\n    flexDirection: 'row',\n    flexWrap: 'wrap'\n  },\n  tagListContainer: {\n    backgroundColor: 'transparent',\n    flexDirection: 'row',\n    flexWrap: 'nowrap'\n  },\n  inputWrapper: {\n    flexGrow: 1,\n    minWidth: 120,\n    backgroundColor: 'transparent',\n    justifyContent: 'center'\n  },\n  tag: {\n    borderWidth: 0,\n    paddingVertical: 5,\n    backgroundColor: Colors.primary\n  },\n  invalidTag: {\n    borderWidth: 1,\n    borderColor: Colors.red30,\n    backgroundColor: 'transparent'\n  },\n  basicTagStyle: { ...basicTagStyle\n  },\n  invalidMarkedTag: {\n    borderColor: Colors.red10\n  },\n  tagMarked: {\n    backgroundColor: Colors.grey10\n  },\n  dismissIconStyle: {\n    width: 10,\n    height: 10,\n    marginRight: Spacings.s1\n  },\n  removeIcon: {\n    tintColor: Colors.white,\n    width: 10,\n    height: 10,\n    marginRight: 6\n  },\n  invalidTagRemoveIcon: {\n    tintColor: Colors.red10\n  },\n  tagLabel: { ...Typography.text80,\n    color: Colors.white\n  },\n  errorMessage: { ...Typography.text80,\n    color: Colors.red30\n  },\n  errorMessageWhileMarked: {\n    color: Colors.red10\n  },\n  label: {\n    marginTop: Spacings.s1,\n    alignSelf: 'flex-end',\n    height: Typography.text80?.lineHeight,\n    ...Typography.text80\n  },\n  alignTextCenter: {\n    textAlignVertical: 'center'\n  }\n});"]},"metadata":{},"sourceType":"module"}