{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport _ from 'lodash';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Typography, Colors, Scheme, BorderRadiuses, Spacings, ThemeManager } from \"../style\";\nexport var FLEX_KEY_PATTERN = /^flex(G|S)?(-\\d*)?$/;\nexport var PADDING_KEY_PATTERN = new RegExp(\"padding[LTRBHV]?-([0-9]*|\" + Spacings.getKeysPattern() + \")\");\nexport var MARGIN_KEY_PATTERN = new RegExp(\"margin[LTRBHV]?-([0-9]*|\" + Spacings.getKeysPattern() + \")\");\nexport var ALIGNMENT_KEY_PATTERN = /(left|top|right|bottom|center|centerV|centerH|spread)/;\nexport var POSITION_KEY_PATTERN = /^abs([F|L|R|T|B|V|H])?$/;\nvar PADDING_VARIATIONS = {\n  padding: 'padding',\n  paddingL: 'paddingLeft',\n  paddingT: 'paddingTop',\n  paddingR: 'paddingRight',\n  paddingB: 'paddingBottom',\n  paddingH: 'paddingHorizontal',\n  paddingV: 'paddingVertical'\n};\nvar MARGIN_VARIATIONS = {\n  margin: 'margin',\n  marginL: 'marginLeft',\n  marginT: 'marginTop',\n  marginR: 'marginRight',\n  marginB: 'marginBottom',\n  marginH: 'marginHorizontal',\n  marginV: 'marginVertical'\n};\nvar STYLE_KEY_CONVERTERS = {\n  flex: 'flex',\n  flexG: 'flexGrow',\n  flexS: 'flexShrink'\n};\nexport function extractColorValue(props) {\n  var schemeColors = Scheme.getScheme();\n  var allColorsKeys = [].concat(_toConsumableArray(_.keys(Colors)), _toConsumableArray(_.keys(schemeColors)));\n  var colorPropsKeys = Object.keys(props).filter(function (key) {\n    return _.includes(allColorsKeys, key);\n  });\n\n  var colorKey = _.findLast(colorPropsKeys, function (colorKey) {\n    return props[colorKey] === true;\n  });\n\n  return schemeColors[colorKey] || Colors[colorKey];\n}\nexport function extractBackgroundColorValue(props) {\n  var backgroundColor;\n  var schemeColors = Scheme.getScheme();\n  var keys = Object.keys(props);\n\n  var bgProp = _.findLast(keys, function (prop) {\n    return Colors.getBackgroundKeysPattern().test(prop) && !!props[prop];\n  });\n\n  if (props[bgProp]) {\n    var key = bgProp.replace(Colors.getBackgroundKeysPattern(), '');\n    backgroundColor = schemeColors[key] || Colors[key];\n  }\n\n  return backgroundColor;\n}\nexport function extractTypographyValue(props) {\n  var typographyPropsKeys = Object.keys(props).filter(function (key) {\n    return Typography.getKeysPattern().test(key);\n  });\n  var typography;\n\n  _.forEach(typographyPropsKeys, function (key) {\n    if (props[key] === true) {\n      typography = _objectSpread(_objectSpread({}, typography), Typography[key]);\n    }\n  });\n\n  return typography;\n}\nexport function extractPaddingValues(props) {\n  var paddings = {};\n  var paddingPropsKeys = Object.keys(props).filter(function (key) {\n    return PADDING_KEY_PATTERN.test(key);\n  });\n\n  _.forEach(paddingPropsKeys, function (key) {\n    if (props[key] === true) {\n      var _key$split = key.split('-'),\n          _key$split2 = _slicedToArray(_key$split, 2),\n          paddingKey = _key$split2[0],\n          paddingValue = _key$split2[1];\n\n      var paddingVariation = PADDING_VARIATIONS[paddingKey];\n\n      if (!isNaN(Number(paddingValue))) {\n        paddings[paddingVariation] = Number(paddingValue);\n      } else if (Spacings.getKeysPattern().test(paddingValue)) {\n        paddings[paddingVariation] = Spacings[paddingValue];\n      }\n    }\n  });\n\n  return paddings;\n}\nexport function extractMarginValues(props) {\n  var margins = {};\n  var marginPropsKeys = Object.keys(props).filter(function (key) {\n    return MARGIN_KEY_PATTERN.test(key);\n  });\n\n  _.forEach(marginPropsKeys, function (key) {\n    if (props[key] === true) {\n      var _key$split3 = key.split('-'),\n          _key$split4 = _slicedToArray(_key$split3, 2),\n          marginKey = _key$split4[0],\n          marginValue = _key$split4[1];\n\n      var paddingVariation = MARGIN_VARIATIONS[marginKey];\n\n      if (!isNaN(Number(marginValue))) {\n        margins[paddingVariation] = Number(marginValue);\n      } else if (Spacings.getKeysPattern().test(marginValue)) {\n        margins[paddingVariation] = Spacings[marginValue];\n      }\n    }\n  });\n\n  return margins;\n}\nexport function extractAlignmentsValues(props) {\n  var row = props.row,\n      center = props.center;\n  var alignments = {};\n  var alignmentRules = {};\n\n  if (row) {\n    alignments.flexDirection = 'row';\n    alignmentRules.justifyContent = ['left', 'right', 'centerH', 'spread'];\n    alignmentRules.alignItems = ['top', 'bottom', 'centerV'];\n  } else {\n    alignmentRules.justifyContent = ['top', 'bottom', 'centerV', 'spread'];\n    alignmentRules.alignItems = ['left', 'right', 'centerH'];\n  }\n\n  _.forEach(alignmentRules, function (positions, attribute) {\n    _.forEach(positions, function (position) {\n      if (props[position]) {\n        if (_.includes(['top', 'left'], position)) {\n          alignments[attribute] = 'flex-start';\n        } else if (_.includes(['bottom', 'right'], position)) {\n          alignments[attribute] = 'flex-end';\n        } else if (_.includes(['centerH', 'centerV'], position)) {\n          alignments[attribute] = 'center';\n        } else if (position === 'spread') {\n          alignments[attribute] = 'space-between';\n        }\n      }\n    });\n  });\n\n  if (center) {\n    alignments.justifyContent = 'center';\n    alignments.alignItems = 'center';\n  }\n\n  return alignments;\n}\nexport function extractPositionStyle(props) {\n  var POSITION_CONVERSIONS = {\n    F: 'Fill',\n    T: 'Top',\n    B: 'Bottom',\n    L: 'Left',\n    R: 'Right',\n    H: 'Horizontal',\n    V: 'Vertical'\n  };\n  var keys = Object.keys(props);\n\n  var positionProps = _.filter(keys, function (prop) {\n    return POSITION_KEY_PATTERN.test(prop) && !!props[prop];\n  });\n\n  var style = {};\n\n  _.forEach(positionProps, function (positionProp) {\n    var positionVariationKey = _.split(positionProp, 'abs')[1];\n\n    if (positionVariationKey) {\n      var positionVariation = POSITION_CONVERSIONS[positionVariationKey];\n      var styleKey = \"absolute\" + positionVariation;\n      style = _objectSpread(_objectSpread({}, style), styles[styleKey]);\n    }\n\n    style = _objectSpread(_objectSpread({}, style), styles.absolute);\n  });\n\n  return _.isEmpty(style) ? undefined : style;\n}\nexport function extractFlexStyle(props) {\n  var keys = Object.keys(props);\n  var flexProp = keys.find(function (item) {\n    return FLEX_KEY_PATTERN.test(item);\n  });\n\n  if (flexProp && props[flexProp] === true) {\n    var _flexProp$split = flexProp.split('-'),\n        _flexProp$split2 = _slicedToArray(_flexProp$split, 2),\n        flexKey = _flexProp$split2[0],\n        flexValue = _flexProp$split2[1];\n\n    var convertedFlexKey = STYLE_KEY_CONVERTERS[flexKey];\n    var flexValueAsNumber = _.isEmpty(flexValue) ? 1 : Number(flexValue);\n    return _defineProperty({}, convertedFlexKey, flexValueAsNumber);\n  }\n}\nexport function extractAccessibilityProps() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n  return _.pickBy(props, function (_value, key) {\n    return /.*ccessib.*/.test(key);\n  });\n}\nexport function extractAnimationProps() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n  return _.pick(props, ['animation', 'duration', 'delay', 'direction', 'easing', 'iterationCount', 'transition', 'onAnimationBegin', 'onAnimationEnd', 'useNativeDriver']);\n}\nexport function extractBorderRadiusValue(props) {\n  var borderRadius;\n  var keys = Object.keys(props);\n  var radiusProp = keys.find(function (prop) {\n    return BorderRadiuses.getKeysPattern().test(prop) && props[prop];\n  });\n\n  if (radiusProp) {\n    borderRadius = BorderRadiuses[radiusProp];\n  }\n\n  return borderRadius;\n}\nexport function extractModifierProps(props) {\n  var patterns = [FLEX_KEY_PATTERN, PADDING_KEY_PATTERN, MARGIN_KEY_PATTERN, ALIGNMENT_KEY_PATTERN, Colors.getBackgroundKeysPattern()];\n\n  var modifierProps = _.pickBy(props, function (_value, key) {\n    var isModifier = _.find(patterns, function (pattern) {\n      return pattern.test(key);\n    });\n\n    return !!isModifier;\n  });\n\n  return modifierProps;\n}\nexport function extractOwnProps(props, ignoreProps) {\n  var ownPropTypes = this.propTypes;\n\n  var ownProps = _.flow(function (props) {\n    return _.pickBy(props, function (_value, key) {\n      return _.includes(Object.keys(ownPropTypes), key);\n    });\n  }, function (props) {\n    return _.omit(props, ignoreProps);\n  })(props);\n\n  return ownProps;\n}\nexport function extractComponentProps(component, props) {\n  var ignoreProps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n  var componentPropTypes = component.propTypes;\n\n  var componentProps = _.flow(function (props) {\n    return _.pickBy(props, function (_value, key) {\n      return _.includes(Object.keys(componentPropTypes), key);\n    });\n  }, function (props) {\n    return _.omit(props, ignoreProps);\n  })(props);\n\n  return componentProps;\n}\nexport function getThemeProps() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.context;\n  var componentName = this.displayName || this.constructor.displayName || this.constructor.name;\n  var themeProps;\n\n  if (_.isFunction(ThemeManager.components[componentName])) {\n    themeProps = ThemeManager.components[componentName](props, context);\n  } else {\n    themeProps = ThemeManager.components[componentName];\n  }\n\n  var forcedThemeProps;\n\n  if (_.isFunction(ThemeManager.forcedThemeComponents[componentName])) {\n    forcedThemeProps = ThemeManager.forcedThemeComponents[componentName](props, context);\n  } else {\n    forcedThemeProps = ThemeManager.forcedThemeComponents[componentName];\n  }\n\n  return _objectSpread(_objectSpread(_objectSpread({}, themeProps), props), forcedThemeProps);\n}\nexport function generateModifiersStyle() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    color: true,\n    typography: true,\n    backgroundColor: true,\n    borderRadius: true,\n    paddings: true,\n    margins: true,\n    alignments: true,\n    flex: true,\n    position: true\n  };\n  var props = arguments.length > 1 ? arguments[1] : undefined;\n  var boundProps = props || this.props;\n  var style = {};\n\n  if (options.color) {\n    style.color = extractColorValue(boundProps);\n  }\n\n  if (options.typography) {\n    style.typography = extractTypographyValue(boundProps);\n  }\n\n  if (options.backgroundColor) {\n    style.backgroundColor = extractBackgroundColorValue(boundProps);\n  }\n\n  if (options.borderRadius) {\n    style.borderRadius = extractBorderRadiusValue(boundProps);\n  }\n\n  if (options.paddings) {\n    style.paddings = extractPaddingValues(boundProps);\n  }\n\n  if (options.margins) {\n    style.margins = extractMarginValues(boundProps);\n  }\n\n  if (options.alignments) {\n    style.alignments = extractAlignmentsValues(boundProps);\n  }\n\n  if (options.flex) {\n    style.flexStyle = extractFlexStyle(boundProps);\n  }\n\n  if (options.position) {\n    style.positionStyle = extractPositionStyle(boundProps);\n  }\n\n  return style;\n}\nexport function getAlteredModifiersOptions(currentProps, nextProps) {\n  var ignoredKeys = ['children', 'forwardedRef', 'style', 'testID'];\n\n  var allKeys = _.union([].concat(_toConsumableArray(_.keys(currentProps)), _toConsumableArray(_.keys(nextProps)))).filter(function (key) {\n    return !ignoredKeys.includes(key);\n  });\n\n  var changedKeys = _.filter(allKeys, function (key) {\n    return !_.isEqual(currentProps[key], nextProps[key]);\n  });\n\n  var options = {};\n\n  if (_.find(changedKeys, function (key) {\n    return FLEX_KEY_PATTERN.test(key);\n  })) {\n    options.flex = true;\n  }\n\n  if (_.find(changedKeys, function (key) {\n    return PADDING_KEY_PATTERN.test(key);\n  })) {\n    options.paddings = true;\n  }\n\n  if (_.find(changedKeys, function (key) {\n    return MARGIN_KEY_PATTERN.test(key);\n  })) {\n    options.margins = true;\n  }\n\n  if (_.find(changedKeys, function (key) {\n    return ALIGNMENT_KEY_PATTERN.test(key);\n  })) {\n    options.alignments = true;\n  }\n\n  if (_.find(changedKeys, function (key) {\n    return Colors.getBackgroundKeysPattern().test(key);\n  })) {\n    options.backgroundColor = true;\n  }\n\n  if (_.find(changedKeys, function (key) {\n    return POSITION_KEY_PATTERN.test(key);\n  })) {\n    options.position = true;\n  }\n\n  return options;\n}\nvar styles = StyleSheet.create({\n  absolute: {\n    position: 'absolute'\n  },\n  absoluteFill: StyleSheet.absoluteFillObject,\n  absoluteTop: {\n    position: 'absolute',\n    top: 0\n  },\n  absoluteBottom: {\n    position: 'absolute',\n    bottom: 0\n  },\n  absoluteLeft: {\n    position: 'absolute',\n    left: 0\n  },\n  absoluteRight: {\n    position: 'absolute',\n    right: 0\n  },\n  absoluteVertical: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0\n  },\n  absoluteHorizontal: {\n    position: 'absolute',\n    left: 0,\n    right: 0\n  }\n});","map":{"version":3,"sources":["/Users/aliabji/code/dogs/Pawls/node_modules/react-native-ui-lib/src/commons/modifiers.js"],"names":["_","Typography","Colors","Scheme","BorderRadiuses","Spacings","ThemeManager","FLEX_KEY_PATTERN","PADDING_KEY_PATTERN","RegExp","getKeysPattern","MARGIN_KEY_PATTERN","ALIGNMENT_KEY_PATTERN","POSITION_KEY_PATTERN","PADDING_VARIATIONS","padding","paddingL","paddingT","paddingR","paddingB","paddingH","paddingV","MARGIN_VARIATIONS","margin","marginL","marginT","marginR","marginB","marginH","marginV","STYLE_KEY_CONVERTERS","flex","flexG","flexS","extractColorValue","props","schemeColors","getScheme","allColorsKeys","keys","colorPropsKeys","Object","filter","key","includes","colorKey","findLast","extractBackgroundColorValue","backgroundColor","bgProp","prop","getBackgroundKeysPattern","test","replace","extractTypographyValue","typographyPropsKeys","typography","forEach","extractPaddingValues","paddings","paddingPropsKeys","split","paddingKey","paddingValue","paddingVariation","isNaN","Number","extractMarginValues","margins","marginPropsKeys","marginKey","marginValue","extractAlignmentsValues","row","center","alignments","alignmentRules","flexDirection","justifyContent","alignItems","positions","attribute","position","extractPositionStyle","POSITION_CONVERSIONS","F","T","B","L","R","H","V","positionProps","style","positionProp","positionVariationKey","positionVariation","styleKey","styles","absolute","isEmpty","undefined","extractFlexStyle","flexProp","find","item","flexKey","flexValue","convertedFlexKey","flexValueAsNumber","extractAccessibilityProps","pickBy","_value","extractAnimationProps","pick","extractBorderRadiusValue","borderRadius","radiusProp","extractModifierProps","patterns","modifierProps","isModifier","pattern","extractOwnProps","ignoreProps","ownPropTypes","propTypes","ownProps","flow","omit","extractComponentProps","component","componentPropTypes","componentProps","getThemeProps","context","componentName","displayName","constructor","name","themeProps","isFunction","components","forcedThemeProps","forcedThemeComponents","generateModifiersStyle","options","color","boundProps","flexStyle","positionStyle","getAlteredModifiersOptions","currentProps","nextProps","ignoredKeys","allKeys","union","changedKeys","isEqual","StyleSheet","create","absoluteFill","absoluteFillObject","absoluteTop","top","absoluteBottom","bottom","absoluteLeft","left","absoluteRight","right","absoluteVertical","absoluteHorizontal"],"mappings":"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","sourcesContent":["import _ from 'lodash';\nimport { StyleSheet } from 'react-native';\nimport { Typography, Colors, Scheme, BorderRadiuses, Spacings, ThemeManager } from \"../style\";\nexport const FLEX_KEY_PATTERN = /^flex(G|S)?(-\\d*)?$/;\nexport const PADDING_KEY_PATTERN = new RegExp(`padding[LTRBHV]?-([0-9]*|${Spacings.getKeysPattern()})`);\nexport const MARGIN_KEY_PATTERN = new RegExp(`margin[LTRBHV]?-([0-9]*|${Spacings.getKeysPattern()})`);\nexport const ALIGNMENT_KEY_PATTERN = /(left|top|right|bottom|center|centerV|centerH|spread)/;\nexport const POSITION_KEY_PATTERN = /^abs([F|L|R|T|B|V|H])?$/;\nconst PADDING_VARIATIONS = {\n  padding: 'padding',\n  paddingL: 'paddingLeft',\n  paddingT: 'paddingTop',\n  paddingR: 'paddingRight',\n  paddingB: 'paddingBottom',\n  paddingH: 'paddingHorizontal',\n  paddingV: 'paddingVertical'\n};\nconst MARGIN_VARIATIONS = {\n  margin: 'margin',\n  marginL: 'marginLeft',\n  marginT: 'marginTop',\n  marginR: 'marginRight',\n  marginB: 'marginBottom',\n  marginH: 'marginHorizontal',\n  marginV: 'marginVertical'\n};\nconst STYLE_KEY_CONVERTERS = {\n  flex: 'flex',\n  flexG: 'flexGrow',\n  flexS: 'flexShrink'\n};\nexport function extractColorValue(props) {\n  const schemeColors = Scheme.getScheme();\n  const allColorsKeys = [..._.keys(Colors), ..._.keys(schemeColors)];\n  const colorPropsKeys = Object.keys(props).filter(key => _.includes(allColorsKeys, key));\n\n  const colorKey = _.findLast(colorPropsKeys, colorKey => props[colorKey] === true);\n\n  return schemeColors[colorKey] || Colors[colorKey];\n}\nexport function extractBackgroundColorValue(props) {\n  let backgroundColor;\n  const schemeColors = Scheme.getScheme();\n  const keys = Object.keys(props);\n\n  const bgProp = _.findLast(keys, prop => Colors.getBackgroundKeysPattern().test(prop) && !!props[prop]);\n\n  if (props[bgProp]) {\n    const key = bgProp.replace(Colors.getBackgroundKeysPattern(), '');\n    backgroundColor = schemeColors[key] || Colors[key];\n  }\n\n  return backgroundColor;\n}\nexport function extractTypographyValue(props) {\n  const typographyPropsKeys = Object.keys(props).filter(key => Typography.getKeysPattern().test(key));\n  let typography;\n\n  _.forEach(typographyPropsKeys, key => {\n    if (props[key] === true) {\n      typography = { ...typography,\n        ...Typography[key]\n      };\n    }\n  });\n\n  return typography;\n}\nexport function extractPaddingValues(props) {\n  const paddings = {};\n  const paddingPropsKeys = Object.keys(props).filter(key => PADDING_KEY_PATTERN.test(key));\n\n  _.forEach(paddingPropsKeys, key => {\n    if (props[key] === true) {\n      const [paddingKey, paddingValue] = key.split('-');\n      const paddingVariation = PADDING_VARIATIONS[paddingKey];\n\n      if (!isNaN(Number(paddingValue))) {\n        paddings[paddingVariation] = Number(paddingValue);\n      } else if (Spacings.getKeysPattern().test(paddingValue)) {\n        paddings[paddingVariation] = Spacings[paddingValue];\n      }\n    }\n  });\n\n  return paddings;\n}\nexport function extractMarginValues(props) {\n  const margins = {};\n  const marginPropsKeys = Object.keys(props).filter(key => MARGIN_KEY_PATTERN.test(key));\n\n  _.forEach(marginPropsKeys, key => {\n    if (props[key] === true) {\n      const [marginKey, marginValue] = key.split('-');\n      const paddingVariation = MARGIN_VARIATIONS[marginKey];\n\n      if (!isNaN(Number(marginValue))) {\n        margins[paddingVariation] = Number(marginValue);\n      } else if (Spacings.getKeysPattern().test(marginValue)) {\n        margins[paddingVariation] = Spacings[marginValue];\n      }\n    }\n  });\n\n  return margins;\n}\nexport function extractAlignmentsValues(props) {\n  const {\n    row,\n    center\n  } = props;\n  const alignments = {};\n  const alignmentRules = {};\n\n  if (row) {\n    alignments.flexDirection = 'row';\n    alignmentRules.justifyContent = ['left', 'right', 'centerH', 'spread'];\n    alignmentRules.alignItems = ['top', 'bottom', 'centerV'];\n  } else {\n    alignmentRules.justifyContent = ['top', 'bottom', 'centerV', 'spread'];\n    alignmentRules.alignItems = ['left', 'right', 'centerH'];\n  }\n\n  _.forEach(alignmentRules, (positions, attribute) => {\n    _.forEach(positions, position => {\n      if (props[position]) {\n        if (_.includes(['top', 'left'], position)) {\n          alignments[attribute] = 'flex-start';\n        } else if (_.includes(['bottom', 'right'], position)) {\n          alignments[attribute] = 'flex-end';\n        } else if (_.includes(['centerH', 'centerV'], position)) {\n          alignments[attribute] = 'center';\n        } else if (position === 'spread') {\n          alignments[attribute] = 'space-between';\n        }\n      }\n    });\n  });\n\n  if (center) {\n    alignments.justifyContent = 'center';\n    alignments.alignItems = 'center';\n  }\n\n  return alignments;\n}\nexport function extractPositionStyle(props) {\n  const POSITION_CONVERSIONS = {\n    F: 'Fill',\n    T: 'Top',\n    B: 'Bottom',\n    L: 'Left',\n    R: 'Right',\n    H: 'Horizontal',\n    V: 'Vertical'\n  };\n  const keys = Object.keys(props);\n\n  const positionProps = _.filter(keys, prop => POSITION_KEY_PATTERN.test(prop) && !!props[prop]);\n\n  let style = {};\n\n  _.forEach(positionProps, positionProp => {\n    const positionVariationKey = _.split(positionProp, 'abs')[1];\n\n    if (positionVariationKey) {\n      const positionVariation = POSITION_CONVERSIONS[positionVariationKey];\n      const styleKey = `absolute${positionVariation}`;\n      style = { ...style,\n        ...styles[styleKey]\n      };\n    }\n\n    style = { ...style,\n      ...styles.absolute\n    };\n  });\n\n  return _.isEmpty(style) ? undefined : style;\n}\nexport function extractFlexStyle(props) {\n  const keys = Object.keys(props);\n  const flexProp = keys.find(item => FLEX_KEY_PATTERN.test(item));\n\n  if (flexProp && props[flexProp] === true) {\n    const [flexKey, flexValue] = flexProp.split('-');\n    const convertedFlexKey = STYLE_KEY_CONVERTERS[flexKey];\n    const flexValueAsNumber = _.isEmpty(flexValue) ? 1 : Number(flexValue);\n    return {\n      [convertedFlexKey]: flexValueAsNumber\n    };\n  }\n} //@ts-ignore\n\nexport function extractAccessibilityProps(props = this.props) {\n  return _.pickBy(props, (_value, key) => {\n    return /.*ccessib.*/.test(key);\n  });\n} //@ts-ignore\n\nexport function extractAnimationProps(props = this.props) {\n  return _.pick(props, ['animation', 'duration', 'delay', 'direction', 'easing', 'iterationCount', 'transition', 'onAnimationBegin', 'onAnimationEnd', 'useNativeDriver']);\n}\nexport function extractBorderRadiusValue(props) {\n  let borderRadius;\n  const keys = Object.keys(props);\n  const radiusProp = keys.find(prop => BorderRadiuses.getKeysPattern().test(prop) && props[prop]);\n\n  if (radiusProp) {\n    borderRadius = BorderRadiuses[radiusProp];\n  }\n\n  return borderRadius;\n}\nexport function extractModifierProps(props) {\n  const patterns = [FLEX_KEY_PATTERN, PADDING_KEY_PATTERN, MARGIN_KEY_PATTERN, ALIGNMENT_KEY_PATTERN, Colors.getBackgroundKeysPattern()];\n\n  const modifierProps = _.pickBy(props, (_value, key) => {\n    const isModifier = _.find(patterns, pattern => pattern.test(key));\n\n    return !!isModifier;\n  });\n\n  return modifierProps;\n}\n/**\n * TODO:\n * @deprecated switch to Modifiers#extractComponentProps\n */\n\nexport function extractOwnProps(props, ignoreProps) {\n  //@ts-ignore\n  const ownPropTypes = this.propTypes;\n\n  const ownProps = _.flow(props => _.pickBy(props, (_value, key) => _.includes(Object.keys(ownPropTypes), key)), props => _.omit(props, ignoreProps))(props);\n\n  return ownProps;\n}\nexport function extractComponentProps(component, props, ignoreProps = []) {\n  const componentPropTypes = component.propTypes;\n\n  const componentProps = _.flow(props => _.pickBy(props, (_value, key) => _.includes(Object.keys(componentPropTypes), key)), props => _.omit(props, ignoreProps))(props);\n\n  return componentProps;\n} //@ts-ignore\n\nexport function getThemeProps(props = this.props, context = this.context) {\n  //@ts-ignore\n  const componentName = this.displayName || this.constructor.displayName || this.constructor.name;\n  let themeProps;\n\n  if (_.isFunction(ThemeManager.components[componentName])) {\n    themeProps = ThemeManager.components[componentName](props, context);\n  } else {\n    themeProps = ThemeManager.components[componentName];\n  }\n\n  let forcedThemeProps;\n\n  if (_.isFunction(ThemeManager.forcedThemeComponents[componentName])) {\n    forcedThemeProps = ThemeManager.forcedThemeComponents[componentName](props, context);\n  } else {\n    forcedThemeProps = ThemeManager.forcedThemeComponents[componentName];\n  }\n\n  return { ...themeProps,\n    ...props,\n    ...forcedThemeProps\n  };\n}\nexport function generateModifiersStyle(options = {\n  color: true,\n  typography: true,\n  backgroundColor: true,\n  borderRadius: true,\n  paddings: true,\n  margins: true,\n  alignments: true,\n  flex: true,\n  position: true\n}, props) {\n  //@ts-ignore\n  const boundProps = props || this.props;\n  const style = {};\n\n  if (options.color) {\n    style.color = extractColorValue(boundProps);\n  }\n\n  if (options.typography) {\n    style.typography = extractTypographyValue(boundProps);\n  }\n\n  if (options.backgroundColor) {\n    style.backgroundColor = extractBackgroundColorValue(boundProps);\n  }\n\n  if (options.borderRadius) {\n    style.borderRadius = extractBorderRadiusValue(boundProps);\n  }\n\n  if (options.paddings) {\n    style.paddings = extractPaddingValues(boundProps);\n  }\n\n  if (options.margins) {\n    style.margins = extractMarginValues(boundProps);\n  }\n\n  if (options.alignments) {\n    style.alignments = extractAlignmentsValues(boundProps);\n  }\n\n  if (options.flex) {\n    style.flexStyle = extractFlexStyle(boundProps);\n  }\n\n  if (options.position) {\n    style.positionStyle = extractPositionStyle(boundProps);\n  }\n\n  return style; // clean empty objects and undefined\n  // (!) This change is currently breaking UI layout for some reason - worth investigating\n  // return _.omitBy(style, value => _.isUndefined(value) || (_.isPlainObject(value) && _.isEmpty(value)));\n}\nexport function getAlteredModifiersOptions(currentProps, nextProps) {\n  const ignoredKeys = ['children', 'forwardedRef', 'style', 'testID'];\n\n  const allKeys = _.union([..._.keys(currentProps), ..._.keys(nextProps)]).filter(key => !ignoredKeys.includes(key));\n\n  const changedKeys = _.filter(allKeys, key => !_.isEqual(currentProps[key], nextProps[key]));\n\n  const options = {};\n\n  if (_.find(changedKeys, key => FLEX_KEY_PATTERN.test(key))) {\n    options.flex = true;\n  }\n\n  if (_.find(changedKeys, key => PADDING_KEY_PATTERN.test(key))) {\n    options.paddings = true;\n  }\n\n  if (_.find(changedKeys, key => MARGIN_KEY_PATTERN.test(key))) {\n    options.margins = true;\n  }\n\n  if (_.find(changedKeys, key => ALIGNMENT_KEY_PATTERN.test(key))) {\n    options.alignments = true;\n  }\n\n  if (_.find(changedKeys, key => Colors.getBackgroundKeysPattern().test(key))) {\n    options.backgroundColor = true;\n  }\n\n  if (_.find(changedKeys, key => POSITION_KEY_PATTERN.test(key))) {\n    options.position = true;\n  }\n\n  return options;\n}\nconst styles = StyleSheet.create({\n  absolute: {\n    position: 'absolute'\n  },\n  absoluteFill: StyleSheet.absoluteFillObject,\n  absoluteTop: {\n    position: 'absolute',\n    top: 0\n  },\n  absoluteBottom: {\n    position: 'absolute',\n    bottom: 0\n  },\n  absoluteLeft: {\n    position: 'absolute',\n    left: 0\n  },\n  absoluteRight: {\n    position: 'absolute',\n    right: 0\n  },\n  absoluteVertical: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0\n  },\n  absoluteHorizontal: {\n    position: 'absolute',\n    left: 0,\n    right: 0\n  }\n});"]},"metadata":{},"sourceType":"module"}